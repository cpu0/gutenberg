CR-209226 


• Final Report • /A /-^3 


Research to Support 
Intelligent Data Management 


NASA Contract Number: NAS5-32893 
Firm Name: KT-Tech, Incorporated 
Firm Address: 9801 Greenbelt Road 

Suite 314 

Lanham, MD 20706 
Period: April 1995-October 1998 




Table of Contents 


Introduction 1 

Contract Performance and Analysis of the Results Obtained During Year 1 3 

Contract Performance and Analysis of the Results Obtained During Year 2 23 

Contract Performance and Analysis of the Results Obtained During Year 3 33 

Contract Performance and Analysis of the Results Obtained During Year 4 61 

Appendix A 64 


l 



Introduction 


The number of images including remote sensing data, mammograms, CAT scans, NMR’s, 
fingerprints, commercial radar, etc., generated daily in both the public and the private sector is 
increasing dramatically. Digital scanners and other devices are used to convert these images to 
digital arrays allowing them to be represented on a computer. Furthermore, digitized images are 
transmitted over various channels of communication and stored on computers and other mass 
storage devices, such as CD's and external disks. Storage and transmission of such data requires 
large capacity and/or bandwidth that can be cost prohibitive. Hence, full and timely utilization of 
this large database of images requires efficient storage and retrieval. Image compression where 
an image can be stored in 5% or less of its original size with no loss of essential information has 
had a great impact on these problems. 

In image processing systems, frequently a problem arises when images taken at different 
times, by different sensors, and/or from different viewing points need to be compared. These 
images need to be aligned with one another in order to detect the differences between them. A 
similar problem occurs when searching for a template or prototype in another image. The proper 
alignment between the image and the template must be found in order to obtain the optimal 
match for the template. Such problems can be solved by methods that perform image 
registration. For performing registration, a transformation must be obtained to relate the ground 
control points (features in the image that are employed for registration) in one image to their 
corresponding points in the other image. 

During future earth and space missions large amounts of remotely sensed data with 
diverse temporal, spatial and spectral components will be obtained. Hence, the need for fast, 
accurate, and reliable compression and registration techniques will grow increasingly. As a 
consequence, during the first two years of this contract, KT-Tech's NASA COTR directed KT- 
Tech to the area of registration of such data. 


PROPRIETARY 
© KT-Tech, Incorporated 


1 


10/30/98 



During the second year of contract, the COTR directed KT-Tech to lead the task of 
porting the RVC software system ( which included the major modules of user interface, ingest, 
planner/scheduler/dispatcher and its curator submodule, and database) from the original HP 
environment to a more generic SUN UNIX environment. Since KT-Tech had developed core 
expertise in software prototyping, test and evaluation, the COTR utilized KT-Tech in the trusted 
high-level position to comprehend the system design, overall logic of the RVC system, and to 
ensure the robustness of the modularized system for porting to numerous environments. The KT- 
Tech document ”RVC Software Module Improvement Report” (in Appendix A) which specified 
the requirements for the porting activity in the context of the entire RVC system, was evaluated 
by the COTR as an important and pivotal initial document for the RVC documentation of 
requirements and specifications. By September 1997, KT-Tech successfully completed the initial 
porting onto a SUN environment, and this accomplishment was announced with a technical 
briefing at the NASA/Goddard Code 935 RVC Workshop. KT-Tech continued porting the 
software modules as new versions became available, and prepared the interfaces for potential 
porting to SGI UNIX, Windows NT and LINUX systems which the government was considering 
for potential future environments. 

In the following sections, yearly contract performance, the results obtained and the 
analysis of the results will be presented. 


PROPRIETARY 
© KT-Tech, Incorporated 


2 


10/30/98 



Contract Performance and Analysis of the Results Obtained During Year 1 


Employing satellite imagery, during the period April 18 - April 30, 1995, KT-Tech began 
investigating the application of the morphological image operators for feature extraction and the 
application of wavelet techniques for compression and registration of multi sensor data. 

As a part of its contract deliverable with NASA, during the period May 1 - May 31,1 995, 
KT-Tech implemented the Lemer Algebraic Edge Detector (LAED) on a massively parallel 
computer, e.g. MasPar MP-1. The algorithm was applied to satellite imagery and the quantitative 
analysis of the results obtained by the LAED and other conventional edge detection algorithms, 
such as Sobel and Prewitt edge detectors, were performed. 

During the period June 1 - June 30, 1995, KT-Tech implemented, as a part of its contract 
deliverable with NASA, the Lemer Algebraic Edge Detector (LAED) on its Sun Sparc IPX 
workstation in order to perform the analysis of the remote sensing data obtained from NASA 
locally. In addition to the LAED, conventional edge detectors such as Sobel and Prewitt edge 
detectors were realized on the Sun Sparc IPX workstation for comparison purposes. The 
algorithms were applied to composed imagery (Hannah with Hat) and satellite imagery (Pacific 
Northwest) and a comparative analysis of the results obtained by the LAED and the other 
conventional edge detection algorithms, Sobel and Prewitt edge detectors, were performed. 

In Figures 1-4, the original Pacific Northwest image, and the results obtained by applying 
the LAED, Sobel, and Prewitt edge detectors to that image are illustrated. 

As a part of its contract deliverable with NASA, during the period July 1 - July 31, 1995, 
KT-Tech developed a registration scheme that relates the ground control points in one image to 
their corresponding points in the other image in the following manner: KT-Tech developed a 
rotation algorithm that rotates the preprocessed input image by a given angle 8 and a cross- 
correlation algorithm that measures the similarity between the preprocessed and rotated input 


PROPRIETARY 

© KT-Tech, Incorporated 


3 


10 / 30/98 




Figure 1 . Pacific Northwest (original) 


PROPRIETARY 

© KT-Tech, Incorporated 


4 


10/30/98 







Figure 2. Pacific Northwest (LAED/thresholded) 


PROPRIETARY 

© KT-Tech, Incorporated 


5 


10/30/98 




Figure 3. Pacific Northwest (Sobel edge detector/thresholded) 


PROPRIETARY 6 10/30/98 

© KT-Tech, Incorporated 




Figure 4. Pacific Northwest (Prewitt edge detector/thresholded) 


PROPRIETARY 

© KT-Tech, Incorporated 


7 


10/30/98 


image, and the preprocessed reference image. The cross-correlation between the preprocessed 
input and reference images is computed for a sequence of rotation angles (0°, 90°) and the 

actual angle of rotation is determined by the highest cross-correlation value. KT-Tech compared 
the performances of the LAED, Sobel, and Prewitt edge detectors within this registration scheme 
by preprocessing a reference Pacific Northwest image and an input image that is the rotated 
version of the reference image by a given angle, 0=18° by these edge detectors to extract the 
most significant information in these images. During the same period, KT-Tech developed on its 
Sun Sparc IPX workstation image enhancement techniques, such as histogram equalization and 
median filtering, to utilize in conjunction with edge detection operators. 

During the period August 1 - August 31, 1995, KT-Tech started investigating 
multiresolution approaches, in particular the wavelet decomposition technique, to reduce the size 
of the images to be utilized in the registration process, and consequently, to decrease the time 
required for computations. KT-Tech also started studying Khoros 2.0 Scientific Software 
Development Environment for code development. 

During the period September 1 - September 30, 1995, KT-Tech continued investigating 
the wavelet decomposition technique in the context of registration. KT-Tech started constructing 
a decomposition algorithm based on the Discrete Wavelet Transform (DWT). KT-Tech also 
installed Khoros 2.0 on its Sun Sparc IPX workstation in order to locally access the direct 
manipulation graphical user interface design tool, standardized user interface and documentation, 
automatic code generation, and interactive configuration management facilities provided by 
Khoros. In addition, KT-Tech implemented on its Sun Sparc IPX workstation the morphological 
operators, dilation and erosion, as alternative feature extraction techniques to edge detection 
operators. 

As a part of its contract deliverable with NASA, during the period October 1 - October 
31, 1995, KT-Tech completed the development of its DWT-based decomposition algorithm. 
Utilizing this algorithm, KT-Tech decomposed the Pacific Northwest image into its low-low 


PROPRIETARY 

© KT-Tech, Incorporated 


8 


10/30/98 



Figure 5. Low-low components of the Pacific Northwest image for the first 4 levels. 


PROPRIETARY 9 10/30/98 

© KT-Tech, Incorporated 



(LL), low-high (LH), high-low (HL), and high-high (HH) components for 4 levels. Depending 
on the application and the type of significant features in the image, one or more of these 
components contain valuable information on the image that can be employed in the registration 
process. In addition, KT-Tech continued studying Khoros 2.0 Scientific Software Development 
Environment. 

In Figure 5, the decomposition of the Pacific Northwest image into its LL components for 
the first 4 levels is illustrated. As a part of its contract deliverable with NASA, during the period 
November 1 - November 30, 1995, KT-Tech continued investigating the wavelet decomposition 
technique in the context of registration. After constructing a decomposition algorithm based on 
the Discrete Wavelet Transform (DWT), KT-Tech applied edge detection algorithms to wavelet 
decompositions of remote sensing imagery in order to extract the most significant features in the 
imagery. 

Wavelet decomposition of an image results in four components which are called Low- 
Low (LL), Low-High (LH), High-Low (HL), and High-High (HH). One or more of these 
components may contain valuable information on the image that can be employed in the 
registration process depending on the type of significant features in the image. To complement 
Dr. Jacqueline LeMoigne's work where she utilizes the LH and HL components of the wavelet 
decomposition of an image, KT-Tech decided to employ the LL component of the wavelet 
decomposition of remote sensing imagery. KT-Tech applied its Lemer Algebraic Edge Detector 
(LAED), Sobel edge detector and Prewitt edge detector to the LL component of the wavelet 
decomposition of remote sensing imagery. 

As a part of its contract deliverable with NASA, during the period December 1 - 
December 31, 1995, KT-Tech constructed a decomposition algorithm based on the Discrete 
Wavelet Transform (DWT) to obtain the wavelet decomposition of remote sensing imagery 
resulting in four components which are called Low-Low (LL), Low-High (LH), High-Low (HL), 
and High-High (HH). For the first four levels, KT-Tech applied edge detection algorithms, KT- 


PROPRIETARY 
© KT-Tech, Incorporated 


10 


10/30/98 



Figure 6. LL components of the Pacific Northwest (LAED/thresholded) 


PROPRIETARY 

© KT-Tech, Incorporated 


11 


10/30/98 





PROPRIETARY 

© KT-Tech, Incorporated 


12 


10/30/98 




Figure 8. LL components of the Pacific Northwest (Prewitt edge detector/thresholded) 



PROPRIETARY 

© KT-Tech, Incorporated 


13 


10/30/98 



Tech’s Lemer Algebraic Edge Detector (LAED), Sobel edge detector and Prewitt edge detector, 
to the LL components of the wavelet decompositions of remote sensing imagery in order to 
extract the most significant features in the imagery. In Figures 6-8, the results obtained by 
applying the LAED, Sobel, and Prewitt edge detectors to the LL components of the original 
Pacific Northwest image are illustrated.KT-Tech's LEAD, yielded the best results in terms of the 
extraction of the domain independent features such as boundaries and edges. The application of 
the LEAD resulted in continuous lines along the edges which are one pixel wide, whereas the 
Sobel and Prewitt edge detectors yielded disconnected lines which are two or three pixels wide. 

As the next step in its investigation, KT-Tech utilized a variation of the registration 
technique described previously in order to compare the results obtained by the LAED, Sobel, and 
Prewitt edge detectors. Setting the precision for the angle of rotation 0 to 5=2°, KT-Tech started 
with the lowest resolution LL component (n=4) to determine an approximate value for the angle 
of rotation, 0 4 . The angle of rotation, 0, was then computed in the following manner: 

n=4 0° < 0 4 < 90° 


n=3 0 4 - 16° <0 3 <0 4 + 16° 

n=2 03 - 8° < 0 2 < 0 3 + 8° 

n=l 0 2 -4° < 0j < 0 2 + 4°, where 0i = 0. 

For the Pacific NW image with LAED, the successive approximation method yielded: 


II 

c 

0° < 0 < 90° -> 

0= 12° 

m 

II 

c 

-4° < 0 < 28° => 

0= 13° 

n=2 

5° < 0 < 21° => 

O 

in 

II 

CD 

n=l 

ll o <0<19° => 

0 = 18° (actual 0= 18°) 


PROPRIETARY 

© KT-Tech, Incorporated 


14 


10/30/98 



For the PacificNW image with Sobel edge detector, the successive approximation 
method yielded: 


n=4 

0° < 0 < 90° => 

e = 2 ° 

n=3 

-14° < 0 < 18° => 

CD 

It 

o 

o 

n=2 

2°<6< 18° => 

0= 10° 

n=l 

6°<e<i4° => 

0=11° (actual 0= 18°) 


For the Pacific NW image with Prewitt edge detector, the successive approximation 
method yielded: 


^r 

II 

a 

0° < 0 < 90° 

=> 

O 

II 

CD 

m 

II 

c 

-15° < 0 < 17° 

=> 

o 

II 

CD 

n=2 

-3°<0< 13° 

=> 

CD 

II 

o 

n=l 

3° < 0 < 11° 

=> 

0 = 8° (actual 0= 18°) 


During the period, January 1 - January, 1996, KT-Tech obtained the exclusive-or values 
for individual angles of rotation and plotted them. The plots peaked at the indicated values for 
the angle of rotation for each of the edge detectors. However, the peak value was not 
distinctively different from the other values. 

During the same period, KT-Tech composed a research article based on the techniques 
developed and the results obtained to be submitted to a conference on image processing. 

Employing satellite imagery, during the period February 1 - February 29, 1996, KT-Tech 
continued investigating the linear wavelet decomposition technique in the context of registration. 
KT-Tech also started looking into the nonlinear wavelet compression technique as an alternative 
registration technique for multi temporal and/or multi sensor data. 

PROPRIETARY 15 10/30/98 

© KT-Tech, Incorporated 



The nonlinear wavelet-based compression differs from the linear wavelet compression in 
that some of the wavelet coefficients are kept for all levels of the wavelet decomposition in the 
former whereas all wavelet coefficients are kept for up to a predetermined level of the wavelet 
decomposition in the latter. Consequently, the nonlinear wavelet compression produces higher 
compression ratios and eliminates more redundancy from the uncompressed image. This feature 
seems to be quite useful in the context of registration since the use of only the most significant 
features (control points) reduces the computation time and the number of false peaks in the pixel 
histogram. 

During the same period, KT-Tech also employed cross-correlation as an alternative 
similarity metric in addition to the exclusive-or operation in its linear wavelet decomposition 
based registration algorithm since the exclusive-or operation did not produce very distinctive 
peaks indicating the actual angle of rotation. 

As a part of its contract deliverable with NASA, during the period March 1 - March 3 1 , 
1996, KT-Tech started refining it linear wavelet decomposition based registration technique. KT- 
Tech also continued studying the nonlinear wavelet compression technique in the context of 
registration. 

KT-Tech had been investigating various image processing techniques to solve the 
potential problems that may be introduced due to the fact that the similarity metrics employed for 
a given range of angles produce a pixel histogram that does not exhibit any sharp peaks to 
indicate the exact angle of rotation. In its investigation, KT-Tech determined that certain 
morphological operators would extract the significant features in the input and reference images 
that might enhance the performance of the registration process by improving the computing 
speed and producing a sharper peak in the pixel histogram. 

Based on its thorough research on morphological image processing, KT-Tech concluded 
that among the morphological operations based on erosion and dilation, opening and closing 
were the most well-suited ones for preprocessing images for the purposes of registration. Thus 


PROPRIETARY 
© KT-Tech, Incorporated 


16 


10/30/98 



KT-Tech implemented the opening and closing morphological operations on its Sun Sparc IPX 
workstation. 

During the same period, KT-Tech also continued investigating the nonlinear wavelet- 
based compression in the context of registration. KT-Tech studied research articles written in this 
area to find a quantitative measure which would describe the complexity in the structure of the 
images to be registered. This quantitative measure could be utilized to develop a thresholding 
strategy that would retain only certain wavelet coefficients producing an optimal compression 
that would vary with the complexity of the image. 

During the period April 1 - April 30, 1996, KT-Tech utilized the opening and closing 
morphological operations as an intermediate step following the linear wavelet decomposition and 
prior to LEAD. The preliminary results indicated that the number of redundant features in the 
images preprocessed by the opening and closing operations were reduced significantly and only 
the most significant features are retained. 

Figures 9 and 10 show the resulting images when the Pacific Northwest image is 
preprocessed utilizing the closing and the opening morphological operators prior to the 
application of the LAED, respectively. 

During the same period, KT-Tech started taking the preliminary steps in incorporating 
the linear wavelet-based decomposition algorithm, the opening and closing morphological 
operations and the LAED into KT-Tech’ s algorithm for registration by successive 
approximation. 

In addition to its wavelet-based registration algorithm, KT-Tech was also assigned 
another method that uses a wavelet-based point feature extraction algorithm to select distinct and 
consistent point features across images. This method incorporates local statistical information of 
the image intensity to locate point features in multi resolution contour maps generated using the 
wavelet transform. 


PROPRIETARY 

© KT-Tech, Incorporated 


17 


10 / 30/98 




Figure 9. The original Pacific Northwest image processed by the closing morphological 

operator and the LAED. 


PROPRIETARY 
© KT-Tech, Incorporated 


18 


10/30/98 



Figure 10. The original Pacific Northwest image processed by the opening morphological 

operator and the LAED. 


PROPRIETARY 
© KT-Tech, Incorporated 


19 


10/30/98 



KT-Tech’s performanceand the results it obtained during the first year of the contract can 
be summarized as follows: 

Automated registration of images is a nontrivial problem. Registration can be viewed as a 
combination of four components: i) feature space, ii) search space, iii) search strategy, and iv) 
similarity metric. The feature space, i.e., the set of characteristics or ground control points that 
are to be inferred from the input and reference images to perform registration, is one of the most 
important components of registration. These ground control points must contain the most 
significant information on the images. Hence, by removing the redundancy present in the images 
while preserving only the most relevant information, registration process becomes 
computationally less intensive. 

KT-Tech started to utilize morphological and algebraic image operators for extracting 
domain-independent and shape-related rather than brightness-related features, such as boundary 
extraction and delineation, as well as recent discoveries (wavelet techniques) in image 
processing to develop fast algorithms and registration of digitized images. Hence, as a 
preprocessing step, KT-Tech started to employ robust feature extraction techniques for obtaining 
well-defined ground control points. 

KT-Tech's investigation illustrated that the performances of Sobel and Prewitt edge 
detectors were very similar. The LEAD, however, yielded the best results in terms of the 
extraction of the domain independent features such as boundaries and edges. The application of 
the LEAD resulted in continuous lines along the edges which are one pixel wide, whereas the 
Sobel and Prewitt edge detectors yielded disconnected lines which are two or three pixels wide. 

For registration, it is desirable to have continuity along the edges, as well as lines that are 
as narrow as possible. Hence, it was anticipated that the LAED would perform within a 
registration scheme better than the other conventional edge detectors, Sobel and Prewitt. 


PROPRIETARY 
© KT-Tech, Incorporated 


20 


10/30/98 



The next step in KT-Tech's investigation was the comparison of the LAED, Sobel, and 
Prewitt edge detectors within the registration scheme described in the previous section. A 
reference Pacific Northwest image and an input image that was the rotated version of the 
reference image by a given angle, 0=18°, were preprocessed by the LAED, Sobel, and Prewitt 
edge detectors to extract the most significant information in the images. 

KT-Tech then applied the registration scheme described in the previous section to the 
preprocessed reference and input images. The performance of the LAED was superior to that of 
the Sobel and Prewitt edge detectors, 

KT-Tech's investigation illustrated that the registration of two preprocessed images in the 
spatial domain is a very difficult problem because of their sizes. The registration of two 512 x 
512 images was computationally very intensive although the images were preprocessed to 
remove the redundancy and to preserve only the most significant information. Hence, the 
computations that needed to be performed for registration were very time consuming. 

Since the application of the registration scheme to the original image and its rotated 
version did not yield satisfactory results, as the next step, KT-Tech started investigating 
multiresolution approaches, in particular, the wavelet decomposition technique. 

The next step in KT-Tech's investigation was the application of the LAED, Sobel, and 
Prewitt edge detectors to wavelet decompositions of the reference and input images. KT-Tech 
showed that the LAED performes within this registration scheme better than the other 
conventional edge detectors, Sobel and Prewitt, since it produces continues lines that are one 
pixel wide along the edges and it preserves the most significant information on the image. LEAD 
was able to indicate the actual angle of rotation, whereas the results obtained by Sobel and 
Prewitt edge detectors were unacceptable. 

Registration of two images by the successive approximation method based on the wavelet 
decomposition method was very time efficient and computationally less intensive than the 


PROPRIETARY 

© KT-Tech, Incorporated 


21 


10/30/98 



registration of the two images in the spatial domain. However, the use of the exclusive-or 
operation as the similarity metric did not produce very distinctive peaks. 

The smoothness of the pixel histogram was due to the fact that at any given resolution 
level, the number of pixels corresponding to features in the images, i.e., the pixels that were non- 
zero, was relatively high. In addition, the input and the reference image were thresholded at each 
resolution level resulting in pixel values that were either 0 or 255. As a consequence, the cross- 
correlation as well as the exclusive-or values tended to be similar for any given angle since the 
values of the pixels at the corresponding locations of the reference and the input images could be 
the same even if those pixels did not represent the same location in both images. 

Therefore, KT-Tech started investigating image processing methods that would reduce 
the redundancy in the images while preserving only the most significant features. Based on its 
research, KT-Tech concluded that the morphological operations opening and closing would 
accomplish this task. 

The opening operation is obtained by an erosion followed by a dilation. The closing 
operation is the dual of the opening operation and is obtained by a dilation followed by an 
erosion. Erosion is a shrinking operation, whereas dilation is an expansion operation. The two 
most important properties of erosion and dilation operations are that they are translation 
invariant, i.e., a translation in the object causes the same shift in the result, and they are not 
inverses of each other. Thus, opening and closing operations derived from erosion and dilation 
operations could be utilized in a way which would improve the performance of KT-Tech’s linear 
wavelet decomposition based registration algorithm. 

The opening operation smoothes contours, suppresses small islands and sharp caps of the 
input image. The closing blocks up very narrow channels and thin lakes. Hence, they are perfect 
candidates for removal of redundancy from the input and reference images. 


PROPRIETARY 

© KT-Tech, Incorporated 


22 


10/30/98 



Contract Performance and Analysis of the Results Obtained During Year 2 


As a part of its contract deliverable with NASA, during the period May 1 - May 31,1 996, 
KT-Tech integrated the opening and closing algorithms that had been implemented on its Sun 
Sparc Workstation into its registration algorithm. KT-Tech showed that the opening and closing 
algorithms help improve the performance of the image preprocessing step by removing 
redundancy from the input and reference images while retaining only the most significant 
features. 

KT-Tech also submitted an abstract for a paper entitled “Registration of satellite imagery 
utilizing the low-low components of the wavelet transform” to SPIE’s Applied Imagery Pattern 
Recognition ‘96 Workshop which would be held in “Cosmos Club,” Washington, D.C., in 
October 1996. 

During the same period, KT-Tech continued studying Khoros 2.0 Scientific Software 
Development Environment since the registration methods developed by the members of the 
registration group headed by Jacqueline Le Moigne would be integrated to obtain a Khoros- 
based toolbox of automatic geo-registration methods. 

As a part of its contract deliverable with NASA, during the period June 1 - June 30, 1996, 
KT-Tech started studying a registration technique, proposed by Li and Zhou, utilizing wavelet 
transform and edges. This technique can be applied to multi-sensor data with discrepancy in their 
gray scale characteristics. 

This wavelet-based point feature extraction method selects distinct and consistent point 
features across images. This algorithm overcomes the difficulty of registering multi-sensor data, 
such as visual/IR imagery, particularly due to the discrepancy in their gray-scale characteristics. 
It utilizes the local statistical information of the image intensity to locate point features in multi- 
resolution contour maps generated using the wavelet transform. 


PROPRIETARY 

© KT-Tech, Incorporated 


23 


10 / 30/98 



During the same period, KT-Tech volunteered to present a poster entitled “Multi- 
resolution Geo-registration of Remote Sensing Imagery Employing the Wavelet Transform” 
based on its image registration work in Jim Tilton’s Atrium Teas and Posters Sessions. The 
poster was displayed in the south-west atrium of Building 28 on June 13, 1996. KT-Tech 
personnel was available at that location from 3:00 pm to 4:00 pm to answer the questions by the 
guests. The poster received a positive reaction from the guests. 

During this period, KT-Tech started debugging its automated registration algorithm in 
order to ensure a problem-free operation after its incorporation to the automated image 
registration toolbox that is being developed under the direction of Dr. Le Moigne. KT-Tech 
discussed with Dr. Le Moigne and Wei Xia possible Graphical User Interface/Window Layouts 
appropriate for KT-Tech’s registration algorithm. 

In addition, KT-Tech started planning its input to a paper that will be written by the 
members of the registration group based on the comparison of methods developed and the results 
obtained. 

As a part of its contract deliverable with NASA, during the period July 1 - July 3 1 , 1996, 
KT-Tech continued enhancing and debugging its registration algorithm. 

KT-Tech implemented an adaptive thresholding method that utilizes image-specific 
threshold values. This algorithm sets a predetermined number, e.g. 15 %, of the pixels having the 
highest gray-level value to 255 and the remaining pixels to 0. This method ensures that the 
number of pixels that are non-zero remains constant for all edge detection methods including the 
LAED and Sobel edge detector. As a consequence, comparison of the performance of edge 
detection methods becomes very convenient. 

KT-Tech’s LAED and other image processing algorithms had been implemented on KT- 
Tech’s local Sun Workstation employing X-Windows Widgets. KT-Tech had been rewriting the 


PROPRIETARY 

© KT-Tech, Incorporated 


24 


10/30/98 



LAED and its other image processing algorithms in order to obtain their platform- and compiler- 
independent versions. 

In addition, KT-Tech learned that its image registration paper had been accepted to 
SPIE’s Applied Imagery Pattern Recognition ‘96 Workshop. 

As a part of its contract deliverable with NASA, during the period August 1 - August 30, 
1996, KT-Tech completed implementing its image registration algorithm based on wavelet 
decomposition and successive approximation method. 

During this period, KT-Tech interfaced its existing algorithms and started debugging its 
automated registration algorithm in order to ensure a problem-free operation after the integration 
into the registration toolkit. However, a problem arose during implementation: the integrated 
program did not perform satisfactorily, although the programs individually ran successfully. 

During this period, KT-Tech discussed with Dr. Le Moigne and Wei Xia an appropriate 
Khoros-based Graphical User Interface (GUI) with four windows for KT-Tech’s registration 
algorithm: i) the input image, ii) the reference image, iii) a text window for messages, e.g., 
current level, current x-size and y-size, etc., and iv) the output image. Since KT-Tech’s 
algorithm existed as a single C program with subroutines, the only changes that would have to 
performed in order to obtain the Khoros version would be the ones pertaining to data input and 
output. 

As a part of its contract deliverable with NASA, during the period September 1 - 
September 31, 1996, KT-Tech completed the implementation and debugging of its image 
registration algorithm based on wavelet decomposition and successive approximation method. 
By the middle of this period, KT-Tech completed fixing the bugs in the program. 

KT-Tech then delivered the integrated program to NASA by the middle of September. 
Dr. Le Moigne installed the programs, header files, and libraries to the anonymous ftp site on 


PROPRIETARY 

© KT-Tech, Incorporated 


25 


10 / 30/98 



“cesdis”. KT-Tech recompiled its programs, and tested them. KT-Tech also uploaded its 
registration code to its ’’nibbles 11 account and recompiled them. 

As a part of its contract deliverable with NASA, during the period October 1 - October 
31, 1996, KT-Tech started testing its registration algorithm utilizing some of the test images 
from Dr. Le Moigne’s anonymous ftp site including the Pacific Northwest, HannahwithHat, 
and Grid images. KT-Tech’s algorithm successfully registered those images. 

At the beginning of this period, Wei Xia started porting KT-Tech’s registration algorithm 
to the Khoros environment. 

Also at the beginning of this period, KT-Tech started working on the presentation of its 
paper in the SPIE/AIPR Conference on October 16, 1996 and prepared the viewgraphs for the 
presentation. KT-Tech presented its SPIE/AIPR paper in Bob Cromp’s session entitled “Image 
Mining” and received a positive feedback from the audience. 

During this period, KT-Tech prepared a document briefly explaining its registration 
algorithm which would be incorporated into a larger document containing the algorithms 
developed by the other members of the Registration Group and would be utilized when applying 
for NASA as well as outside funding. 

During this period, KT-Tech also started working on a paper on image registration 
utilizing the non-linear wavelet transform which would be presented at the SPIE Conference on 
Wavelets in Orlando, Florida. KT-Tech submitted an abstract of the paper to Dr. Harold Szu who 
would chair the session. 

As a part of its contract deliverable with NASA, during the period November 1 - 
November 30, 1996, KT-Tech continued working on its registration paper that would be 
presented during SPIE’s Conference on Wavelets in Orlando, Florida, in April 1997. This paper 
contained KT-Tech’s initial research and results in the area of image registration utilizing 
nonlinear wavelet transformation. 


PROPRIETARY 

© KT-Tech, Incorporated 


26 


10/30/98 



During this period, KT-Tech also talked several times with Wei Xia to answer her 
questions regarding KT-Tech’s registration algorithm which is based on the linear wavelet 
transform. She had been tasked by Dr. Le Moigne to port KT-Tech’s registration algorithm as 
well as the algorithms developed by other members of the Registration Group to the Khoros 
environment. 

As a part of its contract deliverable with NASA, during the period December 1 - 
December 31, 1997, KT-Tech continued working on its registration paper that would be 
presented during SPIE’s Conference on Wavelets in Orlando, Florida, in April 1997. 

Research related to the SPIE paper produced concrete and promising results on image 
registration using nonlinear wavelet compression. Tasks were delegated for documenting the 
experiments, writing up sections of the paper, and compiling the paper. The first draft of the 
paper was completed December 15, 1996. 

In addition to its continued work on the SPIE paper, KT-Tech continued supporting Wei 
Xia in her effort to port to the Khoros environment KT-Tech’s registration algorithm. KT-Tech 
assisted Wei Xia in the problems that she encountered during the code porting process by 
explaining in detail components of its algorithm. KT-Tech discussed with Wei Xia, in particular, 
extraction of the control points utilizing the linear wavelet decomposition and the Lemer 
Algebraic Edge Detector (LAED), and registration of the input and reference images by 
successive approximation utilizing the control points extracted. 

As a part of its contract deliverable with NASA, during the period January 1 - January 3 1 , 
1997, KT-Tech completed its SPIE paper on image registration employing the nonlinear wavelet 
transform. The final version of the paper was sent to SPIE by January 27, 1997. 

During this period, KT-Tech started researching methods that would compute the 
complexity index of the images to be registered in order to determine the optimal registration 
method. 

KT-Tech also started researching the significance of the choice of error metric which 
would allow KT-Tech to quantify a criteria for comparing the effectiveness of different ways of 
compressing an image for the purpose of registration. 

In the current stage of its research, KT-Tech’s search space was limited to rotation. Dr. 
LeMoigne asked KT-Tech to add translation and scale change to the search space during the 
upcoming periods. 


PROPRIETARY 

© KT-Tech, Incorporated 


27 


10/30/98 



As a part of its contract deliverable with NASA, during the period February 1 - February 
28, 1997, KT-Tech produced and delivered to Wei Xia a document describing KT-Tech’s 
registration algorithm which is based upon the linear wavelet transform. This document would be 
included in the help section of the registration toolkit and in the Final documentation. 

During this period, KT-Tech also started revising the code of its algorithm. In the original 
program, all input and reference arrays as well as the arrays that were used for intermediate 
computations were defined as fixed-sized arrays. The size of the arrays could be set to a large 
value. However, in order to change this value, the size had to be redefined and the program 
needed to be recompiled. KT-Tech began working on the program to change the declared arrays 
to pointers to eliminate the need for recompiling the program for different sized. 

During this period, KT-Tech also started making contacts in the West Coast with 
Universities as potential RVC sites. 

During the period March 1 - March 31, 1997, KT-Tech continued making contacts on the 
West Coast with Universities as potential RVC sites. KT-Tech detected three institutions in 
North Central California whose activities suggested an RVC affiliation would be advantageous, 
or whose activities were of a de-facto RVC nature: University of Nevada, Reno's Western 
Regional Climatic Data Center, University of California, Santa Cruz's Reinas Project, and 
University of California, Davis' Center for Spatial Technologies and Remote Sensing 
(CSTARS). 

CSTARS and its PI, Dr. Susan Ustin, was the one who responded most actively. Effort 
was directed towards identifying along with this group other centers, and departments at UC 
Davis which could complement the facilities and research backbone of CSTARS, and to identify 
funding sources and a client base (Federal, State agencies, local commercial clients) which could 
serve as the basis for endorsement by Deans of the University, leading to an MOU by the 
Chancellor. KT-Tech identified CSTARS and elements of the Department of Land, Air, and 
Water Resources Management Department as the backbone of the research/applications activity, 
elements of Computer Science who could provide database management expertise, and a center 
for image processing and integrated computing (CIPIC) on campus which was interested in 
participating in the information fusing and visualization tasks associated with the research effort. 
Progress was also made in identifying possible funding sources and clients. A preliminary draft 
of the status report of this effort was e-mailed to William Campbell on March 20, and discussed 
with him at the meeting March 25. 


PROPRIETARY 
© KT-Tech, Incorporated 


28 


10/30/98 



During this period, KT-Tech also continued conducting research on geo-registration. KT- 
Tech changed the declared arrays to pointers eliminating the need for recompiling the program 
for different sized images. 

In addition, during this period, KT-Tech started working on the RVC code port from HP 
UNIX environment. KT-Tech started studying the system and its requirements. 

KT-Tech downloaded and installed on its SUN workstation at Code 935 TCL 7.6 and TK 
4.2 and made the necessary changes to ensure that they ran without any problems on that 
platform. KT-Tech also started studying Khoros since some of the work developed by Samir 
Chettri utilized Khoros. 

KT-Tech then started studying Samir Chettri’s Khoros and George Fekete’s TCL/TK 
codes. To be able to run George Fekete’s interface, KT-Tech installed CVS 1.9, RVC 5.7, and 
Diffutil on its SUN workstation. 

During the period April 1 - April 30, 1997, the results of KT-Tech’s registration work 
was presented in a paper at the SPIE AeroSense97 conference, Using Wavelet Compression to 
Enhance Registration". The paper received a very positive reaction from the audience. 

During this period, KT-Tech continued activity at UCDavis on nonlinear wavelet 
compression and registration with J. Pinzon. KT-Tech initiated the modules for registration by 
moments and for registration by control points, examining how they interface. 

KT-Tech also outlined with J. Pinzon and R. DeVore validation activity for the nonlinear 
wavelet registration team's contribution to the registrations group's response to MPTE NRA97- 
07. KT-Tech took lead in this effort by composing a letter of intent and first draft of proposal. 

During this period, KT-Tech continued interactions with centers/personnel at UCDavis 
on forging an RVC 

KT-Tech also continued its work in the area of code port. KT-Tech delivered to NASA 
an RVC Software Module Improvement Report. This report is not included in this final report 
due to its size. 

During this period, KT-Tech also completed porting of the “Algorithm” part of the RVC 
system and is in the process of porting the “Query Interface”. 


PROPRIETARY 

© KT-Tech, Incorporated 


29 


10/30/98 



KT-Tech’s performance and the results it obtained during the second year of the contract 
can be summarized as follows: 

KT-Tech had been developing a registration by successive approximation algorithm 
utilizing the LL components of the linear wavelet decomposition of the reference and input 
images preprocessed by the LAED and the Sobel edge detector. KT-Tech successfully registered 
remote sensing as well as facial images utilizing its registration technique combined with the 
LAED. However, after plotting the pixel histograms obtained during the registration by 
successive approximation process, KT-Tech has realized the lack of a very sharp peak in the 
pixel histogram distinctly indicating the exact angle of rotation. 

The smoothness of the pixel histogram was due to the fact that at any given resolution 
level, the number of pixels corresponding to features in the images, i.e., the pixels that were non- 
zero, was relatively high. In addition, the input and the reference image are thresholded at each 
resolution level resulting in pixel values that are either 0 or 255. As a consequence, the cross- 
correlation as well as the exclusive-or values tend to be similar for any given angle since the 
values of the pixels at the corresponding locations of the reference and the input images can be 
the same even if those pixels do not represent the same location in both images. 

To solve this problem, KT-Tech added a new thresholding technique as well as a new 
similarity metric to its program to enhance its performance. The new thresholding technique 
maintains the gray-level values of a predetermined number, e.g. 15 %, of the pixels and sets the 
gray-level values of the remaining pixels to 0. This method ensures that the number of pixels that 
are non-zero remains constant for all edge detection methods including the LAED and Sobel 
edge detector. It also minimizes the effect of the erroneous matching of pixels as explained 
previously. As the similarity metric, KT-Tech started utilizing the mean square error (MSE) 
between the gray level values of the pixels of the input and the reference image since the MSE is 
a much more accurate measure of similarity then the exclusive-or operation. 


PROPRIETARY 

© KT-Tech, Incorporated 


30 


10/30/98 



As a consequence of the emerging SPIE paper and the promising results obtained, KT- 
Tech decided to concentrate its registration research on using nonlinear wavelet methods. KT- 
Tech began work on outlining a research program to guide investigations in this direction. Initial 
results KT-Tech obtained indicated that very high nonlinear wavelet-based compression of the 
input and reference images could be utilized to obtain the control points that could then be used 
to register the images. As an added advantage, employment of nonlinear wavelet compression 
would dramatically reduce the computational intensity of the registration process. 

KT-Tech decided to investigate, during the upcoming periods, how to optimally extract 
control points for registration using highly compressed versions of the input and reference 
images. KT-Tech deceided also to conduct research on how to use highly compressed versions of 
the input and reference images to register them when they differ first by a pure rotation, then by 
a pure translation, and then by a rigid transformation (translation superimposed upon a rotation). 

KT-Tech also decided to investigate in depth the methodology for isolating control points 
by compression of the reference and input images, as well as the statistical confidence the 
registration produces as a function of number of control points, the confidence with which the 
control points isolated in the reference and input image were in fact true pairs. 

Previously, KT-Tech’s registration efforts were directed towards extending the algorithm 
for registering highly compressed images to the class of rigid, global transformation, from purely 
rotational transformation. The results of this work were presented in a paper to SPIE in April and 
the feedback from the audience suggested that KT-Tech’s research was considered very 
promising. Work was also initiated on exploring registering the highly compressed images using 
less precise, but more rapid approaches: using moments derived from the compressed reference 
and input images. 

In addition, KT-Tech revised its linear wavelet-based registration algorithm to utilize 
pointers instead of fixed sized arrays. In the revised program, there were no predefined arrays 
and the need for recompiling the program for different sized images was eliminated. 


PROPRIETARY 

© KT-Tech, Incorporated 


31 


10/30/98 



KT-Tech’s code porting activity was also in progress. KT-Tech completed porting of the 
first module of the RVC system and was in the process of porting the second one. The remaining 
two would be ported as soon as the necessary software tools became available. 


PROPRIETARY 

© KT-Tech, Incorporated 


32 


10/30/98 



Contract Performance and Analysis of the Results Obtained During Year 3 


During the nineth quarterly period, May 1 - July 30, 1997, KT-Tech, Incorporated 
continued broadened or initiated activities for Code 935 in four areas. In the area of image geo- 
registration it continued one and initiated a second contribution to the registration toolbox being 
developed for the RVC's. In the area of spectral analysis, KT-Tech initiated a multi-scale 
approach to feature extraction from spatially distributed spectral data. KT-Tech continued its 
activity to foster the establishment of an RVC at UC Davis. Finally, KT-Tech continued and 
enlarged its activity to port the RVC database and management system to a Sun/Unix 
environment. 

I. Registration Activity 

At the end of the eighth quarterly period, KT-Tech was engaged in completing the 
development of a registration algorithm based upon linear wavelet decomposition techniques for 
the registration working group directed by Dr. J. LeMoigne. KT-Tech opened a discussion with 
Code 935 and Dr. LeMoigne to broaden this registration activity to include the development and 
implementation a computationally rapid way to register images based upon nonlinear wavelet 
compression and singular valued decomposition techniques. During the seventh quarter KT- 
Tech had established the feasibility of such a registration algorithm based upon nonlinear 
wavelet compression, and had presented the results in a paper at the AeroSense97 conference in 
the eighth quarter. 

Registration using nonlinear wavelet compression and SVD tools. 

During the nineth quarter, KT-Tech established the viability of rapidly registering the 
nonlinearly compressed images using singular valued decomposition (SVD) techniques. 
Working with J. Pinzon (UC Davis) and J. Pierce, KT-Tech negotiated with Bill Campbell and J. 
LeMoigne a scope of work and timeline to implement this second registration algorithm for the 


PROPRIETARY 

© KT-Tech, Incorporated 


33 


10/30/98 



registration toolbox. This registration activity was to involve J. Pinzon and J. Pierce, initiate July 
1 and complete September 30. 

By July 15, the main modules of the nonlinear wavelet and SVD-based registration 
algorithm were completed and functioning as MatLab code, utilizing the WaveLab library. The 
first stage of the algorithm compresses the reference and input images, extracting hot pixels 
which manifest features significant to each image. A stability feedback loop allows the SVD 
computations performed at the second stage to refine the compression, so as to maximize the 
probability that the ensemble of hot pixels in both images manifest features which match under 
registration; hence, are viable control points. The information from the SVD stage then drives 
the third stage, which produces the registration. A feedback loop in that stage refines the 
accuracy of the registration. 

MatLab was chosen as the developmental environment, because the WaveLab library 
available to it closely approximated the library availiable in the emerging toolbox, because of the 
ease with which the code's computational and graphic elements could develop, because of the 
ease with which the MatLab code translates into C code, the basis for the toolbox algorithms, and 
because of the ease with which the graphic elements used in the MatLab code would translate 
into the Khoros environment, the graphics enviomment for the toolbox. 

Also by July 15, J. Pinzon and J. Pierce had subjected the algorithm to three of the 
validation tests set forth by J. LeMoigne and the registration working group for all registration 
algorithms. The results demonstrated to KT-Tech the functionality of the algorithm and isolated 
some elements to refine in order to improve the code's efficiency, stability and robustness. 

During the week July 21 -July 25, 1997, J. Pinzon visited GSFC under the aegis of 
CESDIS and Code 935, through KT-Tech. His principal activity was to demonstrate the viability 
of the algorithm to J. LeMoigne, to work with Wei Xia to demonstrate the functionality of the 
algorithm as C-code, to establish how to interface the algorithm as seamlessly as possible with 


PROPRIETARY 
©KT-Tech, Incorporated 


34 


10/30/98 



the Khoros graphics environment, and to determine how to incorporate the modules of the 
algorithm as effectively as possible into the registration toolbox. 

The July visit established the functionality of the algorithm. It also revealed ways to 
significantly improve the robustness and efficiency of the algorithm, established the importance 
of adequate documentation for the code, and underscored the need for setting forth firmly the 
mathematical foundation upon which the algorithm is based. In the latter part of July 1997, J. 
Pinzon and J. Pierce began to address these points. Improvements in the code would produce 
refinements of the compression stability and the registration refinement feedback loops, and the 
establishment of a loop to assess intrinsic geometric symmetry in the reference and input images. 

In June 1997 an abstract for the paper "Image registration by nonlinear wavelet 
compression and singular value decomposition" was submitted to the CESDIS/IEEE Registration 
Workshop at GSFC in November 1997. The paper describes the algorithm, its mathematical 
basis, its implementation, and its performance against the validation tests. In July 1997 the paper 
was accepted for presentation. 

Registration using the Low-Low component of a linear wavelet decomposition 

During the nineth quarter KT-Tech, through E. Kaymaz, continued its work developing 
an algorithm for geo-registration using the Low-Low component of a linear wavelet 
decomposition of reference and input images. By the end of the eighth quarter KT-Tech had 
implemented and refined a version of the algorithm which registered images differing by a global 
two-dimensional rotation. In June 1997, KT-Tech broadened the program into one whose search 
space consisted of rotations and two-dimensional translations. 

The algorithm involves three steps. In the first step it produces the wavelet decomposition 
of the reference and input images to be registered. In the second step it extracts domain 
independent features to be used as the control points from the low-low components of the 
wavelet decompositions of the reference and input images. The Lemer Algebraic Edge Detector 


PROPRIETARY 

© KT-Tech, Incorporated 


35 


10/30/98 



(LAED) is employed to enhance the extraction process. In the third step the program utilizes the 
maxima of the low-low wavelet coefficients preprocessed by the LAED and a mean square error 
(mse) based similarity metric to compute the transformation function. The search space consists 
of two dimensional rotations and shifts in the x- and y-directions. Details of the search strategy 
are presented in Appendix A. 2. The strategy can be summarized as: 

Step 1 : Perform wavelet decomposition on the reference and input images up to level N 
to obtain the LL components of the decomposition. Keep all wavelet coefficients up to level 
n=N. 


Step 2: Apply the edge detector to all LL images obtained from the reference and input 
images up to level n=N to extract the most significant edge information. 

Step 3: Starting with the highest level of decomposition, find the best approximation to 
the angle of rotation, and x- and y-translations iteratively for each level with increasing accuracy 
employing the search strategy described below. 

Validation of the algorithm and the assessment of its stability under rigid body 
transformation commenced in July. KT-Tech found it could lock up the algorithm with some 
validation tests. KT-Tech then engaged in isolating those elements in the code which precipitated 
the obstruction, and assessing if the obstacle was fundamental to the design of the algorithm, or 
an error in the code implementing it. 

II. Spectral Analysis Activity 

At the beginning of the nineth quarter KT-Tech, through J. Pierce, began to discuss with 
J. Pinzon and the CSTARS laboratory at UC Davis the development of an approach to spectral 
analysis which integrated the multi-resolutional capabilities of wavelets in the spatial domain 
with the multi-scale approach to feature extraction from spectra developed by Dr. S. Ustin at UC 
Davis, director of the CSTARS laboratory, and others. It appeared to KT-Tech that if such an 
approach could be brought from the research into the developmental stage, it would serve as the 


PROPRIETARY 
© KT-Tech, Incorporated 


36 


10/30/98 



basis for data products for RVC's at UC Davis, GSFC, and other locations. In May 1997, KT- 
Tech, through J. Pierce, began discussions with W. Campbell, J. LeMoigne and T. Gaultierri, 
GSFC, about the possibility of how such work might interface with spectral feature extraction 
activity in Code 935, and with S. Ustin and J Pinzon, UC Davis, about the relevance and viability 
of engaging in such activity at CSTARS. By the end of May 1997 it was mutually agreed that, in 
addition to developing and putting the nonlinear registration algorithm in place, J. Pinzon would 
present a seminar on the topic during his second visit to GSFC in August 1997, and would 
broaden discussions with J. LeMoigne, T. Gaultierri, and possibly P. Cheeseman at ARC, to 
produce avenues of activity relevant to the Code 935 and the RVC effort. If the proposed 
activities proved acceptable, they would be considered for start up in October 1997. 

During his first visit to GSFC in July 1997, J. Pinzon spoke at length with T. Gaultierri, 
and J. LeMoigne about activities at Code 935 in spectral feature extraction, and presented 
informally the method of multi-scale spectral feature extraction. Hierarchical Foreground 
Background Analysis (HFBA) currently being used to great advantage at CSTARS. 

Upon his return to UC Davis at the end of July 1997, and with the assistance of J. Pierce, 
J. Pinzon began to develop an abstract for three avenues of activity for integrating wavelet 
decomposition methods in the spatial domain with the HFBA decomposition in the spectral 
domain for extracting and validating both supervised and unsupervised classification of spatially 
distributed spectral data. 

III. RVC Code Porting Activity 

During the eighth quarter KT-Tech had begun work on the RVC code porting from the 
HP enviomment to the SUN UNIX environment. Although the activity focused primarily on the 
restructuring of code for individual modules, it became apparent early on that KT-Tech had to 
comprehend the system design and overall logic of the RVC system, if the programs it ported 
were to contribute to the ultimate goal of a modularized system, robust in its design and 
application, and capable of porting to numerous environments. Towards that end, KT-Tech, 


PROPRIETARY 

© KT-Tech, Incorporated 


37 


10 / 30/98 



through R. Liao, contributed the "RVC Software Module Improvement Report" in the eighth 
quarter, a report design which specifies the porting activity in the context of the major modules 
of the RVC system. 

To support the porting activity KT-Tech received in May 1997 access to a SUN Ultra 1 
machine (fusion.gsfc.nasa.gov) in Code 935. During May and June, KT-Tech, through R. Liao, 
augmented hardware on the computer, replaced the operating system with Solaris 2.5.1, and 
installed SUN Ultra Allegro Common LISP for the Solaris operating system. 

To support the production of a code applicable to a library of environments (HP, UNIX, 
DOS), it quickly became clear in the eighth quarter that "inlining" calls to functions specific to 
the UNIX environment were counterproductive. Consequently, in the nineth quarter, KT-Tech, 
through R. Liao, developed and introduced the routine "platform.c", which provided a wrapping 
function to all platform dependent function calls. It was significant, because introducing this 
routine and replacing "inline" code with calls to it modularized the environmentally specific 
function calls. Whenever the RVC is cast into a new operating environment in the future, one 
need only modify "platform.c", rather than alter all "inline" calls for environmentally specific 
functions. The routine "platform.c" is modified as porting progresses through all elements of the 
RVC. 


Porting the emerging versions of the RVC to a SUN UNIX environment involves the 
modification of programs in all the major modules: user interface, ingest, the 

planner/scheduler/dispatcher (PSD) and its curator submodule, and the database module. After 
configuring the SUN Ultra 1, KT-Tech, through R. Liao, proceeded to port onto it and into the 
UNIX environment the current and emerging versions of the various modules in the manner 
described below. These activities occurred during the months of June and July 1997, and they 
recurred as modifications or revisions in the emerging RVC code dictated. 

User Interface Module 


PROPRIETARY 
© KT-Tech, Incorporated 


38 


10/30/98 



To establish the user interface module in the UNIX environment, KT-Tech, through R. 
Liao, ported onto the SUN Ultra 1 the RVC Interface program, and the package for Tcl7.6/Tk4.2, 
modified by G. Fekete to function with the RVC Interface program. Tcl/Tk is the means by 
which the user interacts over the interface with the other elements of the RVC. In the course of 
this activity, KT Tech ported to the UNIX environment a utility package, "Util" into the c-shell. 
This utility is used in installing the RVC. 

Ingest Module 

In support of the Ingest module, KT-Tech, through R. Liao, ported the program "Ingest" 
and its modifications to the SUN Ultra 1 and UNIX environment. 

Database Module 

In June 1997, KT-Tech received version 4.0 of ObjectStore, the database engine for the 
RVC. Through R. Liao, KT-Tech completed the installation of ObjectStore on the SUN Ultra 1. 
In July 1997, KT-Tech ported the object-oriented database interface program, "Odi", to the SUN 
UNIX environment. This program builds the RVC database into the ObjectStore medium. 

Planner/Scheduler/Dispatcher (PSD) Module 

With the installation of Allegro C. Lisp and ObjectStore 4.0, KT-Tech was able to begin 
porting the latest version of the PSD program. In June and July 1997, KT-Tech, through R. Lan, 
ported it and its modifications to the SUN Ultra 1 and UNIX environment. KT-Tech also ported 
a "Tcl-geewix" program running on Tcl7.4/Tk4.0. This program assists the Planner in the 
construction of the information for the Gant charts used in the time management. 

IV, RVC Activity 

By the end of the eighth quarter, in consultation with W. Campbell, Code 935, and with 
the assistance of J. Pierce, KT-Tech had focused attention on sheperding the formation of an 
RVC based at University of California, Davis, centered at the Center for Spatial Technologies 


PROPRIETARY 
© KT-Tech, Incorporated 


39 


10/30/98 



and Remote Sensing (CSTARS). Progress had been made on identifying departments, groups 
and centers at UC Davis and in the UC system which could complement the facilities and 
research backbone of CSTARS. Some progress had been made on identifying Federal, and State 
funding sources, and some ideas about possible commercial clients had emerged. A memo to W. 
Campbell, Code 935, dated April 30, described the status of the RVC effort at UC Davis. In 
particular, the memo set forth impediments to attracting commercial clients in agriculture, due to 
an unfortunate history in the region with remote sensing, and impediments to cooperation with 
CSTARS by significant centers and institutes at UC Davis, attributed to interagency rivalries, 
previous history, and notions of enchroached sovereignty. 

In May 1997, a strategy was set forth to combat these impediments and stimulate the 
formation of an RVC at UC Davis: encourage their efforts to respond to the NRA-97-MTPE-05 
announcement for centers of excellence in applications of remote sensing, and strongly 
encourage their efforts to respond to the CAN-97-MTPE-07 call for the establishment of a 
federation of ESIP Ill's. The rationale was: (1) the initial participants were principally 

researchers and academics, more comfortable with forming alliances to propose for grants, rather 
than to seek out commercial clients; (2) the funds offered directly by the NRA and CAN would 
motivate these groups to cooperate more immediately than pressing them to go out and find 
commercial clients; (3) in responding to the NRA, and in particular to the CAN, they would 
come to understand what the RVC concepts was, and how the ESIP III concept derives from it; 
(4) to respond successfully to the CAN they would by necessity have to go out, seek, and enter 
into agreements with commercial and other clients, in order to achieve a self-sustaining 
operation; and (5) if they were successful in building a response to the CAN, afterward the 
commercial clients might possibly press the affiliation to begin work on agreed tasks prior to any 
decision on the CAN, thereby pressing the affiliation to seek to form an RVC. 

Over the months of May through July 1997 through J. Pierce, KT-Tech assisted in 
sheperding these efforts through Dr. S. Ustin, director of CSTARS, by providing consultation 
and information about the RVC system and network to possible participants in the affiliation and 


PROPRIETARY 

© KT-Tech, Incorporated 


40 


10/30/98 



to possible clients. In May 1997, KT-Tech, through J. Pierce, helped resolve obstacles impeding 
cooperation between the Center for GIS studies at UC Davis, and CSTARS sufficiently to affect 
cooperation in responding in June 1997 to the NRA with a proposal for a center of excellence for 
climate, environment and water resource assessments in California. The affiliation attracted one 
commercial client, the Electric Power Research Institute (EPR1), based at Palo Alto, CA. 

Bouyed by the cooperation for the NRA, KT-Tech, through J. Pierce, pressed S. Ustin to 
enlarge the affiliation and scope of activity to respond effectively to the CAN. KT-Tech assisted 
in negotiations to resolve the roles to be played in the "ESIP/RVC" by the Center for Image 
Processing and Integrated Computing (CIPIC) at UC Davis, and the UC Davis large database 
management effort, part of the UC San Diego supercomputing initiative. In these negotiations 
KT Tech served as a consultant for the RVC, explaining what the objective of the RVC program 
was, what the architecture of an RVC was, how the RVC net was emerging, and the distinctions 
between the RVC concept and the ESIP III concept. In late June and July, negotiations 
expanded to include a principal State environmental agency, the California Environmental 
Resources Evaluation Service (CERES), as well as an additional committment from EPRI. KT- 
Tech, through J. Pierce also provided information to the consortium on Earthstation hardware, 
factors involved in ingesting and managing heterogeneous, environmentally-based data, and 
factors involved in the networking and administrative operations of such centers, as evidenced by 
the RVC's. 

With the completion of the CAN proposal in mid July 1997, KT-Tech, through J. Pierce, 
advanced to S. Ustin and the affiliation that to maintain their momentum and their client base, it 
was important for them to begin at least nominal activity, preferably under the aegis of an RVC. 
Coincidentally, EPRI pressed S. Ustin to begin preliminary work, rather than wait for (and 
regardless of) the outcome of the CAN. On July 25, S. Ustin sent to W. Cambell, Code 935 a 
first draft for a letter of intent to establish an RVC at UC Davis, opening negotiations on the 
intent. 


PROPRIETARY 
© KT-Tech, Incorporated 


41 


10/30/98 



During the tenth quarterly period, August 1 - October 31, 1997, KT-Tech, Incorporated 
continued, broadened or initiated activities for Code 935 in four areas. In the area of image geo- 
registration it completed development on the first versions of two contributions to the 
registration toolbox being developed for the RVC's. Also, it inaugurated the development of the 
second version of the more promising of the two registration algorithms. In the area of spectral 
analysis, KT-Tech made explicit its approach, tasks, and possible data products arising from a 
multi-scale approach to feature extraction from spatially distributed spectral data. KT-Tech had 
initiated inquiry into this avenue of investigation in the last month of the ninth quarter. KT-Tech 
continued its activity to foster the establishment of an RVC at UC Davis, and to foster the 
development of two quite promising data products by CSTARS for use in the RVC’s. Finally, 
KT-Tech completed its major objective to port the RVC database and management system to a 
Sun/Unix environment. KT-Tech began the task of porting the RVC database and management 
system to the SGI environment. 

I. Registration Activity 

At the end of the nineth quarterly period, KT-Tech had completed the development of 
version 1.0 of its original registration algorithm based upon linear wavelet decomposition 
techniques for the registration working group directed by Dr. J. LeMoigne, and had completed a 
MatLab-based beta version of a computationally rapid way to register images based upon 
nonlinear wavelet compression and singular value decomposition techniques. Scheduled for the 
tenth quarter were: the completion of version 1 .0 for the SVD-based algorithm, performance and 
validation tests for both algorithms, the refinements for both algorithms, based upon the tests, 
and the completion of program documentation for the algorithms. Pending at the end of the tenth 
quarter were: the mechanism for delivering the code and documentation for the algorithms, the 
formal installation of the codes into the toolbox, and decisions on whether to continue 
development of a version 2.0 for the SVD-based algorithm which heightens its accuracy and 
capability, and broadens the use of its registration modules as a back end to other feature 
extraction routines. 


PROPRIETARY 

© KT-Tech, Incorporated 


42 


10/30/98 



Registration using nonlinear wavelet compression and SVD tools. 

During the tenth quarter, KT-Tech completed the development of an algorithm to rapidly 
register nonlinearly compressed images using singular valued decomposition (SVD) techniques. 
This registration activity was to involve J. Pinzon and J. Pierce, initiate July 1 and complete 
version 1.0 by September 30. 

By August 18, 1997, J. Pinzon and J. Pierce had completed and debugged a working 
version algorithm in MathLab, and had begun to transcribe the main modules into C. During his 
tenure at Code 935, August 18th- August 29th, J. Pinzon completed coding the algorithm in C 
and installed the principal modules into the suite of algorithms which was to evolve into the 
registration toolbox: the wavelet compression module, the hot pixel extraction module, the 
singular valued decomposition module, and the registration module. First versions of the 
stability feedback loop, and the registration refinement loop also were installed. Because 
priorities at the time required Wei Xia to direct her attention towards RVC development activity, 
consultations with Dr. J. Le Moigne and Wei Xia lead to the decision to postpone the activity of 
interfacing of the code with the Sun-based Khoros graphics interface to September. 
Subsequently, because of the demands of the RVC development, the activity of interfacing the 
code had to be postponed until after November. On August 22, J. Pinzon delivered an informal 
presentation of the registration algorithm to the registration working group at Code 935. 

While J. Pinzon was at NASA GSFC, J. Pierce completed the mathematical analysis 
establishing the validity of using SVD techniques to register images, and continued the analysis 
of refinements for the stability feedback loop. He produced the first draft of the paper to be 
presented at the November registration workshop. 

In September 1997, J. Pinzon and J. Pierce, completed the performance and validation 
tests on the code, in accordance with the protocal set forth by J. LeMoigne for tools for the 
registration toolbox. The results of the tests were delivered to J. LeMoigne September 26, 1997. 
From the tests, J. Pinzon and J. Pierce identified refinements for the program, particularly in the 


PROPRIETARY 

© KT-Tech, Incorporated 


43 


10/30/98 



stability and registration feedback loops. They also identified those conditions in the image 
which inhibit the performance of the algorithm; in particular, the presence of clouds. These 
observations spawned two avenues of inquiry which would produce a more effective version 2.0 
algorithm. One avenue addresses the wavelet compression stage, and is discussed below. The 
other avenue addresses the use of a cloud filtering front end, which is based upon spectral feature 
extraction work. This avenue is addressed further below in the spectral analysis section. 

By September 15, 1997, J, Pinzon and J. Pierce completed and submitted the paper 
"Image registration by nonlinear wavelet compression and singular value decomposition" for the 
CESDIS/IEEE Registration Workshop at GSFC in November 1997. The paper describes the 
algorithm, sets forth its mathematical basis, summarizes how the code implements the algorithm 
(particularly the feedback loops), presents a summary of the performance and validations tests, 
and concludes with observations on the strengths and vulnerabilities of the algorithm, and 
avenues of inquiry for producing a version 2.0. The paper was accepted by the workshop, and 
was to be presented by J. Pinzon in November 1997. In addition, J. Pierce and J. Pinzon 
produced a more complete Program Documentation. 

During September 1997, J. Pinzon and J. Pierce submitted to KT-Tech and Code 935 
avenues for improving the algorithm through a version 2.0, and means by which modules in the 
algorithm could be utilized by other programs which need to register images, but which input 
information other than that for which the program was originally intended. 

The first avenue of development for Version 2.0 is the use of the Steerable Pyramid tool 
to improve in the algorithm the extraction of control points by wavelet compression. This tool 
overcomes the vulnerability in the Version 1 .0 of the algorithm which arises from the lack of 
translation invariance in a wavelet decomposition. In September and October 1997, J. Pinzon 
and J. Pierce established the viability of incorporating this tool in preliminary work. This work 
was the basis of the abstract for the paper “Image registration by steered, nonlinear wavelet 


PROPRIETARY 

© KT-Tech, Incorporated 


44 


10/30/98 



compression directed by neural nets and singular value decomposition”, submitted to the 
AeroSense’98 conference, April 1998. 

The second avenue of development arose from the discussion following the presentation 
by J. Pinzon to Code 935 in September 1997. From comments by Pat Coronado, it appeared 
there was interest in registering images of hyperspectral data to GPS-based ground control 
points. Although the registration algorithm was not developed for input consisting of images and 
GPS data, its modules were directly relevant. Because of the modular nature of the algorithm the 
registering stages of the algorithm were distinct from the compression stages. In particular, the 
SVD computation and SVD-based registration modules would still supply quick accurate 
registration as the back end of a registration algorithm in this context. Indeed, even elements of 
the front end compression could be used, viewing the GPS information as an a-priori ensemble 
of reference control points, and extracting control points from the input image by the algorithm. 
The stability feedback loop would monitor the extraction of control points from the input image, 
and the registration feedback loop would optimize the registering parameters by working solely 
on the ensemble of control points from the input image. 

Registration using the Low-Low component of a linear wavelet decomposition 

At the end of the nineth quarter KT-Tech, through J. Pinzon and J. Pierce, had begun 
testing the algorithm developed by E. Kaymaz to geo-register images using the Low-Low 
component of a linear wavelet decomposition of reference and input images. These tests 
revealed instabilities in the program, and KT-Tech was engaged in isolating those elements in 
the code which precipitated the obstruction, and in assessing if the obstacle is fundamental to the 
design of the algorithm, or an error in the code implementing it. 

In September, KT-Tech corrected the means by which the program isolated its 
computation of the translation parameters from the registration parameters. This correction 
eliminated the loss of convergence in the registration refinement loop, which had caused the 
instability in the program. Validation and performance tests were then carried out, in accordance 


PROPRIETARY 

© KT-Tech, Incorporated 


45 


10/30/98 



to the protocol set forth by J. LeMoigne for tools from the registration working group. The 
results of these tests were delivered to J. LeMoigne September 26, 1997. The results and 
discussions with J. LeMoigne on September 19, 1997, suggested how to refine of the program, 
and how it is possible to integrate this "Low-Low" component algorithm with the "Low-High" 
and "High-High" algorithms developed by J. LeMoigne and M. Mareboyana. Discussions on 
this activity continued through October and were left open, pending decisions by Code 935 on 
the nature of its support for registration efforts. 

II. Spectral Analysis Activity 

In the nineth quarter KT-Tech, through J. Pinzon and J. Pierce initiated discussion with 
Code 935 to isolate avenues of activities relevant to the RVC’s in feature extraction from 
spatially dependent multi and hyper spectral data. In the Nineth Quarterly Report KT-Tech 
submitted an abstract outlining three avenues of activity involving the use of multiscale 
resolution in the spatial and spectral domains which, in presentation to Code 935 and in 
subsequent discussion with T. Gualtierri and J. LeMoigne, had proven to be relevant and 
intriguing. In the tenth quarter, KT-Tech pressed to render these avenues of activity more 
concrete, with the intent to develop specific activities relevant to Code 935’s objectives. 

In August 1997, KT-Tech, through J. Pinzon, established three concrete, specific areas of 
activity in spectral analysis directly interfacing Code 935's current efforts, and which would 
utilize multi-resolution tools to analyze spatially dependent spectral data: connections of HFBA 
and support vectors, HFBA and cloud removal, spectral unmixing, and HFBA and RVC 
applications. The first combines spectral feature extraction using the HFBA technique 
developed at CSTARS, with applications to hyper/multi-spectral images; spatial-spectral feature 
extraction. It develops how HFBA could be integrated with wavelets to produce unsupervised 
and supervised image classification. The second activity addresses cloud removal and describes 
how HFBA could complement the ongoing work by J. Le Moigne, C. Tucker and M. Smith. The 
third addresses how on-the-fly feature extraction based upon spectral redundancies could prove 


PROPRIETARY 

© KT-Tech, Incorporated 


46 


10 / 30/98 



quite useful in processing in real or near time hyperspectral data from instruments flying on the 
UAV. 


In September and October 1997, preliminary work by J. Pinzon, with the assistance of J. 
Pierce, proved promising. The work became the basis for two papers detailing the multi-scale 
approach to spatially dependent spectral data, which serves as the basis for advancing the 
avenues of activity listed above. The abstract for the paper, "Robust spatial and spectral feature 
extraction for multi-spectral and hyper-spectral imagery", was submitted to the AeroSense98 
conference in Orlando FA, in April 1998. The abstract for the paper “Robust feature extraction 
for hyperspectral imagery using both spatial and spectral redundancies” was submitted to the JPL 
workshop on hyperspectral processing, Pasadena Ca, November 1997. 

At the end of October 1997, J. Pinzon presented to Code 935 a summary of the activites 
being formulated. Two topics of discussion arose from the presentation: how to distinguish 
explicitly the contexts in which approaches to classification support vectors had advantage over 
approaches using principal components, and how could spectral redundancy be exploited to 
produce near and real time spectral classification. 

III. RVC Code Porting Activity 

In the tenth quarter KT-Tech, through the efforts of Renlan Liao, had completed the port 
and ad tested the integration of the RVC code from the HP environment to the SUN UNIX 
environment. At the end of the nineth quarter, by working closely with Code 935 and GST, KT- 
Tech had secured a SUN Ultra 1 workstation as a testbed, and had secured the necessary licensed 
software for SUN versions of the Object Store, and media by which the various elements of the 
RVC system communicated. By that time, Renlan Liao had ported the principal modules to the 
SUN environment. Pending were the ports of revisions of the modules, the system integration, 
and the testing, validation, and certification of the system. 


PROPRIETARY 
©KT-Tech, Incorporated 


47 


10 / 30/98 



During month of August, KT-Tech completed the porting of the then current and 
emerging versions of the various modules of RVC including: User Interface Module, Ingest 
Module, Database Module, Planner/Scheduler/Dispatcher Module. Working with GST 
personnel, KT-Tech, through Renlan Liao, constructed a test server to validate the interface. By 
the end of August, KT-Tech had completed the port of the eight major module, had tested them 
individually, and had initiated the system integration activity. 

During month of September, KT-Tech, through Renlan Liao, announced at the RVC 
workshop its completion of the port, test, and validation of the operation of the eight major 
modules in the RVC system operating in the SUN UNIX environment, on the Sun workstation 
serving as a test server. By mid September, at the time of the RVC workshop, only system 
integration problems remained to be resolved. At that time, Renlan Liao confirmed that the 
system integration would be completed by September 30, 1997, as originally projected. Working 
closely with Bob Cromp and GST personnel, the system integration was completed and the 
integrated system running in the Sun UNIX environment was tested and proven functional by 
September 30, 1997. 

To confirm that the RVC system running in the Sun UNIX environment was fully 
operational, KT-Tech had to test it on actual RVC data, as opposed to simulated data. In October 
1997, KT-Tech successfully tested the system operating in the UNIX environment on two small 
satellite images. However, to fully test the system, KT-Tech required another 8 Gigabyte hard 
drive for the test server to store the large GOES and NOAA images. Through Bob Cromp 
specifications were filed to aquire the drive. 

At the end September 1997, Code 935 requested KT-Tech, in consultation with GST, to 
begin the port of the RVC to the SGI environment. In October 1997 KT-Tech on site at Code 
935 started the project to port the RVC to the SGI environment, specifically the IRIX 6.3. KT- 
Tech, working with personnel from GST installed Tel 7.4, Kk 4.0, Diffutil 2.5 and RCS5.7 on 
the SGI machine on site at Code 935. 


PROPRIETARY 

© KT-Tech, Incorporated 


48 


10/30/98 



By the end of October 1997 KT-Tech, through Renlan Liao, had ported the following 
modules to the SGI environment: Curator, sqt, and Scripts. 

IV. RVC Activity 

In the tenth quarter KT-Tech, through J. Pierce, continued its efforts to shepherd the 
establishment of an RVC at UC Davis, and to foster the production of data products and tools 
relevant to RVC activity. KT-Tech continued to operate on the strategy of pressing S. Ustin to 
maintain the momentum and the affiliations developed for the responses to the NRA-97-MTPE- 
05 (Center of Excellence in Applications of Remote Sensing and CAN-97-MTPE-02 (ESIP III) 
announcements by finalizing an RVC letter of intent and inaugurating RVC activity prior to, and 
independent of, the announcement of these awards. During the last week of July, the effort had 
produced a first draft of a letter of intent, submitted as a memo to Bill Campbell. 

In August 1997, the strategy showed more promise when UC Davis was announced as a 
recipient of a NASA NRA as a center of excellence in applications of remote sensing. The grant, 
strictly for hardware, would enable CSTARS to purchase an AVHRR earthstation. It was hoped 
at the time that this achievement could be used to leverage in two ways: to gain an endorsement 
by the College of Agriculture and Environmental Science to the president of the university to 
obtain the letter of intent, and to obtain a contract from EPRI (Electric Power Research Institute) 
to begin work proposed with EPRI in the NASA CAN, using funds formally committed by EPRI 
in the CAN proposal. 

In September 1997, these efforts were set back, because of two developments. First, 
efforts to obtain the endorsement of the college were hampered, because of a challenge for 
endorsement by another group in the college seeking a focus on plant genetic engineering. 
Second, discussions with R. Bernstein, director of the Disaster Planning and Mitigation Target 
for EPRI, revealed that his group was in negotiation with Lockheed-Martin on tasks paralleling 
those proposed with CSTARS in the NASA CAN. Consequently, R. Bernstein, himself, would 
not commit funds prior to the award of the CAN. However, CSTARS was invited to present to 


PROPRIETARY 
© KT-Tech, Incorporated 


49 


10/30/98 



the power companies forming the target group data products which the group could consider and 
possibly decide to fund. 

In light of these developments, activity in August began to shift towards: (1) maintaining 
the involvement by CSTARS in the RVC activity, and (2) seeking ways to involve CIPIC, the 
center for image processing and integrated computing at UC Davis, in the RVC activity. 

In September 1997, S. Ustin pressed to cement her relationship with the Disaster 
Planning and Mitigation Target Group in EPRI. The August EPRI news letter target group 
announced its partnership with UC Davis in the NASA CAN. Also, S. Ustin was invited to 
deliver an address on the use of remote sensing and NASA data products for disaster monitoring 
and assessment at the annual target meeting in Phoenix, Arizona, in October. 

In September, S. Ustin, assisted by J. Pierce, attended the RVC workshop and presented 
the first drafts of data products CSTARS was developing for EPRI, as an example of emerging 
UC Davis RVC activity. Regretably, because of a lack of communication between S. Ustin and 
W. Campbell, the objectives of the presentation had been mutually misinterpreted. S. Ustin 
sought to present an example of a commercially viable RVC data product, W. Campbell sought 
the state of progress towards the establishment of an RVC entity, regardless of product. In 
consequence, the lack of interaction doomed the prospect of a letter to support the effort to gain 
endorsement from the College of Agriculture, further hindering the effort to achieve a letter of 
intent from the university. 

In light of this setback, effort by KT-Tech refocused on how CSTARS at UC Davis might 
serve as a source of data products relevant to the Goddard and other RVC’s. At the RVC 
workshop three avenues emerged. 

First, through KT-Tech, CSTARS could definitely assist Code935 in engaging C. Sailor 
to assist in the porting of the image processing software Majestic to the RVC. C. Sailor is at 
Davis CA, and (in keeping with her husband) seeks an affiliation with UC Davis. CSTARS can 


PROPRIETARY 
© KT-Tech, Incorporated 


50 


10/30/98 



provide that affiliation, and provide (along with CIPIC) adequate facilities to enhance the porting 
of the software. This idea was advanced to J. Garegnani on the final day of the RVC workshop 
in September. When presented with the idea subsequently, C. Sailor expressed definite interest. 

Second, in his presentation, and in the remarks made by W. Campbell afterward, Steve 
Maher conveyed the significance and importance of developing ways of rendering in 3D 
changing to rapidly changing environmental data. To accomplish this objective novel 
developments in graphical rendering and rapid selection would be required. Such investigations 
wee a principal interest to B. Hamann the leader of the visualization thrust of CIPIC. In 
particular, he was quite experienced and had the laboratory facilities to implement hierarchical 
data structuring of geometrically positioned data for rapid rendering, selection, and smaller scale 
examination. Also, CIPIC was acquiring a 3D Immersive WorkBench, in keeping with Steve 
Maher's direction for RVC graphics rendering. In light of these observations, and with the 
agreement of B. Hamann, J. Pierce sent on September 30 an inquiry to Steve Maher about the 
possibility of discussing mutually beneficial activity. 

Third, at the RVC workshop, N. Rische spoke on the development of a semantic-based 
object-oriented database, to be used in the future for RVC applications. It occurred that it might 
be particularly effective if data products and graphical rendering were also developed in such a 
hierarchical data structure paradigm. After the RVC workshop, J. Pierce presented the idea to B. 
Hamann and D. Rocke, leader of the massive computation thrust at CIPIC. Both expressed 
interest in the idea, and certainly interest in learning more about the database. With their 
approval, J. Pierce contacted N. Riche, who expressed definite interest in such an approach 

In October 1997, effort focused initially on competing for funds from EPRI previously 
committed formally, subject to the award of the NASA CAN. On October 16, J. Pierce, 
speaking for S. Ustin presented “Current and Future NASA Data for Disaster Assessment & UC 
Davis/EPRI Activity” to the Disaster Planning and Mitigation Technologies Target Utility 
Advisors Group at the annual meeting of EPRJ in Phoenix AZ. In the presentation J. Pierce 


PROPRIETARY 
© KT-Tech, Incorporated 


51 


10/30/98 



displayed two emerging data products from the CSTARS group: one directed towards the impact 
of severe weather and flood of electric power transmission systems, the other toward the 
monitoring and prediction of wildfires in wilderness regions. In each scenario, J. Pierce 
discussed the importance of use remote sensing data and models in conjunction: to assess and 
monitor vulnerability and resourse marshalling stategies at the pre-event stage, anticipating 
what’s happening at the time of the event (using models), and assessing damage and recovery at 
the post-event stage. The RVC concept was presented as an overview, illustrating with the data 
products the idea of client-oriented data product development. 

During the eleventh quarterly period, November 1, 1997 - January 31, 1998, KT-Tech, 
Incorporated continued its activities for Code 935 in the area of the porting of the RVC, now 
known as the RAC, completed its contributions for the registration toolbox, and terminated its 
efforts to develop activities in the area of spectral analysis. 

For the task of porting the RAC, during this quarter KT-Tech began porting the database 
and management system to the SGI environment. KT-Tech also stress tested the the completed 
RAV in the SUN UNIX environment, and began its final packing for the release. 

In the area of registration, KT-Tech completed the protocol for the release to the 
registration toolbox of the two registration algorithms developed in the previous quarters. The C 
code for the algorithm based upon the Low-Low component of a wavelet decomposition of the 
registering images was installed into the toolbox and successfully interfaced with Khoros 
environment. At the USRA/CESDIS Image Registration Workshop, KT-Tech presented a paper 
on the nonlinear wavelet registration algorithm. A second paper which reported the next 
generation design of the nonlinear algorithm was submitted and accepted for presentation at the 
SPIE AeroSense'98 conference. The paper was subsequently withdrawn when support for 
further development of the registration activity was removed. 

In the area of spectral analysis, KT-Tech proposed its design for integrating multi 
resolutional tools, with spectral mixture analysis and the support vector approach to produce a 


PROPRIETARY 

© KT-Tech, Incorporated 


52 


10/30/98 



means for automatic or supervised feature extraction from spatially dependinet multi and hyper 
spectral data. The work produced a paper accepted for the SPIE AeroSense'98 conference. 

I. RAC Code Porting Activity 

In the eleventh quarter KT-Tech, through the efforts of Renlan Liao, initiated the port of 
the RAC code from the HP and SUN UNIX environments to the SGI environment. At the end 
of the tenth quarter, by working closely with Code 935 and GST, KT-Tech had completed port 
and tested the integration of the RVC (RAC) code from the HP environment to the SUN UNIX 
environment. Pending for the release of the code was a stress testing of the port, an ugrade of the 
ODI to a newer version. 

In November 1997, KT-Tech, through Renlan Liao, ported the PSD, RVCI and Geewiz 
packages to the SGI environment. Technical difficulties were encountered, due to the 
differences among the communication and C, C++ libraries on SGI, SUN, and HP. KT-Tech 
developed means to efficiently translate communication modes and access libraries for these 
three systems. In December 1997, KT-Tech installed and validated the operation of ALLEGRO 
COMMON LISP from FRANZ INC., and OBJECTSTORE from Object Design on SGI system. 
KT-Tech also began to port the Planner-Scheduler-Dispatcher module and ODI module, which is 
the object oriented database server of RAC system. In January, KT-Tech began to port to the SGI 
IRIX 6.3 a newer version of ODI, the object-oriented database part of the RAC. KT-Tech 
received this version of the ODI in mid January. KT-Tech encountered some segmentation fault 
error messages. KT-Tech is now negotiatin with Technical support from Object Design - maker 
of ObjectStore - resolve these segmentation difficulties. 

During the eleventh quarter KT-Tech overcame hardware access and software availability 
problems to complete the certification of the RAC in the SUN UNIX environment through stress 
testing the system. By the end of the tenth quarter, KT-Tech had completed the RAC system 
integration in the SUN UNIX environment, proven the system functional, and had certified that 
the system was operational by testing it on two small satellite images. It remained to test the 


PROPRIETARY 
© KT-Tech, Incorporated 


53 


10/30/98 



system fully on GOES and other NOAA images. This required additional hardware, in 
particular, an 8 GigaByte hard disk for image storage. In October 1997, with the help of Bob 
Cromp, KT-Tech ordered for the SUN Ultra 1 workstation 2 hard drives, each with 4.2 Gb 
capacity, for the purpose of building a testbed to stress test the RAC in the SUN/UNIX 
environment. In November 1997, KT-Tech received the SPAECstorage MultiPack which was 
needed for the stress test of the RVC. In December 1997, KT-Tech, with the help of GST 
personal, was able to acquire and enable one of the hard drives. It was cross mounted to the SGI 
IRIX 6.3 workstation so as to serve as a storage area for the porting to SGI. In January 1998, 
KT-Tech was able to acquire the second drive and perform the stress testing for the RAC in the 
SUN environment. 

In mid-January 1998, KT-Tech received a newer version of ODI, the object-oriented 
database part of RAC. The newer version replaced the "RogueWave" library with a customized 
library. By the end of January 1998 and the eleventh quarter, KT-Tech was working on the final 
packing of RAC on SUN Workstation in preparation for the release of it to Kansas University 
RAC center. The preparation included: modifying make files, modifying configuration files and 
testing automatic installation scripts. 

II. Registration Activity 

During the eleventh quarter, KT-Tech completed its two contributions to the registration 
toolbox, negotiated the release of the codes, installed the first of the two algorithms, and 
terminated its efforts to develop either algorithm further. 

Registration using the Low-Low component of a linear wavelet decomposition 

At the end of the tenth quarter, KT-Tech, through J. Pinzon and J. Pierce, had examined 
the code developed by E. Kaymaz to geo-register images using the Low-Low component of a 
linear wavelet decomposition of reference and input images and had isolated elements which 
contributed to instabilities in its performance. KT-Tech also identified elements in the wavelet 


PROPRIETARY 

© KT-Tech, Incorporated 


54 


10 / 30/98 



decomposition and reconstruction algorithms which supported all wavelet-based routines in the 
toolbox. These elements could contribute to an inherent uncertainty for all algorithms which 
called these routines for wavelet decomposition. 

In November 1997, KT-Tech, though J. Pinzon and J. Pierce, amended the code for the 
algorithm itself to correct instabilities in the registration caused by an improper cropping of the 
image and an instabilitiy in the successive approximation routine. KT-Tech also revised the 
structure of the code to produce a more modularized code. Such a structure would open the code 
for future developments, whereby it might be merged with the algorithms using the Low- 
High/High-Low and the High-High componets of the wavelet decomposition. 

In December 1997, KT-Tech discovered an additional source of inherent error in the 
algorithm arising from two sources in the compression and reconstruction algorithms of J. 
LeMoigne, which are called by this routine. The first source of error arose when the 
compression algorithm overwrote an "indata" file, treating it as a temporary file. Because of a 
parameter which is fixed in some subroutines and called by others, the compression of images 
larger than 128 X 128 caused a loss of significant portion of original image, resulting (under 
reconstruction) in random gray level pixels. KT-Tech assessed that this phenomenon was a 
principal reason why its algorithm would not converge sharply to a specific set of registration 
parameters. KT-Tech corrected the problem by erecting an "indetails LL" file to which "indata" 
outputs its Low-Low components prior be being overwritten, and by dismissing the call to the 
reconstruction routine. 

In addition, KT-Tech identified a variable casting problem arising from interfacing the 
wavelet compression algorithms with the Khoros GUI. The wavelet compression routines 
produce float variables; the Khoros interface requires integer variables to produce its displays. 
Until this time, the practice of recasting the float variables as integers and "losing" the pointers 
to the float variables with the overwriting of the "indata" files had been of minor consequence. 
However, recasting the wavelet coefficients from float to integer would truncate their 


PROPRIETARY 

© KT-Tech, Incorporated 


55 


10 / 30/98 



representation, commonly called "quantization". The action would introduce inherent error for 
routines which would extract features from the wavelet coefficients for the purpose of 
registration. KT-Tech corrected its algorithm to protect the integrity of the float variables until 
the registration was complete, then recasting variables for display by Khoros. 

In January 1998, the amended C code for the Low-Low component based algorithm was 
released to J. LeMoigne, successfully interfaced with the Khoros environment, and installed in 
the toolbox. 

Registration using nonlinear wavelet compression and SVD tools. 

By the end of the tenth quarter, KT-Tech, through J. Pinzon and J. Pierce had completed 
the development of a second registration algorithm which used a nonlinear wavelet compression 
and Singular Value Decomposition tools. The algorithm had been developed as a MatLab code 
and had been validated using the testbed developed by J. LeMoigne for algorithms for the 
registration toolbox. KT-Tech was engaged in two efforts at that time: casting this version of 
the algorithm into C code and interfacing it with the Khoros environment, and developing the 
second version of the algorithm which would utilize a Steerable Pyramid to achieve more robust 
and more accurate results. 

In November 1997, J. Pinzon presented the paper "Image Registration by Non-Linear 
Wavelet Compression and Singular Value Decomposition" at the USRA/CESDIS Image 
Registration Workshop, held at GSFC. The paper described the nonlinear wavelet based 
algorithm and presented the results of the validation tests. Also, it outlined the developments for 
the second version of the algorithm. 

Because of budget cutbacks, in December 1997, KT-Tech decided it could no longer 
support further development of any registration algorithm. In particular, when the paper “Image 
registration by steered, nonlinear wavelet compression directed by neural nets and singular value 
decomposition” was accepted for presentation at the AeroSense'98 conference in April 1998, the 


PROPRIETARY 

© KT-Tech, Incorporated 


56 


10/30/98 



authors were forced to withdraw the paper. KT-Tech could not bear the cost of preparing the 
document and presenting the paper. 

Rather, in December 1997 and January 1998, KT-Tech limited activity on this project to 
coding the algorithm in C. Because of scheduling problems and task revisions required by the 
budget cutback for the registration toolbox, J LeMoigne requested that KT-Tech submit only the 
Low-Low component algorithm for the version 1.0 of the toolbox, and reserve the nonlinear 
wavelet algorithm for submission to version 2.0 of the toolbox. 

III. Spectral Analysis Activity 

At the end of the tenth quarter KT-Tech, through the efforts of J. Pinzon, assisted by J. 
Pierce, had developed proposals for activity in three areas related to classification and feature 
extraction from spectral data. The work became the basis for two papers detailing a multi-scale 
approach to spatially dependent spectral data. The abstract for the paper, "Robust spatial and 
spectral feature extraction for multi-spectral and hyper-spectral imagery", was submitted to the 
AeroSense98 conference in Orlando FA, in April 1998. The abstract for the paper “Robust 
feature extraction for hyperspectral imagery using both spatial and spectral redundancies” was 
submitted to the 7th JPL Airborne Earth Science Workshop in Pasadena CA, in January 1998. 

During November 1997, KT-Tech continued to try to align its spectral analysis activity to 
directly support ongoing activity at Code 935. In particular, KT-Tech addressed the problem of 
how to distinguish explicitly the contexts in which approaches to classification using support 
vectors would have advantages over approaches using principal components, and how the multi- 
resolution tools of wavelets and HFBA would augment the classification using support vectors. 
KT-Tech also prepared a summary of these ideas on HFBA which was sent to J. Garegnani and 
R. Cromp for further consideration. 

Because of budget cutbacks, in December 1997, the government program managers 
decided they could no longer support further development of registration algorithms. KT-Tech 


PROPRIETARY 
© KT-Tech, Incorporated 


57 


10/30/98 



negotiated with S. Ustin and the CSTARS lab, UC Davis, to assume partial support of this 
effort, simply to keep it alive. As a consequence, when SP1E notified KT-Tech of the acceptance 
of the abstract for the paper "Robust spatial and spectral feature extraction for multi-spectral and 
hyper-spectral imagery", for the AeroSense'98 Conference in April 1998, KT-Tech released to 
CSTARS the rights to complete the development of this work and present it at the conference. 
Likewise the paper for the 7th JPL Earth Science Workshop was presented under the aegis of the 
CSTARS lab in January 1998. 

During the twelfth quarterly period, February 1, 1997 - April 30, 1998, KT-Tech, 
Incorporated continued its activities for Code 935 in the area of the porting of the RAC, and 
expanded the documentation on its contributions for the registration toolbox. 

For the task of porting the RAC, during this quarter KT-Tech continued the porting of the 
RAC database and management system to the SGI environment. KT-Tech also stress tested the 
the completed RAC in the SUN UNIX environment, and prepared the final packing for its 
release to the University of Kansas. KT-Tech also engaged in porting the latest version of the 
RAC from the HP environment to the SUN UNIX environment. 

In the area of registration, KT-Tech delivered its program documentation for the 
registration algorithm based upon the low-low component of the linear wavelet decomposition of 
the images under investigation, delivered a complete set of validation and performance tests for 
the algorithm, and delivered the program documentation for the registration algorithm based 
upon the nonlinear wavelet compression of images using singular value decomposition 
techniques. 

I. RAC Code Porting Activity 

At the end of the eleventh quarter, KT-Tech, through the efforts of Renlan Liao, had 
anticipated completing the port of this newer version of the ODI to the SUN UNIX environment, 
completing the stress test of the RAC on the SUN, packing and releasing Sun-based RAC to the 


PROPRIETARY 

© KT-Tech, Incorporated 


58 


10/30/98 



University of Kansas, porting the current version RAC to the SGI IRJX6.3, helping GST 
personnel working on the next generation of RAC, which would use switch board 
communication protocol, porting the next generation of RAC to the SUN Solaris operating 
system, and porting the next generation of RAC to the SGI IRIX 6.3. 

In February and March 1998, KT-Tech advanced its efforts to port the RAC from the HP 
UNIX platform to SGI IRIX 6.3 operating system, and to develop the testbed and protocols to 
stress test the RAC in the SUN/UNIX environment. KT-Tech pressed to port a new version of 
ODI, the object-oriented database part of RAC, to Sun Workstation, resolving the different ways 
HP-UNIX and SUNUNIX deal with the Null pointer. KT-Tech continued its work on the final 
packing of RAC on SUN Workstation in preparation for the release of it to Kansas University 
RAC center. The preparation included: modifying make files, modifying configuration files and 
testing automatic installation scripts. KT-Tech also completed its efforts to develop the testbed 
and protocols to stress test the RAC in the SUN/UNIX environment. 

In April 1998, KT-Tech completed its stress test of the RAC in the SUN/UNIX 
environment. Eleven real time satellite images from 5 AVHRR bands and assorted GIF images 
were used in the test. The RAC was able to ingest, index and store the information. 
Subsequently, tests to query the database, find the image produce and retrieve data product 
orders proved successful. 

Also in April 1998, KT-Tech was able to significantly advance its porting of the latest 
version of the RAC from the HP environment to the SUN/UNIX environment. This version uses 
Tel 8.0 and Tk 8.0 for the interface and includes some other changes in each module. 

II. Registration Activity 

During the twelfth quarter KT-Tech, through the efforts of J. Pinzon and J. F. Pierce, 
complemented its documentation of the two registration algorithms KT-Tech had delivered to the 
Registration Working Group prior to and by the end of the eleventh quarter. In February 1998, 


PROPRIETARY 

© KT-Tech, Incorporated 


59 


10/30/98 



KT-Tech delivered the program documentation for the registration algorithm based upon the 
low-low component of the linear wavelet decomposition of the images under investigation. In 
March 1998, KT-Tech delivered a complete set of validation and performance tests for the 
algorithm. 


PROPRIETARY 
© KT-Tech, Incorporated 


60 


10/30/98 



Contract Performance and Analysis of the Results Obtained During Year 4 


During the thirteenth quarterly period, May 1, 1998 - July 31, 1998, KT-Tech, 
Incorporated continued its activities for Code 935 in the area of porting the Regional 
Applications Center (RAC) database and management system to the SGI environment. 

During May 1998, KT-Tech ported the latest version of Regional Application Center 
(RAC) from the HP to the SUN workstation environment. Working with the designer for each 
module, KT-Tech modified the original code and Makefiles, so that the same code could work 
both on the HP and the SUN systems. Modifications were made to the Makefiles following 
modules: Gant, Curator, PSD, Ingest, Rcvi, and ODI 1.9. 

Working with personnel from GST, KT-Tech also started to develop and test an 
installation package which is user-friendly and grammar-proof. To fully test the installation 
package, KT-Tech installed the new package on a clean Sun workstation, Badu, and ingested real 
time satellite images (NOAA12, NOAA14 and GOES) into the system. 

KT-Tech also worked out the environmental differences between HP UNIX and SUN 
UNIX and addressed them in the install package. 

Starting this quarter, KT-Tech began to maintain for each month an archive of the notes 
which record the changes in the various modules of the RAC code that were required to enable 
the porting to the various environments and the integration of the codes for the various systems. 
For June 1998, the notes being placed in the log were those related to the modifications of the 
Makefiles described above, those related to the port to the workstation Badu, and those related to 
the modifications to accommodate the module ODI 1 .9. These notes were meant to serve as a 
source of reference for the formal effort to document the RAC program. 


PROPRIETARY 
© KT-Tech, Incorporated 


61 


10/30/98 



In June 1998, KT-Tech continued with its efforts to port the latest changes of RAC from 
the HP to the SUN workstation environment. Working with the designer for each module, KT- 
Tech continued to modify changes in evolving code and Makefiles as they arose, so that the 
same code could work both on the HP and the SUN systems. During this month, modifications 
for the SUN port were made to the Makefiles of the following modules: Gant, ODI, Ingest, and 
in the ODI/RAC schema. Modifications were made also in the Parser header to reflect the 
migration from C pointers to LISP elements. 

KT-Tech also continued to work out the environmental differences between HP UNIX 
and SUN UNIX. Changes in the environment for the SUN were included in the .rvc env file. 

In July 1998, work continued on porting revisions of the RAC and on refining the 
installation package, making it more user friendly. Renlan Liao began orienting and training 
Claudia M. Casteneda. During this period the porting process was explained, and a protocol 
written explaining the steps followed and the environment under which the work was done. It 
was decided that KT-Tech effort should be directed towards the implementation of the dispatcher 
and to this end an initial meeting with Dr. R. Bane took place to give an overview of the system 
as it was at thetime. Dr. Bane explained the new design ideas that he had in mind and his 
requirements for the language to be used in this implementation. From this meeting it was 
agreed that further work with the Common Lisp Object System (CLOS) was needed. KT-Tech 
prepared a basic plan to approach these new tasks. It was decided that there would be at least 
one weekly meeting with Dr. Bane where revision of short term goals and discussions would 
take place. 

During October 1998, the program COLLAGE, a domain independent planning system 
was run with an example previously written by Dr. Amy Lansky. The core of the program would 
run. However, its elements but like the GUI would not run because it was written in an old 
version of Tcl/Tk which was not compatible with the version installed on the computer being 


PROPRIETARY 

© KT-Tech, Incorporated 


62 


10 / 30/98 



used. Therefore, KT-Tech, started focusing on ascertaining how the program worked in order to 
be able to insert it into the RAC system. 

The planner takes a set of specifications, e.g. facts, constraints, relations, bindings, and 
resources, and generates a plan accordingly. Initially, KT-Tech had to find out the way in which 
the specifications were read into the plan so that input files could be presented to the planner 
directly. 

KT-Tech also had to be able to articulate the existing elements in the PSD module with 
the new one. These tasks were to be coordinated by Dr. Bane through a main weekly meeting 
and secondary ones as needed. 


PROPRIETARY 

© KT-Tech, Incorporated 


63 


10/30/98 



APPENDIX A 


PROPRIETARY 64 10/30/98 

© KT-Tech, Incorporated 



RVC SOFTWARE MODULE 
IMPROVEMENT REPORT 


NASA CONTRACT NUMBER: NAS5-32893 


FIRM NAME: 


KT-Tech, Incorporated 


FIRM ADRESS: 


9801 Greenbelt Road 
Suite 314 

Lanham, Maryland 20706 


DELIVERY DATE: 


May 1, 1997 



RVC Software Module Improvement Report 


As a part of its contract deliverable with NASA, during the period March 3 - April 
30, 1997, KT-Tech has started working on the RVC code porting from HP environment 
to SUN UNIX. KT-Tech has started studying the system and its requirements and has 
been in close contact with Government and GST personnel involved in the 
implementation of the original system. 

The RVC system includes four major modules: 

1) Algorithm 

2) Query Interface 

3) Planner-Scheduler-Dispatcher(PSD) 

4) Database 

KT-Tech has finished porting of the Algorithm part and in the process of porting 
the Query Interface. KT-Tech is still waiting for the tool packages necessary for porting 
the PSD and Database part of the system. 


1. ALGORITHM 

This package was developed by Samir Chettri. It includes 1 1 objects: 

Veg_Index_avherr, Computes a Vegetation Index for a given scene on the 
ground. Takes bands 1 and 2 of an AVHRR image and computes a “greenness 
index” or a “vegetation index”. High values of vegetation index indicate pixels 
with high proportions of green biomass. The input files are unsigned short ints 
and the output file is unsigned byte. Vegetation index is formed as: 

VI = N/D, where 

N = (AVHRR Channel 2 - AVHRR Channel 1) 

D = (AVHRR Channel 2 + AVHRR Channel 1 ). 

Pclouds_avhrr, Obtains a cloud mask for AVHRR images. Takes bands 1 and 4 
of an AVHRR image, calibration files for both bands, navigation for the images; 
user provided thresholds for albedo and temperature (band 1 is the visible channel 


PROPRIETARY 

© KT-Tech, Incorporated 


1 


5/1/1997 



and band 4 the infrared- therefore it is appropriate to use the terms albedo and 
temperature respectively) and produces a cloud mask. 

To get all the clouds in the image, the user may have to vary the thresholds. 

This is due to the large variation in cloud top temperature and reflectivity. In 
addition, it is possible to have high reflectivity in parts of the image depending on 
the positions of the sun with respect to the sensor ( this phenomenon is called sun 
glint). 

Pconvert_raw-mac_header: program to take raw file and convert to a Mac 
header file as required by the RDC viewer 

Wavelet, Computes the wavelet transform of an image. The wavelet transform in 
one dimension takes a signal and filters it to produce a new output signal of the 
same length as the input. The output signal consists of two parts. The first part 
(in fact the first half) consists of the low pass filtered input signal and the second 
part consists of the high pass filtered input signal. One can recursively perform the 
same filtering operations on the low pass part of the data (i.e., the first half by 
convention). Each recursion is a “level” in the wavelet transform with the first 
filtering operations being level 1 . 

The filtering procedure may be extended to 2 dimensional signals (i.e, 
input images). Much like the two dimensional Fourier Transform, the rows and 
columns can be treated independently. What we now get is an output image (of 
the same size as the original image) that is divided into four parts LL, HE, HH. 
LH(clockwise from the upper left, by convention). Where LL= the original 
image lowpass filtered in the horizontal and vertical directions; HL = highpass 
filtered in horizontal, lowpass filtered in the vertical; HH = highpass filtered in 
both directions; LH = lowpass filtered in horizontal, highpass in the vertical. 
Again, we can recursively perform this operation on the LL image for as many 
levels as the data will permit. What we get is a sequence of images representing 
different frequency and spatial information in the image. 

Snow_and_Ice, Obtains snow and ice regions in an image. Takes bands I and 2 
of an A VHRR image and computes the snow and ice cover by creating three new 


PROPRIETARY 

© KT-Tech, Incorporated 


2 


5/1/1997 



image bands. The input files are unsigned short ints and the output files are 
unsigned byte. The algorithm is described below: 

* Output Band 1: 4*AVHRR Band 2-3*AVHRR Band 1 

* Output Band 2: AVHRR Band 2 

* Output Band 3: AVHRR Band 1 

The computed bands form the RGB channels of a new 3 band image. This 
algorithm was provided by Bene Shaffer who called it “Albert Arkin’s algorithm”. 

Pnn_random_select 

Pkmeans 

Pfire_avhrr 

Phisto 

Edge_detect 

Io_test. 

This algorithm package was developed using a programming tool called Khoros 
which is a software integration and development environment. It provides a rich, set of 
programs for information processing, data exploration and data visualization. 
Multidimensional data manipulation operators include pointwise arithmetic, statistic 
calculations, data conversions, histograms, data organization, and size operator; image 
processing routines and matrix manipulation are also provided. Interactive data 
visualization programs include an image display & manipulation package, an animation 
program, a 2D/3D plotting package, a colormap alteration tool, and an interactive 
image/signal classification. In addition, 3D visualization capabilities are also offered; a 
number of data processing routines for 3D visualization are provided, along with a 
software rendering application. The Khoros operators are generalized, such that each can 
solve problems in a variety of specific areas such as medical imaging, remote sensing, 
process control, signal processing, and numerical analysis. 

The goal of the Khoros software is to provide a complete application 
development environment that redefines the software engineering process to include all 
members of the project group, from the application end-user to the infrastructure 
programmer. Khoros is a comprehensive system that may be viewed in different ways, 
depending on your scientific needs and objectives. 


PROPRIETARY 

© KT-Tech, Incorporated 


3 


5/1/1997 



For every Khoros object in Samir’s package, KT-Tech needs to go through the 
following steps: create object, make clean, make klint, make Makefile, make, make 
install. Since it uses an in-house developed library “LiblDSO.a”, KT-Tech also need to 
port this library to Sun platform. Following changes were made to insure its successful 
compilation on Sun: 

I )LiblDSO.a/ OrbitTools.h uses an include file <sys/timers.h>. Sun does not have such 
a file. After inspection of the functionality of this file, KT-Tech decided to use <time.h> 
instead, and add “#defme TimeOFDAY 1” in the same file. 

2) Since the byte order in HP and Sun are different, byte switching function swap was 
used in many places. KT-Tech added (char *) in front of many variables to silence the 
compiling warning message (see appendix 1). 

3) In Tools. c, logfQ and expf() were used for floating point calculation. Those two 
functions were defined in <math.h> on HP. On Sun, there is no function for floating 
point. After close evaluation, KT-Tech decided to use log() andexp(). 

2. RVC QUERY INTERFACE 

RVC query interface is a Graphical user interface to the database. With this tool 
you can find out what images are in the holdings by making a query based on constraining 
any combination of the following attributes: 

Platform-sensor-channel 

Time 

Bandwidth 
Image content 
Location. 

After the appropriate constraints are selected, the query is submitted with a 
button-push on the user interface’s panel. If the query can be satisfied, the hits are 
displayed as marks on the map representing image centers for those items in the holding 
that match your query. Typically after this step you will “browse” through your hits. You 
do this by selecting a few (or many, or all) of them, and push another button. At this 
point, a thumbnail representation of each granule in your selection is displayed inside a 


PROPRIETARY 

© KT-Tech, Incorporated 


4 


5 / 1/1997 



new window. Now you can decide if you want to order a particular product related to this 
image. Products either already exist, or are generated by running any of the available 
programs applicable to your chosen image. In either case, you are presented with a choice 
from a menu associated with the image. Alter you complete your choice, the product 
generation will be initiated asynchronously by the system to the server. You will 
automatically receive an e-mail with information on how you can retrieve your requested 
products when your request has been completed. 

The Query interface was developed using Tel and Tk. Tel is actually two things: 
a language and a library. First, Tel is a simple textual language, intended primarily for 
issuing commands to interactive programs such as text editors, debuggers, illustrators, 
and shells. It has a simple syntax and is also programmable, soTcl users can write 
command procedures to provide more powerful commands than those in the built-in set. 

Second, Tel is a library package that can be embedded in application programs. 
The Tel library consists of a parser for the Tel language, routines to implement the Tel 
built-in commands, and procedures that allow each application to extend Tel with 
additional commands specific to that application. The application program generates Tel 
commands and passes them to the Tel parser for execution. Commands may be generated 
by reading characters from an input source, or by associating command strings with 
elements of the application’s user interface, such as menu entries, buttons, or keystrokes. 
When the Tel library receives commands, it parses them into component fields and 
executes built-in commands directly. For commands implemented by the application, Tel 
calls back to the application to execute the commands. In many cases, commands will 
invoke recursive invocations of the Tel interpreter by passing on additional strings to 
execute. 

An application program gains several advantages by using Tel for its command 
language. First Tel provides a standard syntax: once users know Tel, they will be able to 
issue commands easily to any Tcl-based application. Second, Tel provides 
programmability. All aTcl application needs to do is to implement a few application- 
specific programming interfaces for building up complex command procedures. By using 
Tel, applications need not re-implement these features. Third, extensions to Tel, such as 
the Tk toolkit , provide mechanisms for communicating between applications by sending 
Tel commands back and forth. The common Tel language framework makes it easier for 
applications to communicate with one another. 


PROPRIETARY 

© KT-Tech, Incorporated 


5 


5/1/1997 



Note that Tel was designed with the philosophy that one should actually use two 
or more languages when designing large software systems. One for manipulating 
complex internal data structures, or where performance is key, and another such asTcl, 

(in writing smallish scripts dial lie together the oilier pieces, providing hooks for the user 
to extend. 

Tk is an extension to Tel which provides the programmer with an interface to the 
XI 1 windowing system. 

To ease the process of porting this interface, Query interface’s designer and 
developer George Fekete decided to use a Project Revision Control System called PRCS. 
PRCS is the front end to a set of tools that like CVS and provides a way to deal with sets 
of files and directories as an entity, preserving coherent versions of the entire set. Its 
purpose is similar to that of SCCS, RCS, and CVS, but (according to its authors, at least), 
it is much simpler than any of those systems. 

To prepare for installation of PRCS- 1.1.1, KT-Tech has downloaded and installed 
following packages on its SUN at CODE 935: 

0) gdb-4.16: The GNU Debugger, the purpose of a debugger such as GDB is to allow you 
to see what is going on “inside” another program while it executes-or what another 
program was doing at the moment it crashed. You can use GDB to debug programs 
written in C, C++, and Modula-2. 

1) gcc-2.7.2: GNU project C and C++ compiler. The C and C++ compilers arc integrated. 
Both of them process input files through one or more of four stages: preprocessing, 
compilation, assembly and linking. 

2) libg++-2.7.2 : the GNU C++ library. libg++ is an attempt to provide a variety of C++ 
programming tools and other support to GNU C++ programmers. libg++ is not intended 
to be an exact clone of libc from AT&T. For one, libg++ contains bits of code that 
depend on special features of GNU g++ that are either different or lacking in the AT&T 
version, including slightly different inlining and overloading strategies, dynamic local 
arrays, etc. All of these differences are minor. The library is designed to be compatible 
with any 2.0 C++ compiler. 


PROPRIETARY 

© KT-Tech, Incorporated 


6 


5/1/1997 



3) texinfo-3.9: GNU’s hypertext system. The GNU project has a hypertext system called 
Info which allows the same source file to be either printed as a paper manual, or viewed 
using info. It is possible to use the info program from inside Emacs, or to use the stand- 
alone version. 

4) make-3.75 (gnu): a utility that automatically determines which pieces of a large 
program need to be recompiled and issues commands to recompile them. You need a file 
called “makefile” to tell make what to do. Most often, the makefile tells “make” how to 
compile and link and program. 

5) U>x-7.0: a typesetting system: it was especial ly designed to handle complex 
mathematics, as well as most ordinary text typesetting. Tex is a batch language, like C or 
Pascal and not an interactive “word processor”: you compile a Tex input file into a 
corresponding device-independent (DVI) file (and then translate the DVI file to the 
commands for a particular output device), this approach has both considerable 
disadvantages and advantages. 

6) emacs-19.34: an extensible, customizable, self-documenting real-time display editor. It 
provides facilities that go beyond simple insertion and deletion: controlling subprocesses; 
automatic indentation of programs; viewing two or more files at once; editing formatted 
text; and dealing in terms of characters, words, lines, sentences, paragraphs and pages, as 
well as expressions and comments in several different programming languages. 

7) autoconf-2.12: a tool for producing shell scripts that automatically configure software 
source code packages to adapt to many kinds of UNIX-like systems. The configuration 
scripts produced by Autoconf are independent of Autoconf when they are run, so their 
users do not need to have Autoconf. 

8) m4-1.4: an implementation of the traditional UNIX macro processor. It is mostly 
SVR4 compatible, although it has some extensions (for example, handling more than 9 
positional parameters to macros). “m4” also has built-in functions for including files, 
running shell commands, doing arithmetic, etc. 

KT-Tech has downloaded and installed on its SUN workstation at Code 935 
Tcl7.6 and Tk4.2 and made the necessary changes to ensure that they ran without any 


PROPRIETARY 

© KT-Tech, Incorporated 


7 


5/1/1997 



problems on that platform. KT-Tech has also started porting of RVC Interface from HP 
to SUN. The following changes have been made: 

1) In the Makefile, add “/usr/openwin/include” in front of <X1 l//XLib.h> 

2) On HP, string compare function “strcmp(*Sl, *S2)” returns NULL when string SI 
equals to string S2. On SUN, the same function returns 0 when SI equals to S2. So in 
/extensions/Tree.c, line 310, 314, 318, 325, “strcmp(*Sl, *S2) == NULL” were changed 
to “strcmp(*Sl, *S2)== 0” 

3) In /extension/gyHierbox.c, line 1555, “(Tcl_FreeProc *) was inserted in front of the 
function name Tcl_eventuallyFree(). 

4) On HP platform, constant MAXINT is defined in <ctype.h> ; on SUN, it is defined in 
<values.h>. KT-Tech added the line “#include <value.h>“ in /regions/chull.c. 

5) In /communication/hush. c, it uses system variable Idnumber to create hush table. On 
HP platform, Idnumber is defined in /sys/utsname.h, structure utsname. SUN also defines 
structure utsname in /sys/utsname.h, but the structure does not have a member called 
“Idnumber”. After close investigation, KT-Tech decided to use a system call 
“gethostid()”, which is defined in <sys/unistd.h>. 

6) Since the RVC interface uses a Tel Extended library, KT-Tech has downloaded and 
installed tclX7.6.0 on its SUN workstation at Code 935. 

SCHEDULER, PLANNER AND DISPATCHER 

This part of the package provides a planner/scheduler/dispatcher capability to 
handle: disk space management for data ingest, basic browse product generation and 
menu-driven product generation. 

It was developed using Allegro Common Lisp which was ordered in March 
1997. KT-Tech is still waiting for its arrival before the porting process can start. 
Meanwhile, KT-Tech has done some preparation work for the porting of this part of the 
system. 


PROPRIETARY 

© KT-Tech, Incorporated 


8 


5 / 1/1997 



To insure a smooth process of porting SPD to SUN platform, SPD’s designer and 
developer Dr. Bob Bane decided to use a version control system called “CVS". Using it, 
you can record the history of your source files. For example, bugs sometimes creep in 
when software is modified, and you might not detect the bug until a long time after you 
make the modification. With CVS, you can easily retrieve old versions to see exactly 
which change caused the bug. 

CVS also helps you if you are part of a group of people working on the same 
project. It is all too easy to overwrite each others’ changes unless you are extremely 
careful. Some editors, like GNU emacs, try to make sure that the same file is never 
modified by two people at the same time. Unfortunately, if someone is using another 
editor, that safeguard will not work. CVS solves this problem by insulating the different 
developers from each other. Every developer works in his own directory and CVS 
merges the work when each developer is done. 

KT-Tech also downloaded and installed CVS- 1.9, RCS5.7 and Diffutil on its 
SUN workstation in Code 935. RCS is a system for version control; Diffutil is a utility 
that will display line-by-line differences between pairs of text files. 


DATABASE 

The primary persistent data storage area for the entire RVC system. It is also 
used as an index mechanism to all data stored in the RVC and support rapid search of that 
data. It also serves as a persistent storage for curator policy decision, algorithm 
representation, and resource descriptions. 

This package was developed using ObjectStore. Object Design’s ObjectStore 
product family leads the object-oriented database industry in deployments, performance, 
service and quality. It is a complete data management solution for developers of 
dynamic, interactive, high-performance applications for the Web and other distributed 
computing environments. The latest version ObjectStore5.0 provides an interface to Java 
which allows you to create Java applications that store application objects in its high 
performance, high-availability multi-user ODBMS; your Java applications can also 
access C++ objects stored in the database. It has replication capabilities that 
automatically distribute copies of your ObjectStore data to remote machines, in real-time, 


PROPRIETARY 

© KT-Tech, Incorporated 


9 


5/1/1997 



so that everybody has fast, local access to ObjectStore data, no matter how geographically 
dispersed they are. 

The original ObjectStore only works on HP platform. Since version 4.0, it also 
works on UNIX platform. An order for version 4.0 was placed in March 97, KT-Tech is 
still waiting for it to arrive before it can start the porting process. 

This part of the package also use a library called Tools.h++: for Sun from 
Roguewave. It provides a couple of classes used in the database such as date, time and 
string manipulation functions. KT-Tech needs to use objectstore compiler that comes 
with Sun for porting the package. Some of the C++ code, makefile and C code also 
needs to be modified to run on Sun. KT-Tech also needs to resolve the compiler to 
compiler issue for this part of the package. 


PROPRIETARY 

© KT-Tech, Incorporated 


10 


5/1/1997 



DISK ALGORITHMS ANONYMOUS FTP SITES 







-Renlan Liao 



PORTING PROGRESS CHART 5/1 /97 




APPENDIX 

GVARTools.c: swab((char *)&bHeader[i].WordCount, (char *)&tmpShort, 2); 

GVARTools.c: swab((char *)&bHeader[i].ProdID, (char *)&tmpShort, 2); 

GVARTools.c: swab(&alnfo->lnformation[6014], (char *)&aSounder- 

>Detector.AScanLine, 2); 

GVARTools.c: swab(&alnfo->lnformation[6016], (char *)&aSounder- 

>Delector.BScanLine, 2); 

GVARTools.c: swab(&alnfo->lnformation[6018], (char *)&aSounder- 

>Detector.CScanLine, 2); 

GVARTools.c: swab(&alnfo->lnformation[6020], (char *)&aSounder- 

>Detector.DScanLine, 2); 

GVARTools.c: swab(&alnfo->lnformation[6022], (char *)aSounder- 

>Detector.PixelNumber, 11*2); 

GVARTools.c: swab(&aInfo->Information[6368], (char *)aSounder- 

>Detector.Channel, 11*4*19 * 2); 

GVARTools.c: swab(&aInfo->lnformation[64], (char *)&aNLUT->DeleetorXCount, 

2 ); 

GVARTools.c: swab(&aInfo->Information[68], (char *)&aNLUT->DetectorYCount, 

2 ); 

GVARTools.c: swab(&aInfo->Information[74], (char *)&aNLUT->A[0], aNLUT- 

>DetectorXCount); 

GVARTools.c: swab(&aInfo->Information[74], (char *)&aNLUT->A[3983], 

aNLUT->DetectorXCount); 

GVARTools.c: swab(&aInfo->Information[74], (char *)&aNLUT->A[7966], 

aNLUT ->DetectorXCount) ; 

GVARTools.c: swab(&alnfo->lnformation[526], (char *)&aNLUT->B[0], aNLUT 

>DclectorY Count); 

GVARTools.c: swab(&alnfo->Information[74], (char *)&aNLUT->B[3757], 

aNLUT->DetectorXCount); 

GVARTools.c: swab(&aInfo->Information[74], (char *)&aNLUT->B[7740], 

aNLUT->DetectorXCount) ; 

GVARTools.c: swab(&aInfo->Information[978], (char *)&aNLUT->C[0], aNLUT 

> Detector YCount);GVARTools.c: swab(&aInfo->lnl'ormationl74J, (char 

*)&aNLUT->C[353 1], aNLUT->DetectorXCount); 

GVARTools.c: swab(&aInfo->Information[74], (char *)&aNLUT->C[75 14], 

aNLUT->DetectorXCount); 

GVARTools.c: swab(&alnfo->lnformation[1430], (char *)&aNLUT->D[0], 

aNLUT->DetectorYCount); 

GVARTools.c: swab(&aInfo->Information[74], (char *)&aNLUT->D[3305], 

aNLUT->DetectorXCount); 

GVARTools.c: swab(&aInfo->Information[74], (char *)&aNLUT->D[7288], 

aNLUT->DetectorXCount); 

GVARTools.c: swab(&lnfo[0], (char *)aData->RawWord, 250*2); 

GVARTools.c: swab(&Info[500], (char *)aData->StatusWord, 2 * 2); 



GVARTools.c: swab(&aInfo->Information[DetectorStart+32], (char *)aDetector- 

>shortData, aDetector->Documentation.LPIXLS*2); 

GVARTools.c: swab((char *)&tempShort 1 , (char *)&tempShort2, sizeof(short)); 

OrbitTools.c: swab((char *)Buff2, (char *)Buff, 12); 

RipTools.c: swab(Buff, (char *)aScan.ID, 194); 

RipTools.c: swab(RawSwab, Raw, RawSize); 

SEATools.c: swab((char *)PNCnt, (char *)PNCnt, 2); 

SEATools.c: swab((char *)PNErr, (char *)PNErr, 2); 



