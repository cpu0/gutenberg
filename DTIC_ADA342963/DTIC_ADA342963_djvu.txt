Naval Research Laboratory 

Stennis Space Center, MS 39529-5004 


NRL/MR/7176- -96-8010 



9 


User’s Guide to WILBR Software for the 
Dec Alpha Workstation 


Stephanie F. Kooney 

Ocean Acoustics Branch 
Acoustics Division 


April 14, 1998 



I 


Approved for public release; distribution unlimited. 




REPORT DOCUMENTATION PAGE 

Form Approved 

OBM No. 0704-0188 

Public reporting burden for this collection of information is estimated to average 1 hour per response, including the time for reviewing instructions, searching existing data sources, 
gathering and maintaining the data needed, and completing and reviewing the collection of information. Send comments regarding this burden or any other aspect of this collection 
of Information, including suggestions for reducing this burden, to Washington Headquarters Services, Directorate for information Operations and Reports. 1215 Jefferson Davis 
Highway, Suite 1204, Arlington, VA 22202-4302, and to the Office of Management and Budget, Paperwork Reduction Project (0704-0188), Washington, DC 20503. 

1. AGENCY USE ONLY (Leave blank) 

2. REPORT DATE 

April 14, 1998 

3. REPORT TYPE AND DATES COVERED 

Final 

4. TITLE AND SUBTITLE 

User’s Guide to WILBR Software for the Dec Alpha Workstation 

5. FUNDING NUMBERS 

Job Order No. 571M11500 

Program Element No. 0605853N 

Project No. R2146 

Task No. 

Accession No. 

6. AUTHOR(S) 

Stephanie F. Kooney 

7. PERFORMING ORGANIZATION NAME(S) AND AODRESS(ES) 

Naval Research Laboratory 

Acoustics Division 

Stennis Space Center, MS 39529-5004 

8. PERFORMING ORGANIZATION 

REPORT NUMBER 

NRL/MR/7176-96-8010 . 

9. SPONSORING/MONITORING AGENCY NAME(S) AND ADDRESS(ES) 

Navy International Programs Office 

Arlington, VA 

10. SPONSORING/MONITORING 

AGENCY REPORT NUMBER 

11. SUPPLEMENTARY NOTES 

12a. DISTRIBUTION/AVAILABILITY STATEMENT 

Approved for public release; distribution unlimited 

12b. DISTRIBUTION CODE 

13, ABSTRACT (Maximum 200 words) 

A user’s guide is presented for the WILBR software installed on a Digital Electronics Corporation ALPHA system. 
WILBR is an array performance and data quality assessment software program with the additional capability of 
characterizing the ambient noise field. This version of WILBR has been adapted from the VAX version used at 
SACLANTCEN, La Spezia, Italy to reside on the ALPHA system at Forschungsanstalt der Bundeswehr fuer Wasserschall- 
und Geophysik (FWG), Kiel, Germany. Other modifications for this version include a beamformer capability and slight 
modifications to the WILBR routines to accommodate the unique specifications of FWG’s digital towed array (DTAS) 
data. The user’s guide provides general information about WILBR on the ALPHA system and gives examples of the 
WILBR products available with this version. It explains how to install WILBR and provides step-by-step instructions 
on running the program. There is a quick locator for applying modifications to accommodate different array specifications, 
such as different filter functions, or new shading capability, or an updated data acquisition system. 

14. SUBJECT TERMS 

array performance, data quality assessment, ambient noise, noise directionality 

15. NUMBER OF PAGES 

44 

16. PRICE CODE 

17. SECURITY CLASSIFICATION 

OF REPORT 

Unclassified 

18. SECURITY CLASSIFICATION 

OF THIS PAGE 

Unclassified 

19. SECURITY CLASSIFICATION 

OF ABSTRACT 

Unclassified 

20. UMITATION OF ABSTRACT 

SAR 


NSN 7540-01-280-5500 


Standard Form 298 (Rev. 2-89) 
Prescribed by ANSI Std. Z39-18 
298-102 










ACKNOWLEDGMENTS 


This work was conducted under the auspices of the Scientist and Engineer Exchange 
Program (SEEP). The author wishes to express appreciation to Wolfgang Kroll of 
Forschungsanstalt der Bundeswehr fuer Wasserschall- und Geophysik (FWG) for his technical 
support during the author’s tenure at FWG. The author wishes to acknowledge Professor Dr. 
Peter Wille and Dr. Rolf Thiele of PWG for hosting the author at their laboratory. The author also 
wishes to acknowledge the funding support of Dr. E. Franchi of the Naval Research Laboratory 
and the Navy International Programs Office, which permitted the author's participation in SEEP. 


ii 



CONTENTS 

ACKNOWLEDGMENTS.ii 

CONTENTS.iii 

INTRODUCTION TO THE USER'S GUIDE.iv 

1.0 SECTION I: General Information about WILBR...1 

1.1 Background of WILBR for the Alpha.1 

1.2 Capabilities of WILBR for the Alpha.1 

1.3 Products of WILBR on the Alpha.2 

1.3.1 Hydrophone Noise Level Plot.2 

1.3.2 Phase Plot.....2 

1.3.3 Temporal Anisotropic Cumulative Distribution Function (TACDF).2 

1.3.4 Beam Noise Level Plot.3 

1.3.5 Statistics Table.3 

1.3.6 Spearman Rank Correlation Matrix...3 

1.3.7 Azimuthal Anisotropic Cumulative Distribution Function (AACDF).3 

1.3.8 Horizontal Directionality ....4 

1.3.9 Array Heading Rose...4 

1.3.10 Percentile Plot.4 

1.3.11 Beam Noise Polar Plot.4 

2.0 SECTION II: For the Programmer, Setting up WILBR.16 

2.1 WILBR Beamformer (A Standalone Beamformer for WILBR).16 

2.1.1 Input files to NE\^EAM.16 

2.2 WILBR Software System on the ALPHA...17 

2.3 Calibrations.18 

2.4 Output files of WILBR.18 

3.0 SECTION ni: For the Data Processor, Running WILBR.23 

3.1 Running NEWBEAM.....23 

3.2 Running WILBR.27 

3.2.1 ARRAY PERFORMANCE AND DATA QUALITY MODULES.....27 

3.2.1.1 Module 7: VAX tape input.27 

3.2.1.2 Module 3: Statistics.29 

3.2.2 AMBIENT NOISE MODULES.31 

3.2.2.1 Module 4: Noise Calc.31 

3.2.2.2 Module 5: Rose Plots.32 

4.0 SECTION IV : Modifying WILBR on the ALPHA...35 

4.1 Array Spacing.35 

4.2 Filter Function.35 

4.3 Weighting Function.35 

4.4 Format of Input Data...35 

4.5 Re-validating WILBR after Modifications...36 

5.0 REFERENCE LIST.40 


iii 










































INTRODUCTION TO THE USER'S GUIDE 


WILBR is an array performance and data quality assessment software program with the additional 
capability of characterizing the ambient noise field. It is designed to reside on a VAX computer 
system. This version of WILBR has been adapted from the VAX version used at SACLANTCEN, 
La Spezia, Italy to reside on the ALPHA system at Forschungsanstalt der Bundeswehr fur 
Wasserschall- und Geophysik (FWG), Kiel, Germany. Other modifications for this version 
include a beamformer capability and slight modifications to the WILBR routines to accommodate 
the unique specifications of FWG's digital towed array (DTAS) data. 

This document is written in sections to provide information about WILBR to the various types of 
users. Section I is aimed at providing an overview and general knowledge about WILBR on the 
ALPHA. It contains a brief introduction to WILBR, as well as descriptions and examples of 
WILBR products available with this version. Section II is directed to those who must download or 
program with WILBR on the ALPHA system. It provides a list of source code, as well as the 
compile and link commands. A brief description of the input and output files is also given. Section 
ni is for the processor, the hands-on user. A list of preliminary information needed to respond to 
the prompts is given, followed by detailed explanations of the WILBR prompts. Finally, Section 
IV is provided as a quick locator for applying modifications to accommodate different array 
specifications, such as different filter functions, or new shading capability, or an updated data 
acquisition system. 


IV 


1.0 SECTION I: GENERAL INFORMATION ABOUT 
WILBR FOR THE ALPHA 


1.1 Background of WILBR for the Alpha 

WILBR has been under development for over 18 years and has been successfully used with many 
data sets from towed arrays, as well as vertical arrays. WILBR is a valuable tool in assessing the 
performance of an array as well as determining the data quality. 

WILBR is based on several statistics, which are presented in various analysis products. These 
statistics can alert the scientists to problems on the array, such as, bad hydrophones, beamformer 
faults, flow noise, mechanical or electronic noise, etc., and give clues to locating and to correcting 
the faults. Used during data acquisition, the data quality can be improved or ensured before 
returning to the laboratory, where it is often too late for a correction. 

WDLBR also contains the Wagstaff Iterative Technique OATT), which uses the acquired data to 
characterize the ambient noise field. The left-right ambiguity of the towed array is removed when 
data is acquired along three or more headings 30 deg apart. The WIT algorithm removes the 
ambiguity as well as discriminates against local and transient sources. TTie results are products that 
are array independent noise field characterizations. 

The following manual has been written as a guide for using the WILBR Array Performance and 
Data Quality software system on the ALPHA. This version has been modified to accommodate the 
filter function and array spacing of the four octaves of the digital towed array at FWG. This 
software can also be used for the analysis of vertical array data. 


1.2 Capabilities of WILBR for the Alpha 


The WILBR beamformer is a standalone beamformer, which processes LOGI formatted data and 
NORDIC formatted data and generates output files in the WILBR format (formats are described in 
Section 11). Preliminary calibrations are performed in the WILBR beamformer. All other 
calibrations are performed in WILBR (see Section 2.3). The data can be processed with temporal 
Fast Fourier Transform (FFT) or Discrete Fourier Transform (DFT) sizes between 16 and 8192 
points. The default number of beams is equivalent to the number of channels if the number of 
channels is a power of 2, otherwise the number of beams is the next highest power of 2. For 
example, for 58 channels, the default number of beams would be 64. 

The beamformer is a general code, however the WILBR-ALPHA version specifically identifies 
limiting parameters. This WILBR version is hardcoded to process data from an array with 64 
hydrophones and will form 64 beams at four analysis frequencies. It will average a maximum of 
200 FFT points (samples). An FFT for an equally spaced array and a DFT for a variable spaced 
array are options in the WILBR routines. The standard shading function is the Hann function, 
although Hamming is also available. 




2 


1.3 Products of WILBR on the Alpha 

WILBR calculates several statistics and displays them in various analysis products. The statistics 
are the basis of the array performance and data quality analysis, as well as the noise field analysis. 
The statistics commonly used in the analysis products are: 

AVGPR. The power average. The sum of the power intensities divided by the number of samples, 
then converted to dB. 

dBAVG. The dB average. This is simply the geometric mean of the given series. 

MEDIAN. The 50 percentile of the data. 

PRDIFF. The power difference envelope. The envelope consists of two curves; the top curve is 
AVGPR - MEDIAN, and the bottom curve is MEDIAN - dBAVG. 

Percentiles. The 10,25, 50,75, and 90 percentiles of the data series. 

STDEV. The standard deviation. 

WIT. Wagstaffs Iterative Technique. An iterative process that discriminates against transients in 
the noise field and resolves the left-right ambiguities of the towed array. (See Ref. 1 for a detailed 
description.) 

The following is a brief description and example of the products the WILBR software generates, in 
the order of their appearance. For a more detailed description of the resultant plots and their use in 
the data analysis see reference 2. 

1.3.1 Hydrophone Noise Level Plot 

The hydrophone noise level plot (Fig. 1) is a result of module 7 of WILBR (the VAX tape input). 
One hydrophone plot is given for each of the analysis frequencies as each leg of data is processed. 
The hydrophone plot displays the noise level across the array. The top curves are the 90 percentile, 
median, and the 10 percentile. The bottom two curves make up the PRDIFF envelope, lie 
expected value of the PRDIFF envelope for well behaved data is 2 to 3 dB. The absolute dB levels 
of the hydrophones, can be obtained by adding the number of dB indicated below each plot. The 
hydrophone plot is used to identify errant hydrophones, as well as determine if the hydrophone 
data is contaminated by transients. Good behavior across the hydrophones appears as a nearly 
straight line. 

1.3.2 Phase Plot 

The phase plot (Fig. 2) displays the phase relationship across the hydrophones of the array. The 
top curves are the MEDIAN and the AVGPR, and the lower curve is the STDEV. The phase is 
calculated when a strong source (i.e., 20 dB or greater above the background noise) exists in the 
beams. Good phase across the hydrophones appears as a horizontal or slanted straight line. 

1.3.3 Temporal Anisotropic Cumulative Distribution Function (TACDF) 

The TACDF and the time history (Fig. 3) are plotted for a user selected beam and analysis 
frequency. Up to three beams can be chosen. Plots for each selected beam at all four analysis 
firequencies can be calculated. The left plot is the time history of a selected beam. The event number 
(also called sample number) contains 1/binwidth number of seconds; so that 1/binwidth times the 
number of samples gives the total amount of time in the data segment displayed in the plot. The 



3 


TACDF is a display of the cumulative distribution statistics of the time history for averaging 
window sizes of 1 to 10 samples. Along the y-axis is the window width and along the x-axis is the 
percentage level. The constant level contours on the plot correspond to dB levels in the time series. 
A horizontal slice across the TACDF at a given window width is the cumulative distribution 
function for that window width. The TACDF in Fig. 3 is for 75 Hz and is read as follows. Using a 
window size of 4 samples wide to average the beam time series, results in 25 percent of noise 
measured will be below 66 dB. For a larger window size, such as 8 samples, 25 percent of the 
noise measured will be below 69 dB. This plot is useful in examining the character of the time 
history on a given beam. 

1.3.4 Beam Noise Level Plot 

The beam noise level plot (Fig. 4) is a result of Stats (module 3). The beam noise plot displays the 
noise level versus beam number for each analysis frequency as each leg of data is processed. The 
top curves are the 90 percentile, the median, and the 10 percentile. The lower curves make up the 
PRDIFF envelope. The vertical dashed lines indicate the forward endfire Geft) beam and the aft 
endfire (right) beam. The broadside beam is always beam #32. Inside the dashed lines is the 
acoustic domain, that is those beams receiving ener^ from the noise field. Out side t he dashed 
lines is the virtud domain. The virtual domain consists of beams formed by the FFT at frequencies 
lower that the design frequency of the array. Virtual beams are used in determining the sidelobe 
suppression level and noise suppression level of the array, as well as incoherent and coherent 
contamination in the data. 

1.35 Statistics Table 

The statistics table (Fig. 5) is another result of Stats (module 3). It is an ASCII file called 
STATS .DAT, which is opened in the directory containing the WILBR executable. This file 
contains a beam noise statistics table and a rank correlation matrix (see Section 1.3.6) for each 
analysis frequency as each leg is processed. The table includes (from left to right): the beam 
number, heading relative to the array, true heading, true heading of the ambiguous beam, beam 
width, percentiles, dB average, power average, standard deviation, skew, kurtosis, number of 
observations, number of runs, ZMSSD, ZTAU, PRDIFF envelope. The values in the rnedian, 10 
percentile, 90 percentile, and PRDIFF columns are plotted in the beam noise plot (Section 1.3.4). 

13.6 Spearman Rank Correlation Matrix 

The Spearman Rank Correlation Matrix (Fig. 6) is a beam to beam correlation matrix. It is used 
mainly as a gray scale indicator of the amount of correlation existing between pairs of beams. The 
Spearman correlation coefficient is placed above the main diagonal. Below the main diagonal, an 
"X" is placed where the beam to beam correlation confidence level is greater than 99.73%, 
otherwise a blank is placed in the location. This gives a ^y scale effect The desired result is to 
have no correlation in the acoustic domain, that is all white for the real to real beam correlation, 
apart from some correlation along the main diagonal which results from the overlap of the beams. 
Used together with the beam noise level plot, it aids in determining sidelobe suppression levels, 
and coherent and incoherent contamination. 

13.7 Azimuthal Anisotropic Cumulative Distribution Function (AACDF) 

The AACDF (Fig. 7) is an output of Noise Calcs (module 4). The y-axis is the azimuthal beam 
width, and the x-axis is the percent of azimuth below a beam level L, where the levels L are the 
constant level curves on the plot. One AACDF is plotted for each analysis frequency. The "look" 
sector is user selectable. The AACDF is calculated using beams looking into a given sector for the 
polygon legs (number of sets). The sector is defined in Fig. 7 as a 120 degree sector centered at 90 
deg relative to the array. Data only from beams within this sector are used for the AACDF. The 



4 


sector can be chosen to exclude the noise from the towship or to "look" into a desired direction. 
The AACDF is read, for example, as follows. Using a 2 deg beam width, the beam will "see" 
levels of 46 dB and lower over 15% of the azimuths, and levels of 54 dB and lower over 80% of 
the azimuths. Narrow spacing between the curves and a high variability in levels indicates that 
there are discrete noise sources in the area. Wide spacing tetween the curves and a low variability 
is an indicator that wind noise is a dominate contribution to the noise. This plot is used for noise 
field characterization, as well as noise model validation. 

1.3.8 Horizontal Directionality 

The horizontal directionality (also called a Noise Rose) (Fig. 8) is the result of Rose Plots (module 
5). This is the product of the WIT algorithm. The WIT removes the left-right ambiguity of the 
towed array and discriminates against transients, such as nearby ships or the towship (see Ref. 2). 
This is accomplished by using the legs of data from the polygon maneuver. The horizontal 
directionality is an array independent statistic that characterizes the ambient noise distribution over 
360 deg at the polygon site. The four analysis frequencies are presented on one page. Below each 
polar plot, the frequency, the omnidirectional level, and the standard deviation is given. The 
omnidirectional level is added to the level read from the plot for absolute values. 

1.3.9 Array Heading Rose 

The array heading rose, AHR, (Fig. 9) is based on the horizontal directionality and is a result of 
Rose Plots (module 5). The upper right hand plot is the horizontal directionality for a given 
frequency. The four plots below it are the array heading roses, one for each of four "look" 
directions (the gray shaded sectors). The angle and width of the "look" directions are selected by 
the program user. The array heading roses indicate the signal-to-noise (S/N) gain relative to 
broadside at 360 headings for a given look direction. Inside the zero circle arc headings of 
degradation, and outside the zero circle are headings of improvement relative to broadside. On the 
zero circle are headings with S/N gain equivalent to using the broadside beam. From this 
information, the optimum heading can be selected. One page of plots is generated for each analysis 
frequency. 

13.10 Percentile Plot. 

The percentile plots (Fig. 10) are also a result of the WIT algorithm. The 10 percentile and 25 
percentile horizontal directionalities are normalized to the omnidirectional level of the median and 
overlaid on the median horizontal directionality. The four analysis frequencies are presented on one 
page. The frequency, the omnidirectional level of the median level and the standard deviation of the 
median level are given below each plot. The omnidirectional level is added to the level obtained 
from the plot for absolute values. 

13.11 Beam Noise Polar Plot 

This beam noise plot (Fig. 11) is a polar representation of the noise levels in the acoustic domain of 
the beam noise level plot (see Section 1.3.4). The levels are normalized to the omnidirectional level 
^ven below each plot. The four analysis frequencies for a given leg are on one page. The arrows 
indicate the heading direction. To obtain absolute levels, add the omnidirectional level to the values 
plotted. The polar beam noise plots provide a view of the spatial variability relative to array 
heading. The plots are symmetric about the heading direction because of the inherent left-right 
ambiguity of the array. 



5 


o 

w 

1-:? 


• • 

K 

O 

S 

o 

O 


w 

cu 

o 

►j 

w 

> 

Iz; 

w 

pi^ 

I—t 

Q 

« 

PLh 


iz; 

o 

O 

;>< 

o 

Ph 



IZ 

• • 

<3 

H -1 

w 

o 

> 

fa 

K 


p:> 


o 


fa 


o 






(ap) laAai 





(ap) laAai 


W 

H 

kJ 

O 

NCO 

wm 


II 


ra 

;cq 

■<o 

Q 

Q 

<3 


P5 

W 


w 

H 

hJ 
O 
Nt/3 


pffim 

g^o 

gaf§ 

og^. 

j-r! fa 05 
« CO 

^ « 
Q 
<3 


Fig. 1 - Example of a hydrophone noise level plot 










6 



o 


(oaa) asvHd 


o 


o 


ADD 13.5 DEG FOR ABSOLUTE ADD 9.9 DEG FOR ABSOLUTE 

THE PHASE ERROR IS 1.14 % THE PHASE ERROR IS 1.32 % 






POLYGON 2 , LEG 3, BEAM 33 

FREQUENCY lOO.HZ DATE 5/15/1995 


7 


o 



o CO CO ^ CV2 O 


W 

> 

w 

S 

< 

w 

w 

o 

ij 

w 

m 

w 

S 

Ezh 

o 

tH 

2 

W 

o 


pL, 


(saoiHad) Hiam aloonial hkii 



O Ifj Tt* « W w 

(ap) laAai 


w 

E-^ 

i-:i 

O 

CO 

pq 

<d 

o 

pq 

nd 

O 

Q 

Q 

<d 


Fig. 3 - Example of a Temporal Anisotropic Cumulative Distribution Function (TACDF) 







8 



• • 

W 

> 

K 

O 

S 

o 

H 

H 

O 

m 



o 

CO 


o 


o 


o 

CO 


o 

C\2 


o 


(HP) laAai 


L. ^ 

D 

“wi 

s ■< 

PQ 

z>K 

P 
Iz; 


p—1 

o 

Peh 


m 

5 0^0 

<3 wz> 

p pt4Cv2 


« 

Q 

<3 


:z; 

o 

o 

>H 

o 

Oh 


U} 

w 

> 

tD 

O 

pL, 

o 

Eh 


iz; 

< 

HH 

Q 

H 




o 

05 



(ap) laAai 


PQ 

D 
;zi 


pp 

Eh 

m 

<3 


I> 


11 


O 

b 

m 

Ti 


5 Oro 
<1 Hco 
W pHC\i 
P fe CV2 


Q 

O 

<3 


Fig. 4 - Example of a beam noise level plot 












9 


CO O' ® O' ^ 

n <N rM ^ 


fnn{4rifMn<N'^O0'<-i«->«NtMr(f'»(>t 


O t* 'n ® ® 
r'j «n rt CO V 


*o « <N <r r* iH ( 
O O d O O O < 


•<T<N< 00 '»^OOlO®®O'^'^O® 


® (N ® (O IN 

d d d d 


o ® ® oi n w IN 


®o»Or*o*Oc^<Nr)^or'r^vMr*® 

<-idcHOOOoo«o''y<NOOOOO'^ 


O O IN CO < 


ro m O' <o ® • 


ioor'unionnO''OP“»o»-iioi*»v 


.H ^ o 9 >-t 

« d «“♦ <N d 


m in tn tn in ® m 

O O' ® ® ^ kO ® 

O O O O •-< O O 


«-*iNOr««^>nkn®0'r*^f*>coov*ocN 

orlrtr4r4-4dddd^oooooo 


i-« 1^ r-* ® ro 

« 5 r d d 


O' *o ® o o 

irt n • • O 

ro V m O 


w 


U O 


u zoo 

J ^ JO 

a. o z u u o 

z o < •- D = o . 

< u u: < -> O o : 

w j = O w J « ' 


*-• H 

m IN o • ~ : 

O' 0*0 O - 

O' m ® Z -■ « 

^ - r> •r O u I 

O O f'- Z ' 

t/l 0 O 

O 

■ o o 
•n f (d 
>• u 

U u OU O ■ 

Z Z lA 

u >-• U (A 

« H 3 Q = 

U (-> o Z 0 H 
HU • U 3 H & 

< < H Z O < W 

O H <A (>• (A J O 


O O ® ® ® O «-• 
® in in ® lO ® c' 


o ® M O <n « I 


iniNC'^ 0 ' 0 ®<Ncoinovor*r^‘nOr‘ 

d'HO'nd'Hdddd^oooo*-'© 

I I < I I i I I I I I I t I 1 > 


®r*ino'rtfoo>nin®OfNC'»^^ 00 ' 

in®in®in®^HOOf'®*ninin®® 


p- m M ® I 
m IN m m I 


lOmm'TknO'O*-'®^©' 


® ® r« IN o 


® IN O ® m 
in p- ® ® 


I in IN -I ® O «N 


lO o ® in po n 


^ O IN O' r- ® IN 

m ^ lo 'T V ^ ^ 

ID ® m m m m m 

f- O' in ^ ® O IN 


)^r.o>'OvO®<*o< 


p*^roinin®io®®tN® 0 '®ioffl®r^ 

®®® 0 ^iN»-‘VC'On*io®i'" 0 '®® 
- - - - ^ — — ■«)Ovp-r«.®®®r-P' 


■ p> a ® ® I 




iniN®po«oinp“®p-®'OPiO'’T^®® 


i»> O ® I' ^ 

PO IN ® ® 

in ® ® ® ® 

V O I** ® O 


m I' »-• « ro 


O IN O IN IN 


w ® 

W Vi 


> z 

I bl u 

I J z 


Z J 

a. ® 

I- > 
Q U 


U J 
X A 
H 3 


U A i 
Z i-i 
H a 


3 

a 

GO 

o 

*r 3 

c/a 

*w 

c/> 

c« 

( 4-1 

o 

3 i 

e 

cS 

X 

W 

1 

in 

bb 

E 


I fi ® O' ® ® 

^ ® fO ^ ® pN 


ilN<-i®INH®®®'^cO®0'Hr''nil 


lO ro iD — ' 


O' 'll IN M 


I ® ro m CO ® I 


I IN IN ® ® 


z u . 
A a i 
u z : 


®®»0«<PP‘®P*OPO®IO®P*®® 

O'O®®® — P 0 ®®O<^<*''^’^‘^ 

•-iO®r*®®®v<Oio<N«-iOO'i^ 

lOniNININININININININININ*-! — 

®®r»OiO®ioOP*®r'*^i^®® 


®®P»®fO®P10l 


I P' V ro ® ® 

I fO IN IN V fo 


s; 




■ So' 

I * — . 


) J 3 
< H 
I Z K 

: o 


^51 

u < 

Vi a I 

a j; 

u J ; 

a A ( 

K Z I 

o o 

b. b. 




Q in 

u 

Z u 
z 
u o 

Z X 

H a. 


Si 

u u 




1 


















































SPEARMAN RANK CORRELATION COEFFICIENTS'FREQUENCY 
STANDARD DEVIATION CONVERSION FACTOR == 0.0762 
ARRAY « LINE 

LEG 4 OF POLYGON 2 5/15/95 0 O': 0 

/ SAMPLES = 59 


1111 
-733 243112 2 112222222 2 112 B 

73 113 3123312332 2 B B 1111111 

73214123 3212142121212 B22 211BB 

75112422221 421 1111 Bll 


2 34133 31 233123 134 4 

2 1433331213331 241 14323 
2322321122 323221 21 
11 31 1 322 222 2 1 


X7313333211 12323 21 B IBDC BC BB 11B3111212 3212 1 11 221 
■ ,212 1112 121 BBB IBB BCll B32133 21 211 1 1332 
33222432311 BBB B 1 B B 1 4544313233222232113222 
2 12221 11 11 ICC 13123113 31 1 23 1 11 21 

232 2331 21 B IB 12322323211 23231112321 

231422323 1 BB2 IB D2 B4332334322231113122131 

3132212 1 B ICB B 11 121213122 2123232222 

732225322 2 C 122 1 B 131 11 3234332232241143234331 

73224311 1 BB B 1 111 2 253321343221132311323 

7332212 11 B BllB 2115 2233411222 311 423 

74223221 2 1222 1 1112 11B4222343223522233325331 

X7351331121 11 1 131B1 2 2512333433332245434452 

XX 75332222B 2111 11121 5342423332252254345533 

XX7343132 B122 1 1 B 13 4333324442242233254433 

722143C 212 1 B1 B 2BD3232312213223 22 2321 
X 73 3331 311 2 CB 3 331211222313212243111 

71561 31311 13 lllBll 21 B 12 212344232 

722B 1 131 2 C3 1 132 2123111 32 2 

X X 76DB 22 B 3 D1 11 113 11 111122 

X X7 124 3 B1 B211C 1 1 222 23122 

75 231 1 IBB C CBB 1 BBC 13 121BB 

X7 21133 21B IIBB 121 2211 1 

71 B 1 111 B B B 1 1 1 B1 IIB- 


73 121212 1112 121 BBB 
7 14133222432311 BBB 
7422 2 12221 1 1 

X734232 2331 21 B 

X 72231422323 1 

X 73132212 1 B 1 

732225322 2 C 12 

73224311 1 BB 

7332212 11 B 


X X 76DB 2 2 B 3 D1 

X X7 124 3 B1 B211C 
75 231 1 IBB C 

X7 21133 21B IIB 
71 B 1 111 BBB 
73 233 1 CBl 

X 72222 211 11 2 

743111 1 2 31 

X76312 211 12 

X7421 21 2 B 
X72212 B1 


X XX 
XX X 

X 

X 

X 

X 

X 

XX X X 
X 


X XX 
XX 
X 

XX 

X xxxxx 

XXX 

X 


3 1 CBl 12111 132 212 

2 211 11 2 1 21 1 1211B1 

111 1 2 31 2 23 212111 112 B1 

312 211 12 2 31 122111 31 

421 21 2 B 1 IBlll 1 1213 

72212 B1 1 211213 1121BBB 

73B1 B 11 1 llBl 1212 
71 12 1 1 11B2 231121 

7 Cl 1 11 22 11 12122 13 

74B IB 1 1 1 1 

X7 BB BB B Cl 

7 11 1 BC BB 12 

7 D3 2 1 121323 Cl 22 2 
73 11 112 121 131 13C 

7C1 B B DB B B B 

7234326333342122114333 
73441431222 153113421 
73322 122 B 32 1311 
XX 7311113211142 26332 
X 7411 221 3 124321 

X74332343123344 4 
XX X7522343221132243 
X743243212224231 
X73232222322131 
742313211412 
X72 32 24422 

X XXX 74232443423 

X7212322 21 
X X 74434421 

XX7644241 
X XX75223 
X X XX74121 


X 

XXX X XX 


XX X7533- 
X X733 
X 71 
7 


5.4 PERCENT OF BEAM COMBINATIONS CORRELATED WITH 99.73% CONFIDENCE 
CORRELATION COEFFICIENT TIMES 10 IS ABOVE MAIN DIAGONAL 

BEAMS WITH COEF OF GREATER THAN 99.73% CONFIDENCE MARKED WITH X BELOW DIA 


Fig. 6- Example of a Spearman rank correlation matrix 



POLYGON 1 ARRAY 1 
FREQUENCY 147.Hz DATE 5/12/95 
90 DEG SECTORS ABOUT 105 DEG R 
6 SETS OVER 1080 DEGREES 


11 



> 

w 

1 

<3 

W 

m 

o 

w 

pq 

W 

P 

S 

)—I 

N 

<3 

P>H 

O 

Eh 


Qi 

W 

Ph 


Hiam Kvaa ivHLnKizv 


Fig. 7 - Example of an Azimuthal Anisotropic Cumulative Distribution Function (AACDF) 







13 


HORIZONTAL DIRECTIONALITY 
(dB/deg) 



FREQUENCY = 147.0 Hz 71.5 dB 

S/N GAIN RE BROADSIDE (dB) VS ARRAY HEADING FOR SEARCH SECTOR 



SITE 1 ARRAY 1 
DEPTHS 150. 1000. M 
DATE: 5/12/95 


Fig. 9 - Example of an Array Heading Rose plot 



HORIZONTAL DIRECTIONALITY 

POLYGON 1 

10%, 25% and MEDIAN WIT 



STDEV= 2.5 STDEV= 2.2 

NOISE LEVEL (dB/Z^Pa/Hz DEG) 

PLOT LEVELS RELATIVE TO OMNI LEVELS 



480.0 Hz 66.8 dB 595.0 Hz 65.0 dB 


STDEV= 2.3 


STDEV= 2.1 


ARRAY DEPTHS (M): 150. 150. BOTTOM (M): 1000. 

DATE: 5/12/95 

Fig. 10 - Example of a horizontal directionality percentile plot 


W lO W lO 



15 


BEAM NOISE 

POLYGON 1 



NOISE LEVEL (dB///APa/Hz) 

PLOT LEVELS RELATIVE TO OMNI LEVELS 



LEG 3 HEADING 241 DEG 
ARRAY DEPTHS (M): 150. 150. BOTTOM (M): 1000. 
Time: 5/12/95 0: 0: 0 

Fig. 11 - Example of a polar beam noise plot 



16 


2.0 SECTION II: FOR THE PROGRAMMER, SETTING UP WILBR 

2.1 WILBR Beamformer (A Standalone Beamformer for WILBR) 

The WILBR beamformer is called NEWBEAM. NEWBEAM performs a temporal FFT on raw 
data and spatially beamforms the results with minimal calibrations. The output file is formatted to 
be ready for use with the WILBR Towed Array Performance and Data Quality Assessment 
software. The following files are needed to generate an executable program: NEWBEAM.FOR, 
FT_BF.FOR, SPACING.FOR, LOGI.FOR, WATSUN_BEAMER.INC. Compile these with 
standard FORTRAN compile and link statements. 

2.1.1 Input files to NEWBEAM 

NEWBEAM reads uncalibrated data from a disk file in either NORDIC format or LOGI format. 

The NORDIC format (Fig. 12, left) consists of a header block, followed by raw data from 64 
channels. The 16384 byte header block is in ASCII characters and contains the record size, number 
of channels, time stamp and sampling rate. For exact locations see the subroutine READ HEADER 
in NEWBEAM.FOR. The raw data is formatted as the first sample of data for 64 channels, second 
sample for 64 channels, third sample for 64 channels, etc. The file is sequential, unformatted, with 
a blocksize of 16384 and has a record length of 2048. 

LOGI format (Fig. 12, right) contains no header block and is only data. The raw hydrophone data 
is formatted such that the total number of samples is recorded for the first channel, the total number 
of samples for the second channel, etc. This continues for all channels (see routine LOGI.FOR). 
The LOGI file is a sequential, unformatted file with a record length of 1024. The "header" 
information is contained in a separate file, of the form 'filename.PAR', where ’filename’ is the 
same name as that of the raw data file. The PAR file contains the number of chaimels, channel 
assignments, sample rate, and start time. See the subroutine READ HEADER for the .PAR file 
format. 

In addition to the input data file, NEWBEAM needs a template file (Fig. 13). If this file is not 
available, NEWBEAM creates one. The template file is in ASCII format and can be modified with 
any text editor to specify a given array. The template file contains the channel numbers, channel 
assignments, status of hydrophones, adjustable sensitivities, and location of channels. The status 
of the hydrophones is designated by a 0 for an unused hydrophone, 1 for a status of okay, -1 for a 
phase reversed hydrophone. The adjustable sensitivities are in dB and are used to adjust the 
sensiti^aty of an errant hydrophone. This would be the difference to be added or subtracted from 
the basic hydrophone sensitivity. The location of channels is in meters, where the first channel is 
0.0 meters and the last channel defines the length of the array (i.e., the locations are cumulative). 
NEWBEAM has the options to create a template file for an equal or unequal spaced array. It is 
assumed that the array is FWG’s DTAS and has 4 possible octave choices. An Octave 5 is 
available for an array of equal spacing but different from the DTAS. For another unequally spaced 
array, modifications must be made (see section V) to the software. 

NEWBEAM creates an output file (Fig. 14) that is compatible with the WILBR software. The 
output file is a sequential file with fixed record type, unformatted, and a record length of 1024. It 
contains an ASCII header followed by the data in complex coefficient power values, to which the 
A/D factor and temporal and spatial shading have been applied. The header block has 256 



17 


characters, which contains the number of channels, sample frequency, numb er of segments, time 
between samples, number of acquisitions, number of frequency bands, time FFT size, temporal 
shading, starting frequency bin, number of bins to skip, number of bins in the frequency band, 
spatial FIT size, and spatid shading. Other frequency bands are available, but are not used. See 
routine VAX READ.FOR for exact format. 

The main header is followed by a segment header, which consists of the segment number and the 
time. Then the first segment of data follows. Data is stored such that all frequencies are written for 
hydrophone one, all frequencies for hydrophone two, etc. until the total number of channels is 
reached. The hyi'ophone data is followed by the beamformed data, where data for all beams is 
written for frequency bin one, all beams for frequency bin two, etc. until the total number of beams 
is reached. The second data segment follows in the same manner: segment header, hydrophone 
data, then beamformed data. The third segment follows, etc., until the total number of processed 
segments is reached. 

2.2 WILBR Software System on the ALPHA 

For WILBR, the following files must reside in the same directory as the WILBR executable: 

CDFT1.DAT PLDAT.DAT 

CASETUP.DAT RDLMA.DAT 

CDFST.DAT PLSETUP.DAT 

PLTST.DAT TAU.DAT 

NFSETUP.DAT BANDS.DAT 

NFCFG.DAT SYSERR.DAT 


Because input and ouq)ut data files are usually large or many need to be created, it is suggested that 
a separate Rectory be maintained for WILBR data. To do this, create a directory for the WILBR 
input data and place CURRPROJ.REF and PHONE_AMP.DAT in this directory. Create a 
subdirectory called DATA in the input data directory. All WILBR output files (see Section 2.4) will 
automatically be placed in the directory DATA. These output files are used by Ae WILBR modules 
as input, ou^ut, and temporary files. 

The following include files must be in the source code directory for compiling: 


BMCOMM.DAT 

CALCSTRU.DAT 

FRES.COM 

NFSTRU.DAT 

MAINSTRU.DAT 


PARAMETER.DAT 

RDLMSTRU.DAT 

PLOTSTRU.DAT 

GLOBALS.FOR 


The following are the source code files of WILBR. See Appendix I for a list of subroutines within 
the source files. 


AACDF_PLOT.FOR 

FWG_SPACING.FOR 

STATS.FOR 

ARYPF.FOR 

HARM_DFT.FOR 

TACDF_TIME.FOR 

CDFPL.FOR 

HPFUNC.FOR 


HYPLT_SCLNT.FOR 

VAX_READ.FOR 

DSI$ADD.FOR 

NOISE.FOR 

VAX_SAVE.FOR 

DSI$SELDEV.FOR 

P2PLT_SCLNT.FOR 

WEIGT_DFT.FOR 



18 


TMCDF.FOR DUMMY.FOR 

CDFPL_SCLNT.FOR PLOTS_SCLNT.FOR 

HYDPHASE_SCLNT.FOR WEIGT_PS.FOR 

VAX_OPTIONS.FOR FRES.FOR 

DATA.FOR SCLNT_VAX.FOR 

To make an executable, compile the source code with FOR/NOWARNINGS filename. Compile 
PLOTS_SCLNT.FOR with FOR/NOOPTIMIZE/NOWARNINGS. Link the objects with 
UNISHR.LIB. 


2.3 Calibrations 


The caHbrations are divided between the WILBR beamformer and WILBR processing routines. 
Preliminary calibrations take place in the beamformer. The beamformer uses the analog to digital 
conversion factor in volts/bit. The calibration equation in the beamformer is as follows: 

SYSEN(i) = C_SENSTVY(i) + FILT_GAIN + DB_BIN 
C_SENSTVY(i) = H_SENSTVY + LCCHN(i) 

where SYSEN is the final sensitivity, C_SENSTVY is the channel sensitivity, DB_BIN is the 
binwidth correction, H_SENSTVY is the hydrophone sensitivity, and LCCHN is hydrophone 
sensitivity correction for a given channel. H_SENSTVY, FILT_GAIN, and DB BIN are 
hardcoded to 0.0 dB. LCCHN is adjusted in the template file with the system editor. 

WILBR completes the calibration in the processing routines. 

ICAL = KHSEN + IFLTR + ISCUG + IBWCR 

where ICAL is the final calibration factor, which is subtracted from the data, KHSEN is the 
hydrophone sensitivity, IFLTR is from the filter function subroutine, ISCUG is the system gain, 
IBWCR is the binwidth correction factor. 

For example, the calibration for the DTAS was as follows: 

A/D = 0.0007071, entered in the beamformer routine 
KHSEN = -201, entered in WILBR 

SCU = 24.08 + gain setting + 60, (60 dB is a constant from the filter function) result entered in 
WILBR 

FILTR = result from the filter function in WILBR 
IBWCR = is calculated in WILBR. 


2.4 Output files of WILBR 


The following files are created by the WILBR program and placed in the subdirectory .DATA. In 
the files listed below, "projname" is the project name selected at the beginning of the program, and 
"L#" is the number of die leg processed. 


projname.FIT 

projnameA.RES 

projname.L# 

projname.FTW 


projnameO.L# 

projname.LTW 

projnameN.RES 

projnameP.L# 




19 


projnameB.RES 

projnameH.L# 

projname.Lrr 

projnameC.RES 


projname.RIT 

projnameS.L# 

projname.RTW 


The main file is projname.L#, which is a file of the beam noise for leg L# after WILBR reads the 
output file of the beamformer. 



SAMPLE 1 



Fig. 12 - The Nordic file format (left) and the LOGI file format (right) 





21 


Template filename is: 
watsun_beamer.dat 

Edit this file to control the channel selection, etc. 

Asgn = 0 if not used. Asgn = #, the contiguous order. 
Stat = 0 null phone, Stat = 1 OK, Stat = -1 Ph. reversed 


1 

2 

3 

4 

5 

6 

7 

8 

9 

10 Chans 

64 

63 

62 

61 

60 

59 

58 

57 

56 

55 Asign 

1 

1 

1 

1 

1 

1 

1 

1 

1 

1 Stats 

0 

0 

0 

0 

0 

0 

0 

0 

0 

OdB Adj 

0 

1.2 

2.4 

3.6 

4.8 

6.0 

7.2 

8.4 

9.6 

10.8 space 

11 

12 

13 

14 

15 

16 

17 

18 

19 

20 Chans 

54 

53 

52 

51 

50 

49 

48 

47 

46 

45 Asign 

1 

1 

1 

1 

1 

1 

1 

1 

1 

1 Stats 

0 

0 

0 

0 

0 

0 

0 

0 

0 

OdB Adj 

12.0 

13.2 

14.4 

15.6 

16.8 

18.0 

19.2 

20.4 

21.6 

22.8 space 

21 

22 

23 

24 

25 

26 

27 

28 

29 

30 Chans 

44 

43 

42 

41 

40 

39 

38 

37 

36 

35 Asign 

1 

1 

1 

1 

1 

1 

1 

1 

1 

1 Stats 

0 

0 

0 

0 

0 

0 

0 

0 

0 

0 dB Adj 

24.0 

25.2 

26.4 

27.6 

28.8 

30.0 

31.2 

32.4 

33.6 

34.8 space 

31 

32 

33 

34 

35 

36 

37 

38 

39 

40 Chans 

34 

33 

32 

31 

30 

29 

28 

27 

26 

25 Asign 

1 

1 

1 

1 

1 

1 

1 

1 

1 

1 Stats 

0 

0 

0 

0 

0 

0 

0 

0 

0 

0 dB Adj 

36.0 

37.2 

38.4 

39.6 

40.8 

42.0 

43.2 

44.4 

45.6 

46.8 space 

41 

42 

43 

44 

45 

46 

47 

48 

49 

50 Chans 

24 

23 

22 

21 

20 

19 

18 

17 

16 

15 Asign 

1 

1 

1 

1 

1 

1 

1 

1 

1 

1 Stats 

0 

0 

0 

0 

0 

0 

0 

0 

0 

0 dB Adj 

48.0 

49.2 

50.4 

51.6 

52.8 

54.0 

55.2 

56.4 

57.6 

58.8 space 

51 

52 

53 

54 

55 

56 

57 

58 

59 

60 Chans 

14 

13 

12 

11 

10 

9 

8 

7 

6 

5 Asign 

1 

1 

1 

1 

1 

1 

1 

1 

1 

1 Stats 

0 

0 

0 

0 

0 

0 

0 

0 

0 

0 dB Adj 

60.0 

61.2 

62.4 

63.6 

64.8 

66.0 

67.2 

68.4 

69.6 

70.8 space 

61 

62 

63 

64 

65 

66 

67 

68 

69 

70 Chans 

4 

3 

2 

1 

0 

0 

0 

0 

0 

0 Asign 

1 

1 

1 

1 

1 

1 

1 

1 

1 

1 Stats 

0 

0 

0 

0 

0 

0 

0 

0 

0 

OdB Adj 

72.0 

73.2 

74.4 

75.6 

0 

0 

0 

0 

0 

0 space 

71 

72 

73 

74 

75 

76 

77 

78 

79 

80 Chans. 

0 

0 

0 

0 

0 

0 

0 

0 

0 

0 Asign 

1 

1 

1 

1 

1 

1 

1 

1 

1 

1 Stats 

0 

0 

0 

0 

0 

0 

0 

0 

0 

0 dB Adj 

0 

0 

0 

0 

0 

0 

0 

0 

0 

0 space 


Fig. 13 - Example of a template file used by NEWBEAM 


WILBR 

FORMAT 



Fig. 14 - The WILBR file format 



23 


3.0 SECTION III: FOR THE DATA PROCESSOR, RUNNING WILBR 

The optimal order of modules: Run NEWBEAM to create a WILBR input file. Run the Array 
Performance modules of WILBR: module 7 (VAX tape input) and module 3 (Stats). The optimal 
method is to process all legs with module 7 (VAX tape input). Then select module 3 (Stats) and 
repeat for each leg. Module 3 appends to several output files for use with the Ambient Noise 
modules as each leg is processed. After all legs have been processed with module 3, then run the 
Ambient Noise modules by selecting module 4 (Noise Calc), and the module 5 (Rose Plots). Both 
modules 4 and 5 can be repeated without reprocessing data with the Array Performance modules. 

Because the WILBR output is only for 4 frequencies of interest, the modules must be rerun 
beginning with module 7 for other frequencies in the frequency range selected in NEWBEAM. 

The programs are in order of use. 

The following is a brief explanation of the questions and required responses in NEWBEAM and 
WILBR. Most questions are self explanatory, but are included for completeness. This manual is 
best used during a run of the WILBR software. The screen responses are given in bold with the 
explanations below. 

The following is a list of information that will be needed to answer the input questions. 
Calibrations for absolute values 
A/D (volts/bit) 
gains (dB) 

hydrophone sensitivity (dB) 

Heading of leg (corrected for magnetic variation) 

Sample rate (Hz) 

Array spacing (m) 

Number of hydrophones Sound speed (m/sec) 

Number of phase reversed hydrophones 

Position of phase reversed hydrophones (m) Array depth (m) 

Location depth (m) 

Date of measurements (for plots only) 

Latitude and Longitude of measurements (optional) 


3.1 Running NEWBEAM 

The input tape MUST BE IN NORDIC 64 channel format or in LOGI format, The 
acoustic data will not be byte swapped. 

This program processes data from DISC files such as DKBO: [dir.dir.dirjfilename 
The location and filename can total up to 40 characters. 

You will be prompted for any output data that is not available from the data file. 
As a consequence of this, several prompts occur after the header has been read. 
************************************************************* 

dkbO: [dir.dir.dir]filename 

Enter input file location and filename 

The file location and filename can total up to 60 characters maximum. 



24 


Is the input file LOGI format? (y=l) 

Enter a 1 for yes or a 0 for no. If yes, a PAR file must be in the same location as the data file. The 
program will search for fllename.PAR. The following is displayed if yes is selected. If no is 
selected, then the program prompts for the output filename. 

A LCXjI formatted file will be reformatted to a NORDIC format by the NEWBEAM program. 
Enter location and filename of reformatted file. 

The file location and filename can total up to 60 characters maximum. The following is displayed 
when the reformatting is complete. 

dkbO:[dir.dir.dir]fiIename.PAR 0 

LOGI file has been reformatted to NORDIC format 

Open of input file dkbO:[dir.dir.dirlfilename.DAT was successful 

dkbO: [dir.dir.dirjfilename 
Enter output location and filename 

The location and filename can total up to 60 characters maximum. 

This file will be the output file of the NEWBEAM program, i.e. the input file for WILBR. 

The template filename's prefix is limited to 60 char. max. 

Current template filename prefix is: 
dkbO: [dir.dir.dir]watsun_beamer 

Is this prefix OK? (Y/N) or (return) 

Yes or return will proceed with the program. If no is selected, the following prompt appears. 
Enter new filename prefix. 

Enter only the prefix. ".DAT" is not necessary and will result in a program failure. 

The template file that will be used is : dkbO:[dir.dir.dir]filename 
WINDOW TYPE MENU 
1= HP301 
2= Hann 
3= Hamming 
4= Uniform 
Select window # 

Enter the number of the desired shading function. 

Reading header block. 

If the date/time group in the header of the PAR file has a 0 for the day, the value will be set to 1. 

Enter the A/D volt conversion factor. 

Enter the analog to digital conversion factor in volts/bit. 

smp. rate A/D factor 

xxxx.xx x.xxxxxx 

The above is displayed after reading the header or PAR file. The sample rate is read from the 
header or PAR file and the A/D factor is an input value. 

Enter array spacing type (0=equal, l=unequal) 


25 


Enter the array heading 

Enter the true heading, that is, the array heading should be corrected for magnetic variation. This 
value should be in integer form. 

Enter the adjustable system gain, dB. 

Enter a 0 here. WILBR will prompt for the calibrations. 

Enter the LOW pass Filter frequency. 

Enter any integer number here. The filter function has been included in WILBR. 

Time in header at the beginning of this tape. 

Year Day: Hour: Min: Sec: 

0 1 0 0 0 0 

Enter the start and end times to process. The tape will be searched and as much of 
the data found between the limits will be processed. 

Format ==> day, hour, min, sec 
Enter start time: 

Enter stop time: _ 

The stop time can be calculated from the number of points, FFT size, and sampling rate. The 
general rule is approximately 60 points. 

Enter time domain FFT exponent to use, either: 

13, 12, 11, 10, 9 or 8 

The general rule is to select an FFT size to give a binwidth of approximately 1 Hz or less. 

Enter type of a spatial FFT (0=FFT, 1=DFT) 

If an unequal spaced array is to be processed, enter 1 for a DFT. 

If an equal spaced array is to be processed, enter 0 for an FFT. 

However, a DFT can be used to process an equal spaced array. 

The next entries will determine which frequency ranges to beamform. You may 
enter up to five ranges in ***Ascending Order** Fmax = XXX. 

Format: Low freq, Hi_freq (-1,-1 terminates list) 

FFT Del_freq is X.XX 

WILBR will only accept one frequency range of 256 bins or less. 

Enter one freq. range (256 freq max) 

Enter the lowest frequency of the range, the highest frequency of the range. 

Enter one freq. range (256 freq max) 

Enter -1,-1 to terminate the range. 

The following is displayed for acceptance. 

Freq. ranges selected: Lo Hi Actual Lo/Hi Bin Lo/Hi 

Lo and Hi indicate the selected frequency range. Actual Lo/Hi displays the actual frequencies 

included based on the binwidth. Bin Lo^ is the number of bins in the selected frequency range. 

Accept these values as entered, (Y/N) or (return) 

If no, the program returns to prompt for the frequency range. 



26 


Equal Spaced Array (or Unequal Spaced) 

Assuming digital array. Otherwise se 
Select octave (3, 4, 5=enter spacing) 

T^e message of the array spacing is based on a previous entry. The applicable octaves of the 
digital array, DTAS, are for selection. The octaves are already programmed with the spacing for 
the DTAS. If the equally spaced array is not the DTAS, then enter the spacing in meters. 

Current Channel Selections 

Processing up to 256 channels is supported 

Return to view the channel selection template 

Chans: 

Asgns: 

Stats: 
dB Adj: 

Space: 

The channel number (Chans) is displayed with the assignment (Asgns) channel number. That is, 
channel 1 is assigned to 1 when it is the forward channel. Channel .1 is assigned to the last channel 
number when channel 1 is furthermost from the ship. The status row indicates whether a channel is 
used/valid (1), unused/bad (0), or phase reversed (-1). The adjustment to the hydrophone 
sensitivity per channel is indicated in the dB Adj row. Finally, the location of each channel is row 
marked space. These values can be adjusted by exiting Newbeam and using the system editor. 

Note: the spacing is calculated in the Newbeam and WILBR programs and is not read from 
the template file. Therefore any adjustments to the spacing via the editor will not be used in the 
program. 

Template file OK? (Y/N) or (return) 

Enter yes or no. If no, then a prompt for a new template filer name will appear with the option to 
exit the program. 

No. of channels selected in template file = ## 

Template file interpretation completed 
Minimum beamformer FFT size is ## 
as # channels selected was ## 

Do you wish increase to next FFT size by zero filling? 

Default is yes (Y/N) or (return) 

Note that a <retum> is the default "yes". In general, this question is answered by no. 

Beam array will not be padded 

This statement appears if the answer to the above question was no. If the answer was yes, then the 
statement reads: Beam array will be zero padded. 

Enter—Reference S_speed at Ref_depth, m/sec. 

Enter the sound speed at the depth of the array in m/sec. If vertical array data is processed, choose 
an average sound speed or a sound speed at depth of interest. This program does not have sound 
speed profile capability. 

Processing begins. 

Time in last record read is 
year day: hour: min: sec: 
total sees from beginning of file 
Segment # was valid 



27 


Normal Program Exit 

NEWBEAM is terminated and the system prompt is returned to the screen. 


3.2 Running WILBR 

Enter disk location (32 char max): 

Disk location of the beamformer file to process. Can consist of several directories. 

Enter printing device name or type RETURN for query each time. 

To print to screen only, enter "MXH" in capitals. Other responses will make a UNPICT file as 
well as print to the screen. 

Rotate beams 1=Y, 0=No 

This reorders the beams from the beamformed file. If NEWBEAM was used to beamform the data, 
then enter 1 if an EFT was used, enter 0 if a DFT was used. 

Default values of various units are displayed. To change any of these, edit the file nfcfg.dat. 
<RETURN> 

Current projects on record are displayed. These are the selected project names from previous runs 
of WELBR. The project name gives the location and name of the WILBR processed data. A project 
name should be 8 characters or less. The project names can be deleted and/or added from this list, 
by editing the file "currproj.ref." 

The main menu displays the various modules of WILBR. 

1) Beamformer is not available. Use NEWBEAM, a stand alone 

beamformer, which offers an FFT or a DFT and the output is in WILBR format. 

2) SACLANT tape input is inactive. 

3) Statistics this module calculates and plots the array performance/data 

quality statistics, such as beam plot, phase plot, statistics table, TACDF, Rank Correlation Matrix. 

4) Noise Calcs this module contains the Wagstaff Iterative Technique 

(Wrr). It also calculates and plots the AACDF. 

5) Rose Plots this module uses the results from the WIT algorithm to plot 

the horizontal directionalities, and calculate the Array Heading Rose. It also plots the beam noise in 
polar plots, as well as percentiles of the Horizontal Direction^ity. 

6) SACLANT tape scan is inactive. 

7) VAX tape input this module reads the ouq)ut file of NEWBEAM, and 

calculates an FFT'^ to retrieve the hydrophones. Hydrophone plots are displayed here. 

8) Reset Project this option allows another choice of an 8 character project 

name, then displays the above options again. 


3.2.1 ARRAY PERFORMANCE AND DATA QUAUTY MODULES 

3.2.1.1 Module 7: VAX tape input 

Enter leg number to be processed (1 - 99) 

Leg number 99 is reserved for a statistics leg (a tow along one heading for an extended period of 
time). 



28 


Enter Input fllenanie: 

Enter input filename only. Location is taken from the disk location. 

Is this FWG towed array? (Y/N) 

If no, the program assumes a hydrophone sensitivity of -151 and uses a SACLANT array filter 
function. If yes, the program sets a flag to call FWG towed array filter function and will inquire 
later for the hydrophone sensitivity. 

When a file is successfully opened, the location and name are displayed. Otherwise, the input 
filename is asked for again. 

Polygon number (for plots only) = 

Enter an integer number between 1 and 99. "For plots only" means that the entered number is not 
saved to the data file and only shows up on the plots. 

Leg number (for plots only) 

Enter an integer number between 1 and 99. 

Standard frequencies (50, 147, 297, 595) l=yes 

Enter 0, to select different frequencies. Frequencies must be within the range selected in the 
beamformer routine NEWBEAM, otherwise errors will occur during the file read. 

Enter 4 frequencies. 

This command is displayed only if 0 was entered as a response to the previous prompt. Enter the 
desired frequencies in the format XX,XX,XX,XX. The values are real numbers. 

Sampling frequency and temporal FFT length are read from the input file and displayed. 

Enter hydrophone sensitivity. 

This is usually a negative number. Enter it as a negative real number in the format -XXX.X. 

Display of analysis frequencies that were selected and information from the input file. 
Hydrophone to process (this is hardcoded to 31) 

No. of points to average 

No. of bad phones Time weighting 

Spatial weighting No. of acquired bands 

Band starting frequency (this is the first analysis freq) 

No. of samples per band is 256 

Enter SCU gain. 

Enter an integer number or a real number with one decimal place. F*rogram will truncate more 
decimal places. 

Enter array heading. 

This value is later used in the noise module to generate a Horizontal Directionality (HD). For 
accurate HD directions, use a true heading, that is, a heading that has been corrected for magnetic 
variance). 

Enter Julian day: 

This is used to annotated the plots. 

Enter Year (XXXX): 

Also used to annotate the plots. 



29 


Enter array/bottom depths (m) 

Enter depths in meters. Used to annotate the plots. 

Enter Latitude (degs,mins,sec): 

Enter Longitude (degs,mins,sec): 

Also used to annotate the plots. However zeros are usually entered. 

Above selections are displayed. 

Do you wish to use these values? Yes/No 

Yes, continues the program. No, returns to "Enter Julian date". 

Data processing begins at this point. "Ping nr." is the sample number of the data read from the 
input file. BEAM SHIFT NOT ACTIVE and BEAM SHUT ACTIVE messages notify the user 
whether the beams were reordered (0 = not active, 1= active). See above. 

The message, "HPFUNC error freq < 0", is not an error message, but a notification that all four 
analysis frequencies for the sample were processed. 

Unit file 10 is the location and name of the resulting file from this module. It is later used in the 
STATS module. Actual number of hydrophones is set to 64. This is hardcoded. This version of 
WILBR only produces 64 beams, although most of the storage arrays are for 256. 

Enter phone spacing: 

Enter phone spacing in meters. This number is later used in the beam direction calculation of the 
HD. If an unequal spaced array is used, enter the smallest spacing. 

Enter sound velocity: 

Enter sound velocity in meters/sec. If processing data from a vertical array, then enter an average 
number or a sound speed of interest. 

Opening unit 10: location.lilenameS.LX 

This S-file is used in later modules. It is an ASCII file containing sound speed, number of phones, 
number of beams, spatial weight, and time weight. 

Plot title: 

This is not used at all. Hit <retum> to continue. 

Plot Hydrophones (l=yes)? 

Yes, will print the hydrophone plot to the screen, and if a printer was selected at the beginning of 
the program, will make a UNIPICT file for a later hardcopy. If No is selected, the hydrophone plot 
will not come to the screen and a UNIPICT file will NOT be made. 

End of this module. The directory is once more displayed. From here, STATS (option 3) can be 
selected. However if option 7 is desired, exit the program and run again. 

3.2.1.2 Module 3: Statistics 

Enter leg number to be processed (1 - 99) 

99 is reserved for a statistics tow. The input file to this module is generated from module 7, 
projecmame.LX. The leg number entered here is used to locate the correct input file for processing. 

Input the new leg number to be used in processing. 

This leg number is usually the same as above. However, with this option the legs of the polygon 
do not have to be processed in consecutive order and/or legs can be omitted. Module 3 builds an 



30 


input file for the Noise module, which requires the legs to be consecutive. The number entered 
here must be the order of processing number, regardless of actual leg number. 

Output file: projectnameN.res 

This is an ASCII file of beam noise for each leg at each analysis frequency. It is an input file for 
module 4. 

STATS Main Menu 

1) Output to printer (not used) 

2) Accumulate CDF data (ON/OFF) (not available, use ’off) 

3) Output, file (not used) 

4) Noise file (NEW/APPEND) 

(Select NEW for the first leg to process, then APPEND for the remaining legs.) 

5) Statistics (NORMAL/NO NORMAL) (use normal only) 

6) Scratch current plot file (NO/SCRATCH) (use 'scratch') 

Enter option S)ave setup, P)rocess, or Q)uit: 

The options for statements 1-6 are in parenthesis (). Those options with a slash / can be toggled by 
entering the statement number until the desired option appears. 

Note: It is important to ensure that option 4 reads "append" when processing leg numbers 2 and 
higher. 

S will save the menu setup for the next run. (Except for option 4, which must be checked each time 
a leg is processed.) P will begin processing. Q will return to the Main Menu. 

Plot accumulated CDF function (Y/N): 

Answer No. If yes is selected the program may crash due to the unavailability of this option. 

Do you wish to see phase plots? (l=yes) 

This will display phase plots to the screen. If yes is selected, the following question will be 
displayed. 

Plotting hydrophone phase information. 

At frequency XX Hz the maximum level is found at azimuth XX.XX deg 
Please enter the new azimuth angle now 
or -999, to use the above angle=> 

For each analysis frequency, the program selects the maximum level from the beam plot and uses 
this direction as a default for the phase calculation. 

If TACDF (Temporal Anisotropic Cumulative Distribution Function) was selected, the following 
appears. 

Input beam number (3 max) 1 to 66 
(Enter three integers (0 = no beam)): 

Choose three beams to process for the TACDF. If only 1 or 2 beams are desired, use 0 to full the 
remaining input beam numbers. For example: 3,20,0. This will select only two beams, numbers 
3 and 20. 

Input analysis frequency (0 - 4, 0= all): 

Select which frequencies to process for TACDF. 0 = all, 1 = first analysis frequency, 2 = second 
analysis frequency, etc. 

Do you wish to see beam plots? (l=yes) 

Prints plot to screen. If a printer was selected at the beginning of the program, then a print file is 
made. If no is selected, no plots to the screen and no print files will be made. 



31 


End of module. The resulting output file is in the form of an ASCII file called STATS .DAT and 
can be found in the executable directory. This file contains the beam noise statistics in tabular 
format and a rank correlation matrix for each analysis frequency. 

3.2.2 AMBIENT NOISE MODULES 

After all leg data has been processed with module 7 and module 3, then the ambient noise products 
can be calculated. All legs must be processed with module 3 to make a projnameN.res output file. 
This is an ASCII format file which contains the beam noise data for each leg for each of the four 
analysis frequencies. The legs must be numbered consecutively in this file, if not, the program wUl 
terminate with errors. 

3.2.2.1 MODULE 4: NOISE CALC 

Run WILBR and answer the first questions under the Running WILBR section until the main 
menu appears. Select module 4 (Noise Calc's). This module uses projnameN.res and 
projnameS.L# as input and calculates the horizontal directionality using WagstafFs Iterative 
Technique (WIT). "Diis module also calculates the Azimuthal Anisotropic Cumulative Distribution 
Function as well as displays it. 

After selecting module 4 from the main menu, the input filename and three output filenames are 
displayed. 

Calc's Main Menu 

1) Input file -- dkbO:[dir.dir.dir]filenameN.res 

2) Number of freq # 

3) Number of legs # 

4) Spatial shading (HannAJniform) 

5) Sector relative to North (No/ G,H) G - input center 

H • half width 

6) Degrees for smoothing # 

7) Bad phone (ignore/#) 

8) Sector relative to array (No/ I,J) I - input center 

J • half width 

9) WIT in use (Median-dBavg) 

A) AACDF probability plots (no/yes) 

B) Listing output to (printer/tape/tape-print/none) 

C) Noise calc's TILT or Vertical structure (none/ K-N) 

K - (deg) TILT 

L - (deg) vertical extent of noise 
M - (deg) width of notch 
N - (deg) depth of notch 
Enter option S)ave setup, P)rocess, or Q)uit: 

The options for statements 1-9 and A-M are in parenthesis (). 

Those options with a slash / can be toggled by entering the statements number until the desired 
option appears. Otherwise, when a statement number is entered, a prompt appears. 

Option 1 informs the user of the file to be used in processing with module 4. 

Option 2 asks for the number of frequencies in filenameN.res. 

This number is usually 4, that is the 4 analysis frequencies. 

But the number could be less than 4, but in any case, the entered value must match the number of 
analysis frequencies in filenameN.res. If this number is not the same, an error will occur. 



32 


Option 3 asks for the number of legs in the filenameN.res file. 

This is the number of legs processed with module 3. If the number entered is not the same as the 
number of legs in the file, an error will occur. 

Note: The filenameN.res file is an ASCII file and can be modified with a system editor. 

Option 4 use Hann. 

Option 5 and 8 ask for the sector of valid beams for calculating the AACDF. Select either a secret 
relative to North (option 5) or a sector relative to the array (option 8). Select 'no' for other option. 
Enter the center angle of the sector (input center). Enter the half widA of the sector. This is the 
width of the sector on either side of the center (half width). For example: The noise characteristics 
on beams forming a 60 deg sector centered at broadside for aU legs of a polygon are desired In 
this case, enter 5 until option 5 reads 'no'. Enter 8 until option 8 reads I and J. Enter I, then 90 for 
the center of the sector, which is broadside. Enter J, the half of the width of the desired sector, 
which is 30. Another example: If the noise characteristics in a 60 deg sector looking in the 
southwest direction of the polygon are desired, then select option 5 to read G and H and 'no' for 
option 8. Enter the center (Section (G) of the sector desired, in the case 225. Enter the half width 
(J), 30 deg. For each leg of the polygon, the statistics are calculated using the beams in the defined 
sector. 

Option 6 is usually set to 10 deg for smoothing in the WIT calculations. 

Option 7. Use ignore. 

Option 8, see option 5. 

Option 9 selects the type of statistic to appear on the horizontal directionality pits. Median is the 
standard choice, because it is a robust statistic. 

Option A. Select 'yes' to calculate the AACDF. If AACDFs are desired, either option 5 or 8 must 
be select as weU. 

Option B uses only 'printer.' 

Option C is rarely used. 

S will save the menu setup for the next run. P will begin processing. Tables of noise iterations will 
scroll on the screen during the processing. These are saved in a output file called FOR008.DAT, 
which is placed in the directory of the executable. Q will return to the Main Menu. 

the AACDF was selected, it will be displayed at the end of processing. When the Noise module 
is finished, the Main Menu is returned. At that time, module 5 (Rose Plots) can be selected. 

3.2.2.2 MODULE 5: ROSE PLOTS 

This module calculates the Array Heading Roses (AHR) for the analysis frequencies and displays 
the horizontal directionality, percentile directionality, polar beam noise plots, and Array Heading 
Roses. An Array Heading Surface (AHS) can also be calculated, and a file is generated. However 
this version of WILBR does not have a plotting routine for the AHS. 




33 


PLOT'S MAIN MENU 


1) Output of ARRAY 

2) Calculate ARRAY 


headings - Printer 
heading ROSE - Yes/No 


(Center) (Width) 

3) Section 1 45 30 

4) Section 2 135 30 

5) Section 3 225 30 

6) Section 4 315 30 

Enter option Slave setup, P)rocess, or Q)uit: 

The above options are toggl^ by entering the desired option number. If more information is 
required, the program prompts the user with a question. 


Option 1 uses only 'printer.' 

Option 2. To calculate and print out Array Heading Roses select 'yes'. Otherwise toggle option 2 
to select 'no'. If 'no' is selected, the horizontal directionality, percentile plots, and polar beam 
noise plots can still be printed. 

Options 3 through 6. Enter the option number to change the center and width entries. The center 
and width describe the "look" sector for the AHR, the shaded section in Fig. XX. The AHR is 
calculated based on the sector. Four different "look" sectors can be chosen. 


After entering P to process, the following questions appear. 

Do you want hor. direc. plots (1==> yes) 

Save noise rose data in a disk file? (l=>yes) 

A yes response will save the data in an ASCII text file called FOR008.DAT. If option 2 of Plot 
Menu is not selected, then this file will not be made. 

If horizontal directionalities were selected, the plots come to the screen. 

Noise Field Plots completed 
♦** Calling ARSPL ♦** 

Do you want array hdg. rose plots(l==>yes) 

Do you wish to generate an array heading rose surface???(l=yes) 

This wiU generate a file called HEADROSE.DAT, which contains 360 headings at each of 360 
sector directions for the analysis frequency currently being processed. HEADROSE.DAT is an 
input file to a standalone plotting routine that is not available with this WILBR version. This 
question repeats at each analysis frequency, 
ff yes was selected the following statement appears: 

Freq. = XX.XX Centre = XXX 

Now processing angle XX at XX.XX Hz 

This statement appears to notify the user of the sector angle and frequency of the array heading 
rose being processed. These vines were selected in the Plot Menu. 

Array Heading Rose Plots completed 
Do you wish to see percentile plots (l==>yes) 

If yes, the following question must be answered with yes. 



34 


Do you want hor. direc. plots (l==>yes) 

Save noise rose data in a disk file (l==>yes) 

Answer no here. This will only make a duplicate file of AHR data. 

Do you wish to see beam plots (l==>yes) 

A plot for each leg direction comes to the screen. To continue hit <retum>. 
After module 5 is finished, the Main Menu returns to the screen. 

Select Quit to end WILBR and to return to the system prompt. 


35 


4.0 SECTION IV: MODIFYING WILBR ON THE ALPHA 

This section contains hints and tips to modifying the WILBR software code. The commonly 
requested software modifications are for array spacing, filter functions, weighting functions, and, 
of course, format of input data. These are discussed below and include "pointers" to the software 
code requiring changes for the desired modification. 

4.1 Array Spacing 

If the array to be processed is equally spaced but has a different spacing than DTAS, no changes 
need to be made to the program. When running the WILBR beamformer, answer the array spacing 
questions with the options 'equal spaced' and 'octave 5'. The octave 5 option allows a different 
spacing to be used for an equally spaced array. 

If the array to be processed is unequally spaced but has a different configuration than DTAS, 
changes to both the beamformer and WILBR processing must be made. Changes in the 
beamformer should be done in the subroutine SPACING.FOR. This is a separate subroutine for 
easier modifications. It can be replaced with a new subroutine with the appropriate spacing 
configuration or it can be modified. Corresponding changes must be made in WILBR as well. 
Make these changes in FWG_SPACING.FOR. This is a separate routine in the WILBR 
processing code and can be modified or replaced as SPACING.FOR. 

4.2 Filter Function 

If the data requires a different filter function, subroutine HPFUNC.FOR of the WILBR processing 
code must be modified. This is a separate subroutine that can be modified with a new option or 
replaced. 

4.3 Weighting Function 

The WILBR beamformer offers Hann, Hamming, and Blackman weighting functions, however 
WILBR offers only the Hann weighting function. To make modifications, changes should be made 
in the subroutine SHADE.FOR for the beamformer and WEIGT_PS.FOR and Vi^IGT_DFT.FOR 
in WTLBR processing. WEIGT_PS and WEIGT_DFT are necessary to calculate the inverse 
weighting, so the hy^ophones can be reconstructed from the beams. If the data will be using a 
DFT, the only current option available is Hann. Because the shading function depentk on the 
spacing of the array and if the array is unequally spaced, the new shading function will have to be 
modified to accommodate unequal spacing. 

4.4 Format of Input Data 

See section II for detailed descriptions of available formats. If the data file differs from these the 
following are suggested modifications. The beamformer was originally written for NORDIC 
formatted data and incorporates the file reading routines in several subroutines. The method with 
the least amount of impact to the main beamformer routine, NEWBEAM, is to reformat the input 
data into NORDIC format. In this case a read routine similar to the LOGI.FOR subroutine would 
be written and called instead of LOGI or as an option. 



36 


Should it be desired that the beamformer process the new format as a standard, several routines 
must be modified. These subroutines are found in the main routine NEWBEAM.FOR and are 
listed below. 

GET_OPnONS. Open file statements for both the NORDIC format and the LOGI format are in 
this subroutine. 

READ_HEADER. This reads the 16384 byte header block and prompts for additional information. 
The header information is read into a character buffer, then the values from the buffer are read into 
the appropriate variable names. 

GETRECRD. This reads in a buffer of character data and checks for EOF. The character buffer is 
equivalenced to an integer*! buffer. 

GETNEXTSEG. This reads the buffer file, which was read in by GETRECRD. If the data is not 
VAX-type data, that is, it is not compatible with the VAX system, then a byte swap is needed. This 
can happen with data from other laboratories. A do-loop for byte swapping is included in 
GETNEXTSEG. Simply remove the comments. 

The major read loop occurs in the main routine NEWBEAM.FOR. The subroutines are called in 
the order: GET_OFnONS, READ_HEADER, GETRECRD, GETNEXTSEG, GETRECRD. The 
resulting output file is written in the main routine as well. 

Note: The template file determines the positional assignments of the channels as selected. The A/D 
factor is applied in GETNEXTSEG. 

4.5 Re-validating WILBR after Modifications 

After any modifications, NEWBEAM and WILBR should be re-validated to have confidence in the 
results. Often a modification affects another part of the routine, therefore validations must be made 
before using the system to process data. There are two suggested methods. 

One method is to maintain a data file and corresponding WILBR plots for the data file. When a 
modification is made, the data file with the same parameters should be run through the programs 
and the results compared to the WILBR plots. This is a good check if modifications were made to 
speed processing operations, after downloading to a new system environment, making updates on 
plots, etc. 

Another method is to process data from one channel. This can be done with WILBR by modifying 
the template file with the system editor. Select a channel known to be a valid hydrophone. For each 
channel of the array, assign the selected channel in the second row of the template file. This gives 
an array with the same data on all channels. Process with NEWBEAM followed by WILBR. 
Figures 15,16, and 17 are example WILBR plots from such a test. The hydrophone plot. Fig. 15, 
should be a straight line for the median, percentiles and the PRDIFF envelope. The beam noise 
plo^ Fig. 16, should show a peak at broadside (beam #32) and the PRDIFF envelope should also 
indicate a high level at broadside. Finally, the phase plot will be a straight line when the broadside 
beam, 90 deg, is entered at the azimuth angle (see section 3.2.1) in WILBR. This is a good method 
to validate the FFT, new shading functions, filter functions, etc. 


37 


o 

w 


w 

P-. 

o 

W 

> 


.. iz; 

W • H 

O' 

« 

K 

pH 


O 

H 

H 

O 

P3 


O 
? CD 


-L O 
:: \0 

'■I o 

± ^ 

I O 

f ^ 

:: o 

if 02 

O 


O 

CD 


02 


(ap) isAai 


W 

PQ 

S 

p:) 

iz; 

w 

iz; 

o 


N 

W 

• 

o 

o 

o 


w 

tp 

o 

CO 

m 

c 

« 

o 

P3 

x) 


or. 


W 

«gS 

« 

<J 


O 

o 

o 

Ph 


• • 

CO 

w 

> 

P5 

tD 

o 

Ph 

O 

H 


<J 

t-H 

Q 

W 

S 



(ap) laAai 


W 


05 No 

&□ wco 

Ss; 

H-) I>« 

2 ^ 

iz; 


iz; 

o 

ffi 

Oh 


II 


pq 
xJ 

W® 
P5 CD 
foCV2 

Q 

Q 

C 


Fig. 15 - Hydrophone plots showing the same data on all channels 










38 


O 

w 


• * 

w 

> 

K 

O 

o 

Eh 

Eh 

O 

pq 



o 

CD 


o 

ID 


O 


O 

CD 


O 

02 


O 


W 


P5W 

w 

PQ 




pq 

o 

c/2 

pq 

<d 


o 

OK 

o o 

'pH K 


II 


PQ 

nD 


<3 Cz] ^ 

wSd 


pq 

« 

<3 


(ap) laAsi 


iz; 

o 

o 

>- 

hQ 

o 

Ph 


• • 

CD 

w 

p> 

K 

pq 

o 

PQ 

o 

Eh 


< 

HH 

pq 

W 

S 




o 

a 



o 

CD 


o 

ID 


o 


o 

CO 


o 

c\2 


o 


(ap) aaAai 


H 

Eh 

ID 


COK 

j>o 


m 

PQ 

p:) 

iz; 


II 


pq 


KOi 


W P5 00 

pQfo^ 


Q 

Q 

<1 


Fig. 16 — Beam noise plots resulting from the same data input on all channels 








39 



o o o 


(oaa) asvHd 


ADD 90.0 DEG FOR ABSOLUTE ADD 90.0 DEG FOR ABSOLUTE 

THE PHASE ERROR IS 0.00 % THE PHASE ERROR IS 0.00 % 

Fig. 17 — Phase plots resulting from same data input on all channels 





40 


5.0 REFERENCE LIST 

1. Wagstaff, R. A. (1978). "Iterative Technique for Ambient Noise Horizontal Directionality 
Estimation from Towed Line Array Data," JASA, 63, No. 3, pp. 863-869, Mar. 

2. Wagstaff, R. A. (1993). "A Computerized System for Assessing Towed Array Sonar 
Functionality and Detecting Faults," IEEE J.Oceanic Engr., Vol. 18, Oct. 



