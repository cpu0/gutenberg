JPL 



Jet Propulsion Laboratory 
California Institute of Technology 
pls@volcanoes.jpl.nasa.gov 
http://www-hpc.jpl.nasa.gov/PS/MATPAR 


JPL 



Future Work 


JPL 



Work begun in early 1996 on parallel 
extensions to Matlab, called Matpar 


JPL 




JPL 



QJ 


0 

CQ 

(/) 

fl 

u 

0 

u 


CQ 

C 

o 

iJ 

c 

s 


CQ 

V 

< 

"d 

cd 

I 

CIh 
• • 
c: 
o 
•d 
cd 
u 

•i-H 

'Sh 

•1-H 

-(-i 

3 

S 


o ■ 

< 

U 

nj 

9m 

4-> 


4M 

3 

fJQ 




C 

ci 

■2 < 
;i=! 

• « 

o 

3 ^ 

-M 

ns 

fd 0 

u 


3. 

ia ^ 

•d 


> 

•1-H 

^ Oh 

J 

s ^ 

CIh .S 

o .. 

'd 0> 

2 ^ 

0> H 
bO 


CD 

S ^ 

CC V 
< 

d u 
<d 

•M 

I 

Cl. 


Oh 


iii MJ 

•■a ^ < 


X 

9m 


Xi 
^ d 

td 

s d 


d 

g 

pg 

3 

CD 


X 

•rH 

9h 

ns 

g 

-M 
• fM 
-M 

o» 


< 
0> 13 

c/D > 

Cl. 

V 
0> 

CD 

^ Q 

^ > 


* ^ 
QJ 


CQ 

< < S 

'T^ ''7^ ^ 

o^ ,3 ^ 

_i I 3 

CI. Oh C« 


O 

o 


o 

O 


td nj 
N N 


O. <tJ 


o 


o 


0 

u 


2 5^ 


a> 
u 

r2 «d 

rg 

U H 


3 ^ 

(d 


Cl. 

pa 


X 

* 

< 

O) 

> 


D o 
CX hJ c/^ 


Frequency response calculations: p_freqresp(A,B,C,D,w) 

Bode plot calculations: p_bode(A,B,C,D,w) 

Select computer and node count: p_config(computer, node count) 
Persistence: p_persist(A,l) 


JPL 



'O 

im 

A 

a 

c 

A 

u 

o 

a 

o 


.S ^ 


u 

0> 

u 

"5 

o 




PQ 



CD 


< 



Ci> 

< 

•M 




3 



C 

cr 

1 

g 



o 

•p^ 

■«iia 

e 

1 

Oh 

II 

PQ 

n 

o. 

II 

u 

CD 

"S 

s 

a 

CD 

OJ 

s 

A 

0^ 

s 

• 

a 

£ 

<V 

13 


o 

g 


fl 


u 

o 

13 

A 

.Q 

0) 

X) 

u 

<D 

pO 

A 

s 

s 

• 

CQ 

< 

PQ 

a> 

pO 

0) 

s 

'Ih 

cr 

7T 

< 

s 

o 

> 


II 

II 

CQ 

CJ 

pS 

a 

PQ 

u 

CD 

CD 

S 

• 

• 






U 

u 


O) 

t>o 

(C 

;3 

W) 

c: 

o> 

- 4 -» 

t)JD 

•fH 

T3 

C 

0> 

■ 4 -» 

X 

d> 

M-i 

O 

13 


o> 

g 

13 

03 

13 

C 

03 

-t-» 

CD 

13 

03 


Compatibility with MATLAB versions 4 and 5 


c 

C c /3 
fC O) 

E 

QJ ^ 
^ CD 

P-i O) 


u 

O 

C3 

• r-4 

s 

c: 

> 

o 

+-> 

0L, 

• ^ 




> 



3 

a; 

o> 

73 


O 

o 

u 


^-> 


C 

e 

0) 

J2i 

* rH 






H 

< 

A 

a 



• 

A 



O 

+-► 

SH 

4 -* 

C 

;h 

o 


CD 

QJ 

•w 

CIh 

P-. 

o> 
» ^ 

QJ 

g 

}-l 


03 

u 

2 

o 

O 


• ^ 
S 3 
pj 

rC 

4 -» 

CD 

73 

V 

c 

O 

.i—t 

+ 

+ 

g 

o 

S 3 

CD 

4 -* 

fd 

}-H 

u 

g 

O 

r i 

o 

4 -» 

CD 

73 

o> 

a 


’T 3 

s ^ 

^ T 3 

s 

'Vi a 

<U >H 

■g o 

S Id 

*£: .S 

o ^ 

•M 

u o 

.Si. O 

'S 

O " 

c/5 .22 


O T5 
U O 

>H C 

E Ph 
0 / 


fd ^ 

T 3 cC 

fd 

^ 'Ti 
o> ^ 

.l-H 4-» 

T 3 3 

CD CD 
CD 0^ 

4 ^:* }-t 


c; u 

?H O) 
+-» ,-H 

CD r-* 

^ o 

T3 U 

0> (L> 

73 73 
O O 
C C 

)h U 

O O 

4 -> 4 -» 

fd td 

C C 
73 73 

;-i ^ 

O O 

o o 
U U 


^ (d 


Jh 

O) cu 


C fd 

fd 

U CD 
CD 9^ 


t 2 2 


Server session remains active until user quits MATLAB 


JPL 



CM 

S 


c« 


u 

4-» 

O) 

V 

cd 

-M 

03 

C 

03 

s 

s 

o 


■o 


3 

O 

tj 

m • 

^ -s 

-O T5 

s c 

3 A 

s s 

B B 

o o 
U U 


X 

3 

os 

•s 

Vi 

-M 

3 

•i-H 

U-I 

O 


u 

3 

u 

3 

■4-» 

3 
o» 

Vi 
V '-' 

.3 «) 

H 

Iz •»-( 
5 T3 

« 3 

S *2 

O Vi 

3 *u 
u 

QJ 3 
Dh 0> 


0> 

o 

3 

X 

u 

OS 

0> 

3 

O 

T3 

O) 

•M 

as 

u 


3 

O 

•>-H 

Vi 

•fH 

u 

O) 


Vi 

}-, 

O) 

Dm 

;h 

o 


Dh (D 

QJ 

S 

3 
3 


a 


o 

ij 


0> 


a 

CD ^ 

3 « 

• 3 


3 

3 

0 
T3 

1 
I 

hJ 

OQ 

hJ 


3 

0 
T3 

1 
I 

o 

< 

l-H 

Q 

hJ 


3 

O 

T3 


PQ PQ 

Q Q 

S S 


H 

< 

S 

Dm 

W 

hJ 

PQ 

Q 

3 


<L» 

u 

3 

0> 

0> 

M-i 

<D 

I 

I 

H 

< 

s 

[j-( 

W 

(^ 


3 

3 

u 

CO 

3 

o 

•J-M 

CO 

•l-M 

u 

O) 

u 

a 

3 

3 

0 
^3 

1 
I 

hJ 

PQ 

Q 


o 

u 

u 

O 


3 

3 

O 

u 

O 

u 



0> 

X 

3 

03 

03 

X 

0) 




• 1— ( 





i3 

o 

03 

3 

V 

9h 

(CJ 


3 

o 

o 

£ 

X 

4-» 

U 

-4-» 

u 

3 

•1-H 

-4-» 

3 

0) 

3 

r 1 

03 

m-h 

3 

03 

d 

-M 

</3 

V 



^ 

05 u 

6 ^ 

V X 

£ ^ 
3 u 

O 

5h M-i 

X toJO 

£ 

• rH 

03 1-^ 


I 6 ^ 


0) 


3 

« ^ 
XJ hJ 
•> ry^ 

s 1:^ 

3 PQ 

2 o 
" S 

3 ^ 

3 • 

Q 


X 

o 

M-^ 

3 

3 

O 

u 


os 

-M 

H3 

'T3 

3 

3 

O 

u 

O 

u 

-(-^ 

3 

3 

O 

u 

0 

1 
I 

H 

< 


o» 


hJ 

PQ 

Q 


3 

3 

O) 

CJ 

3 

o» 

O) 

M-m 

0> 

I 

I 

H 

< 


Dh 

W 

Q< 



JPL 



•V 

a 

C« 

A 

XI 


fin 

U 

(/) 

C 

o 

• 1 -^ 


u 

ns O 


X 

•1-H 

9 h 

-4-» 

03 

S 

c 

o 
• ^ 
</) 
•l-H 

u 

O) 

Ci. 


t;j 

"d 

X 

'Sh 

6 

o 


X 

• I— ( 

-M 

s 

c: 

o 

• 1 -H 

CD 


u 

3 

'd 

o> 

s 

d 

-M 

0> 


OJ 

6 

d 

o 

CD 


X 

•fH 

(C 
6 
3 

d 

_ o 

t5 ^ 

^ os 


X 




u 

<D 

Ph o 
O) n3 


d 


u 

P. qj 

G, 

O) 


d 

o 

TJ 


Xi 

d 

o 


d g 

QJ O 

^ -l-H 

^ .52 

c/5 ^ 

U CU 

Ql ^ 

Ph ^ 

M-( QJ 

0 3 

<U ^ 

.a o 

cp 

1 


#v 

Xi 

1 

I 

H 

w 

1 

W 

1 

O 

a 

d 

H 

< 

1 

N 

H-» 

o 

Id 

< 

s 

>4 

hJ 

HH 

cn 

< 

HH 


1 

1 

3 

U 

CP 

H 

Q 

c 

hJ 

hJ 

hJ 

hJ 

<I 

hJ 

3 

CP 

CP 

CP 

CP 


CP 


Q 

Q 

Q 

Q 

pLi 

Q 

• • 

s 

s 

S 

S 

W 

Ci^ 

s 

e« 

HH 

HH 

HH 

h-H 

HH 

A 

Q 

# 

• 

• 

• 

• 

• 



5x5 matrix partitioned into Matrix distribution onto 

2x2 blocks 2x2 node grid 






JPL 



O) 

CA 

xn 

•rs 


X 

’h X 


OS 

s 

QJ 

'Bh 

s 

o 

u 

O) 

£ 

8 ^ 


OS 

g 

2 


' 2 
»rH 


X 

i3 


«3 

t 

iu 

U CQ 


J3 

OS 

g 

c 

o 

W) 

c« 


T3 

o» 

-M 

td 

u 

•fH 

B. 

0> 

;-( 

I 

I 

X 


CIh 

g 

o 


cd 

s 

Q 

D£: 


03 

•M 

c: 

;3 

3 ^ 
O O 
u 


C/D 

9h 

o 

•M 

U 

4-» 

CD 

(I> 

c/3 

;-i 

O 


c 

O 

•rH 

Xi 

•rH 

t! 

CD 

•rH 

-a 

C 

o 

•l-H 

4-> 

U 

B 

u 


c/3 

C 

o 

• l-H 

-t-> 

CT3 

0> 

Cl. 

O 


a < 


a 

X 

• rH 

w 

c: 

«3 


CJ 

4H 

03 

CJ 

C-. 

< 

A 

"O 

9h 

•M 

OX 


TJ 

CD 

C 

• rH 

"Sh 

hJ 

cd 


c: 

O 

O 

o 

0) 

u 


Q 

;h 

JS 

u 

9h 

cn 

C8 

• 

• 

0> 

• 

• 

• 

u 

' 


s 





m 


assignment, equality testing, filling 


JPL 



03 

> 

0> 


C 

03 

2 6 

« g 


u 


o 

u 


C/D 

03 

Vh 

td 

iS .2 

OS J2 
T3 


;3 

CIh 


c/3 

a/ 


C 

o 

• 1— I 

Id 

s 

i-t 

o 


)h 

o 

Vi 

O) 


CA 

'O 

o 




c/3 

Id 

u 

"fd 

o 

• I— I 

•4-> 

u 

C 


a> 

> 

t>o 


O) 
Vh 

C 

03 

C 
O 
X! 
03 
0> 
Vi 

u 

X 

n 

OS 

s 

-n 
<L» 


c/3 

C 

o 

X 

u 

C 

;3 


cd 

> 

CD 


CD 

Vi 

-M 

C 

(D 


S 

Z2 *i-H 


;3 

t)0 

Vi 

OS 


c/3 

Vi 

CD 

Qi 


c/3 

CD 

c 
• 1-1 
-M 

O 

Vi 

C 

O 

• 1-1 

-i-> 

cd 

CD 

Vh 

u 


c/3 

CD 


JPL 



• metadata, pointers to data 
Methods 

• buildO 

• packO & unpackO (PVM) 



JPL 



pQ 

O 

CQ 

A 

o 

CQ 

2 

2 


2 

I s 

■§ -2 

« IS 

C« S 

u > 

.o 0> 

^ Q 


;3 

CT) 

O) 

2 

u 

CD 

Vh 

CD 

to 

CD 


;3 

CD 

CD 

9h 

2 

u 

CD 

fi: 

o 

• i-H 

CD 

U 

a; 

9h 


CD 

CD 

X 


I 

OS 

03 

Q 

-4-» 

►— I 
CD 

Q 


Xi 

0 

T3 

1 
I 

03 

03 

Q 

3 

Q 

•M 

CD 

Q 


nj 

6 

I 

I 

03 

-M 

03 

Q 

4-> 

03 


CD 

Q 


CD 

CD 

X 

• I— ( 

v-l 

13 

s 

c 

o 

t)0 

OJ 


I 

fd 

4-« 

td 

Q 

W) 

<d 


*1-^ 

S Q 


CD 

Q 


ct 

A 

'O 

CA 

A 


(d 

-(-• 

fd 

13 

cd 

•w 

<D 

s 


03 

4-^ 

cd 

TJ 

O 

CD 

QJ 

4-> 

C 

O 

a. 




CA 


Q> 


60 

C 

60 

60 

^3 

■g 

13 


13 

;3 

o 




packO (PVM) 
packBlockO (PVM) 



JPL 



S3 

<0^ 

B 

u 

•pm 

33 

cr 

'o 

u 

a 

o 

pQ 

o 


o> 

CD 

o 

-M 

4^ 

c 

<D 

cd 

CIh 

CD 

CJ 

OS 

Vh 

-M 

O) 

> 

q; 

CD 

CD 

O) 

4-» 

OS 


CD 

V 

0» 


0» 

X 

W) 

;u 

o 

:S 

CD 

(D 

O 

W) 

4-^ 

Cd 

X 


9h 

O) 


0> 

CD 

c 

o 

-w 

Oh 

u 

CD 

a 

bJO 

■S 

t, g 

RJ > 
00 Cl. 


C/D 

O) 

> 


4-) 

C/D 


O 
> 

s 


<L> 

C/D 

;3 


Cfl 

<U 


a> 

CO 

CD 


C/D 

CO 

o 

Cl. 

a 

s 


X 

u 

•1-H 

x; 

CO 

0> 

•t-H 

u 

0/ 

T3 

}h 

0/ 

CO 

;3 


CO 


2 ^ 

S CO 

S w) 

&.S 

•2 S 

U H 


QJ 

6 


O) 


^ A 

.ti 

S 

< - 

• Pn 


u 


a; 

rd 


o to 
^ ;3 


CO 

QJ 

U 


CO 
0/ 
o 

T3 •£ 

Ch 


CO 

0/ 

CO 

CO 

B 

B 

<L> 

o 

U 

u 

O 

c 

a. 

• I— 1 

u 

a 

T3 

QJ 

C 

« 

C 

OJ 


g 

<L> 

4-» 

CO 

CO 

u 

;3 

o 

c 

o 


A 

Oi 

CO 

S 

« 


CO 

C 

O 


u 
O 

-M 

o 

c A 

2 « 

n to 

'U « 

Si 


§ 

2 

< 

hJ 


S 

O 

cj 

Si 




f-t 

o 

Cl. 

Cl. 

C3 

CO 

-*-» 

O 

C 

o 

E 

s 

M-( 

o 

CO 

C 

O 

•I-. 

CO 

0/ 

> 

O) 


CO 

u 

C 1c 

BS 

c/3 

brs CO 

bo o> 

O u 

Oj ^ 

X (ts 

" o 

. . M-. 

^ T-S 
°° « 

dS 

V 2 

5ri ^ 

Q-i "tj 

CO ^ 

(N 

l-T 

Plh C 

2 2 

I— I 

6 d 

O Ch 

£ 2 




undefined." 

p. 83: "Complex interaction of an MPI application with its runtime 
environment should be done through ... pvm_addhosts..." 

Workarounds to MPI limitations are cumbersome 


JPL 



128 


JPL 



•o 

a 



Vi 

CQ 


Vi 

T 3 

•p^ 

> 

O 

im 

a 


Vi 

<u 

Vi 


S 





< 3 J 

2 

O 

U 

a 

<u 

6 £ 

i 2 

c 

o 

fi 

o 


3 

u 

sB 

n ^ 
u ct 

u *- 

■ ® s 

1 ^ U) 


u 

c 

•fH 

ns 

cn 
o> 

• 4 -^ 

ns 

M-h 

c/5 

C 
ns 

« 4 -» 

ns 

•w 

ns 
73 

C ■ 
o ^ 

ns 

5 : S 


0 > 

h ^ 

cC q; 

« 3 

g ^ 

V-4 


9 h 


(/) 

CD 

U 


- 4 -> Cn 

^ 6 

^ CO 

£?| 

> 

k 

c o 

*-t V4_, 

C >H 

0 > O) 

<— > 4 -> 

I « 

VM 


Future Matpar Work 



Do more timings to characterize performance 

• How to determine best block size? 

How to determine ideal number of processors? 


JPL 



of 

T5 

0) 

CD 

o 

'*-* 

C 

CO 

■ ^ 

> 

V3 

T3 

c 

< 

.2 

5 

Ui 

cS 

c 

Vm 

,o 

(U 




c 

<u 

u 

U 


(U 

b • 

JO 

5 § 


c« .s 

X) 

o 2 

T3 

X5 is 


CO 

CO -d 

hj *s 

*-H CJ 

(u 5 

•i| 

00 
O CO 

^ r ^ 


3 ^ 

Cu « 

o y 

*- S 

“ ■§ 

<D cd 

•£ cn 

3 C 
O o • 

■Ei 

CO cO 
O C 
c/) ,0 
cO 


Oh XJ 


O D 
J=! 
CO 
U 



tu 

=S ^ 

JO 

D. 

T3 

c/5 CO 

Oi 

Ic ^ 

t; 

t3 c 

o 


CX 

.S CJ 


cO 

0^ 

^ (U 

JO 

o 

Ul 

*2 

CO 

a c 

1) 

c/5 3 

c/5 

(L) ^ 

o 


Ul 

O o 

t ^ 

(U 

JO 

o 

<\J o 

r~* J!\ 

C 


H H 



