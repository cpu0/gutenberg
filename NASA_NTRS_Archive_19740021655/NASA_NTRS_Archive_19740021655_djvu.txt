NASA TM X- 71993 


NASA TECHNICAL 

MEMORANDUM 


NASA TM X “71993 
COPY NO. 


SOFTWARE AND MODIFICATIONS FOR 
AUTOMATED MICROWAVE SPECTRAL MEASUREMENTS 
ON THE HEWLETT PACKARD 8460 SPECTROMETER 


By William F. White 


July 1, 1974 


»«*«“ i&oWM 

FICATXOH S F0 ® THE HEHLETT 

iir 8460 S X5S.O«»* («s« 

£4.00 



14B G3/14 



N 74-29768]gJ 


Onclas 

44757 ^ J 


This informal documentation medium is used to provide accel erated or 
special release of technical information to selected users. The contents 
may not meet NASA formal editing and publication standards, may be re- 
vised, or may be incorporated in another publication. 


NATIONAL AERONAUTICS AND SPACE ADMINISTRATION 
LANGLEY RESEARCH CENTER, HAMPTON, VIRGINIA 23665 



1. Report No. 


TM X-71993 


2. Government Accession No. 


3. Recipient's Catalog No. 


4. Title and Subtitle 

SOFTWARE AND MODIFICATIONS FOR AUTOMATED MICROWAVE 
SPECTRAL MEASUREMENTS ON THE HEWLETT PACKARD 8460 
SPECTROMETER 


5. Report Date 

AUGUST 197** 


6. Performing Organization Code 


7. Authors) 

William F. White 


8. Performing Organization Report No. 


10. Work Unit No. 


9. Performing Organization Name and Address 

NAS A -Lang ley Research Center 
Langley Station 
Hampton, VA 23665 


11. Contract or Grant No. 


12. Sponsoring Agency Name and Address 

National Aeronautics & Space Administration 
Washington, DC 20546 


13. Type of Report and Period Covered 

Technical Memorandum 


14. Sponsoring Agency Code 


15. Supplementary Notes 

Special technical information release, not planned for formal NASA publication. 


16. Abstract 

A Hewlett-Packard 846QA MRR spectrometer has been adapted for automatic spectral 
searches and measurements under computer control. Software consists of a 
BASIC language control program and assembly language equipnmnt drivers. 

Complete software listings are given including cross reference tables. In 
addition, there are discussions of each equipment driver program and wiring 
diagrams for the additions required for computer control. 


17. Key Words (Suggested by AuthorU)) {STAR category underlined) 

Automation, computers . computer programs 
microwave spectroscopy 


18. Distribution Statement 


Unclassified - Unlimited 


19. Security Ctaaif. (of this report) 

20. Security Oat»f. (of this page) 

21. No. of Pages 

22. Price* 

Unclassified 

Unclassified 

99 

$4.oo 


( The National Technical Information Service, Springfield, Virginia 22151 
* Available from < 

( STIF/NASA Scientific and Technical lr}forrprtion Facility, P.O. Sox 33, College Park. MD 20740 

±< ■ r . 



NATIONAL AERONAUTICS AND SPACE AEMN ISTRATIGN 


SOFTWARE AND MODIFICATIONS FOR AUTOMATED MICROWAVE SPECTRAL 
MEASUREMENTS ON THE HEWLETT - PACKARD 8460A SPECTROMETER 

i 

By Willi** F. White 
SUMMARY 

A BASIC l*ngu*ge program for making automated spectral searches and 
measurements of line frequencies, intensities, and widths has been developed. 
The program is written to operate a Hewlett-Packard 846QA spectrometer 
controlled by a 2116B computer with 16,384 words of core storage. Direct 
Memory Access, and disc memory. Complete listings and cross reference 
tables are provided for the BASIC control program as well as the assembly 
language equipment driver subroutines. A discussion of each of the latter 
routines is included which contains the purpose, use, restrictions, and 
hardware requirements for each. Suggestions are given for reducing the 
length of the program if necessary to adapt it to other systems with less 
storage or different peripheral equipment. 

INTRODUCTION 

An automated sdcrowave spectrometer was first put into operation at 
the Langley Research Center in 1968. The following year, modifications 
wre to the microwave source that resulted in the present hardware 

configuration, which is essentially a Hewlett Packard 8460A MRR spectrometer 
with computer control and readout. One of the major goals to be achieved 



with this system has always been to provide large quantities of accurate 
spectral data for analytical reference purposes. Several years of operating 
experience were required to develop the programs and to debug both software 
and hardware. For more than a year the system has been producing spectral 
data on a routine basis with only minor changes to either hardware or 
programing. It has proven capable of handling almost all situations which 
arose including the following: intensity variations of more than three orders 

of magnitude, linewldth variations of one order of magnitude, exceptionally 
sensitive Stark effects, interference from Stark lobes of strong adjacent 
lines, and unusual line shapes and overlap situations caused by unresolved 
or partially resolved splittings of the spectral lines. The only operating 
restriction is an arbitrarily chosen upper limit for linewidth of about 3/4 
MHz. If lines wider than this are encountered, the widths are not measured. 

Overall system block diagrams and a description of the basic program 
algorithms used appeared in reference 1, but the actual program listings and 
wiring details were not included. The purpose of this paper is to provide 
system documentation of software and the wiring diagrams for additions and 
modifications to the 846QA spectrometer when used for automated spectral 
data cataloging. 


COMPUTER SUBSYSTEM CONFIGURATION 

The program as listed runs on a Hewlett Packard 2116B computer with 
16,384 words of core storage, 2 channel Direct Memory Access, 2770A Disc 
Memory, 2151A Input/Output Extender, 216QA Auxiliary Power Supply, and a 
large-screen CRT display device. Figures 1 - 3 are block diagrams of the 

3 < 


2 



system. However, the program could easily be modified to run on only the 
basic computer with 12,288 words of core storage by eliminating some of the 
features such as the CRT display and data storage on the disc. The Extender 
and auxiliary power supply are needed because of the number of Input/Output 
slots used, but many of these are not required for the cataloging program 
itself. The Input/Output cards used and slot locations may be found on 
page 5 of the Assembler listing, under the heading of Equipment Channel 
Numbers . 

The operating environment is a modified Disc Operating System using 
the Hewlett Packard 25379A/25503A Basic Compiler Phases 1 and 2, and 
25380A/25504A Basic Compiler Phase 3. The modifications consist of the 
necessary changes to move the compiler phase swapping routine from low core 
to a location adjacent to the user driver routines, so that memory 
locations below 55g are freed for programmer use . The changes are on 
pages 4 and S of the Assembler output listing. 

ASSEMBLY LANGUAGE EQUIPMENT DRIVER ROUTINES 

Each interface card associated with an input or output device must have 
an assembly language routine written to operate it. These routines are 
called by the BASIC language control program. Appendix A contains 
descriptions of each routine, a symbol table, the Assembly language program 
listing and corresponding machine code, and a cross reference table. 

Subroutine descriptions .- Each description includes information on the 
hardware and storage required, calling sequence to use, and a brief description 
of the purpose of the routine and how it works. Restrictions on the use of the 
routine and information on any external routines called are also given. 



A writeup is included for the disc data swapping routine even though 
it is part of the BASIC compiler , since the routine is called several times 
by the control prqg ram. Since the routine is part of the compiler, it is 
not included in the Assembler listing. 

Two routines are not written up since they are not callable by the 
BASIC program. One of these is BTBCD, which converts binary integers into 
l_2-4-8 BCD format. The other is SCHK, which tests the value of variables 
to be certain they are within the 0-255 allowable limits for the Digital/ 
Analog converters. If not, the variables are set to either 0 or 255 as 
appropriate. 

Assembler listing .- The symbol table makes up the first 3 pages of the 
listing, followed by 17 pages of the Assembly language source program and 
binary machine code . • 

The parameter linkage addresses and most of the constants used are 
stored on the base page to allow the use of driver routine sets long 
enough to cross a page boundary without any problems in addressing. All 
but one of these constants are part of the BASIC compiler. 

The compiler parameter linking routine is located at 7105g and stores 
the addresses of parameters in locations beginning at 7230g. In order that 
a routine have access to the parameters, it is necessary that control first 
be transferred to the linkage routine by a JSB ENTER, I instruction. This 
must be immediately followed by a code giving the number and type of 
variables in the subroutine. The most general code is an octal 7 for each 
parameter. ENTER checks the code against the CALL statement, and if the 
parameter number and types agree, it stores the addresses of the parameters 
in the locations beginning at 7230g. Control is then returned to the routine 


4 



at the statement following the octal code* Parameters are accessed by the 
routine through indirect addressing, using the addresses labelled PARI, 

PAR2, etc .j on the base page. Two locations are required for each parameter 
since all BASIC variables are handled as floating point quantities. 

Page 6 of the Assembler listing has the user subroutine table. Each 
entry consists of two words. The first gives the (octal) call number of the 
routine in bits 0-7 and the nunber of parameters in bits 8-10. Thus the 
code 102 lg indicates a subroutine with 2 parameters (bit 9-1) and BASIC 
call nunber 17 (21g). The second word gives the core address of the routine 
entry point. Inmediately following the subroutine table is the compiler 
phase swapping routine. This routine allows reduced core requirements for 
the compiler by overlaying the execution portion (Phase 3) onto part of the 
Phases 1 and 2 in core when a RUN command is given. After the program has 
executed or upon an interrupt from the teleprinter, the routine reloads 
Phases 1 and 2. Linkages between this routine and the compiler are in 
locations 55g and 56g. 

Cross reference table .- A standard cross reference table is included 
to facilitate any changes which may be desired in the program. IHOUR, IMIN, 
ISEC, and ITNTH show no references since the timed interrupt capability 
of the software clock routine was not used here. 

BASIC LANGUAGE CONTROL PROGRAM 

Program listing .- Appendix B contains a complete listing of the automatic 
cataloging control program. A detailed description of the logic flew is 
beyond the scope of this paper. However, a discussion of the basic 
algorithms is given in reference 1. In addition, conments have been inserted 

€< 


5 



throughout thfi listing by the use of REM statements. These facts should 
allow a sufficient understanding of the program to allow modifications 
when desired. 

Some modifications which are necessary to use this program on a different 
spectrometer involve lines 2800 to 2894. This routine converts the signal 
readout into a value of absorption coefficient (not corrected for guide 
wavelength). The spectrometer calibration factor and crystal characteristics 
must be determined experimentally for each instrument. If the listed routine 
were to be used on a different spectrometer without modification, the likely 
results would be Inaccurate, and possibly unrepeatable, intensity measurements. 
Other such calibration factors include the cell temperature function defined 
in statement 70, and the pressure calibration in statements 2700 and 2710. 

The latter is based on a 100 millivolt full scale output from the pressure 
gage. 

Cross reference tables . «► Three types of tables have been provided. 

The first lists all the variables with a list of statements in which they 
appear. The second lists subroutine numbers with the statement numbers in 
which the subroutines are called. The third table lists each statement 
rnanber which is referred to in a GO TO, GOSUB, or IF... THEN... statement, 
and the referring statements. 

Sample output .* Appendix C contains a sample page of data output from 
the program, taken during spectral runs on a sample of pyrrole . 

7 < 


6 



SYSTEM WIRING 


Figures 4 to 6 are diagrams of the relay register wiring for measurement 
and control functions, along with the additional equipment or circuitry 
which was added to the basic 846QA spectrometer. The wiring of the Stark 
fault interrupt circuit has not been shown, since it consists simply of a 
transistor switch which provides a 0 output level when a voltage is applied 

i ’ 

to the Stark FAULT lamp on the 8428 control unit. This switch output is 
applied to the flag input of a 12620A breadboard interface card to cause an 
Interrupt . 

The 355E and 355F gain control attenuators are connected between the 
preamp and synchronous detector, and the latter is operated on the -80 dBm 
range at all times. A 50 ohm termination must be supplied for the attenuators, 
or the high input impedance of the synchronous detector will cause erratic 
attenuation values .. 

REDUCTION OF STORAGE REQUIREMENTS 

If it becomes necessary to reduce the core storage used, or if some 

piece of peripheral equipment is not available, there are a number of routines 

\ 

which may be deleted from the program without destroying its overall usefulness. 
The following suggestions will result in the greatest reduction of core 
requirement with the least effect on program utility. 

Elimination of Disc Data Storage .- This routine is used to accumulate a 
quantity of data which is then dumped to magnetic tape and sent to the data 
processing center for printing and punching of cards. The routine rounds 
off intensity and/or frequency data as necessary to suit the measurement 

s< 


7 



conditions, and produces a line type code which is stored with the data. 
Elimination of the entire BASIC routine saves 655 words (I2l7g) in program 
length and a further 76 words (114 g ) in reduced variable storage requirements 
during execution. There is no change in the driver subroutines. 

To remove this routine from the program, delete statements 42 to 52, 

3712 to 3944, and 9310 to 9982. Eliminate any other references to the 
variables D0, Dl, D2, d 3, N9, and Q3, the array Z, and subroutine 3. Make 
certain to modify any statements which used a deleted statement number as 
a destination. 

Elimination of CRT Display .* This routine is used to display on a large 
screen CRT a continuously updated plot of the signal array during scanning 
across a line. It allows observation of line shapes and signal to noise 
ratio and is very useful in troubleshooting if a situation is encountered 
which was not anticipated in the program logic. However, deleting it from 
the programs saves 363 words (553g) in program length and an additional 
64 words (100g) in reduced variable storage requirements during execution. 

To remove this routine from the BASIC program, delete all references to 
variable Yfll, array A, and subroutines 15 and 17. In the Assembly language 
program, delete routines SETP2 , PLPT2, and REF and remove their entries 
from the subroutine table. 

Shortening of print control routines .- A significant saving may be 
realized by reducing the amount of editing done. Part of these routines 
are devoted to keeping track of the number of lines printed, turning pages 
through form feed commands, and printing headings on each page. One routine 
has the sole purpose of defeating the compiler formatter by allowing an "S" 
to be printed adjacent to the Stark field for sensitive Stark effects, while 

3 < 


8 



not causing a carriage return before the pressure is printed. Elimination 
of the routine saves 257 words (401g). To do so, delete statements 3102 
through 3342 and add X to the print command in line 3400. 

A further savings may be achieved by eliminating the page editing 

j i I ■ 

routine. A savings of up to 302 words (436 g ) is possible in program length 
and‘2 more words during execution if no headings are printed. Delete 
^statements 8000 to 8120, all statements referring to L0, and all GOSUB 8000 
s tatements . 

Comments on required storage .- Other program features may be eliminated 
to save space, but most of the remaining ones will individually result in 
a decrease of the order of 100 words or less . The programs as listed occupy 
9134 words (21656 g ) of core and require 644 more (1204 g ) words for storage 
of arrays and variables during execution. This leaves approximately 900 
words of available core with no comment statements . Thus, to allow this 
program to execute in an identical environment but with only 12,288 .words of 
core, a reduction in program length of about 3200 words is required. The 
changes Just described will account for about 1700 words, but it is unlikely 
that the other 1500 words can be deleted without significantly changing 
the capabilities of the program. One way to achieve this would be by the 
deletion of the signal smoothing routine in lines 1400 to 1790. This saves 
1551 words of program length and 122 words of storage through the elimination 
of the array P and the variable U7. However, the cost of this would be 
greatly increased measurement time in order to achieve the same signal to 
noise ratio. 

I • 

A more profitable way to adapt the program to a smaller core size 

might be to consider modification of the BASIC compiler or use of a shorter 

10 < 


9 



version. The compiler used includes matrix handling routines which are not 
needed for the cataloging program. The only matrix statements used are to 
zero out a matrix, and this can easily be done with a loop. Elimination of 
the matrix package would go a long way toward achieving the necessary core 
reduction. 

A second possible approach, if a disc or magnetic tape system is used, 
is to divide the program into shorter portions which could be considered 
subroutines to be called in sequence. In this way the entire program can be 
used, and even added to, with computers of 12,208 or even 8,192 word core 
size . 

CONCLUDING REMARKS 

Since there are so many possible combinations of variables which may be 
encountered when running the spectra of various types of molecules, it is 
doubtful that a program of this type could ever be considered to be completely 
developed. The program listed is believed to be free of errors and has 
been able to handle most situations encountered in the past year. Only a 
few minor changes have been necessary, and most of these have been made to 
decrease the amount of operator attention required or to improve measurement 
accuracy . 

A major goal of this paper is to provide information which will aid the 
operator in making any necessary changes to the program, either to eliminate 
a bug or to adapt its operation to changing future operational requirements. 
The information may also be used to adapt this software to a different 
computer system. With the BASIC language system, such changes are simple 
if two principles are followed strictly: (1) use the cross reference tables 



whenever any factor in a program is modified, to make certain that all 
other affected parts of the program are also modified accordingly, and 
(2) immediately change the cross reference table to conform to the new 
version of the program so that a current table is always available. 
Unfortunately there is no software available to create the three types of 
cross references for BASIC programs, so it is vital that the table be kept 
up to date by the programmer. If a series of changes is made to a program 
as complicated as this one without observing these two principles, the 
likely result is that sooner or later difficulties will be encountered 
which may eventually be resolved only by going back to the original version 
and starting all over with the modification process. 



REFERENCES 


White, W. F.: The Microwave Spectra of Sulfur and Nitrogen 

Compounds. NASA TND-7450, 1974. 

White, W. F.; and Easley, W. C.: Interpretation of Intensity Measurements 

on Partially Saturated Microwave Spectral Lines. NASA TND-5726, 

1970. 


± 3 < 



APPENDIX A 


DISCUSSION AND LISTING OF ASSEMBLY LANGUAGE ROUTINES 

This appendix begins with discussions of each of the driver subroutines 
which is callable from the BASIC language control program. This section 
Is followed by the Assembler symbol table, listing each symbol used in the 
programs and the core address of the symbol . 

The Assembly program listing is a standard software output, with the 
columns having the following significance: statement sequence number, 

octal memory address, contents of the memory address, and Assembly source 
program listing. This is followed by a cross reference table. 


14 < 


13 



SUBROUTINE : RWDSC 

' > 

.X 

PURPOSE: To read data from the disc or write data r 6h.the disc. 

HARDWARE REQUIRED: Disc memory and interfaces. Direct Memory Access. 

STORAGE REQUIRED: This routine is included as part of the Disc Operating 

System Basic Compiler. 

USE: CALL (3,Z(J),I,N) 

This routine transfers 1 sector (32 floating point words) of data 
between the disc and an array, beginning with location Z(J). The parameter I 
is set to 0 to read from the disc, and 1 to write on the disc. N is the 
data sector address on the disc. 

RESTRICTIONS: The value of J must be such that J + 31 does not exceed 

the dimensions of Z, or information in core locations above the array Z 
will be destroyed during read operations. 

The parameter I must be either 0 or 1, and N must have a positive 
non-zero value not greater than the number of available data sectors. An 
invalid value for either I or N causes the computer to halt. 



SUBROUTINE: SETCL 

PURPOSE: To set, start, and stop a software clock; and to provide interrupts 

for user programs at intervals from 0.1 second to 1 hour. 

HARDWARE REQUIRED: 12539A time base generator card. 

STORAGE REQUIRED: 76 words (114g). Includes interrupt routine to operate 

clock. 

USE: CALL (13,H,M,S) 

H, M, and S are respectively the hour (on a 24 hour system), minute, 
and second at which the routine is executed, if time of day information is 
desired. To measure elapsed time, all three parameters should be zero. 
Whenever this routine is called with zero or positive values for H, the clock 
begins running with the initial time set by the values of H, M, and S. 

The clock may be stopped by calling the routine with a negative value for H. 

Routine CLOCK is included in the storage allocation for SETCL. 

CLOCK is the interrupt routine which increments the values of H, M, and S. 
Interrupts are generated each 0.1 second, and provisions are included for 
branching to user routines at intervals of 0.1 second, 1 second, 1 minute, 
and 1 hour. The user routine must contain an initiator section which places 
a JSB Instruction in location ITNTH, ISEC, IMIN, or IHOUR as desired. The 
routine will then be executed repeatedly at the appropriate times until 
the JSB is replaced by a NOP instruction. A chain of routines may be executed 
by having the user routine change the JSB destination. 

RESTRICTIONS : The accuracy of the clock is dependent on continuous operation 

of the Interrupt system. Thus no programs should be run which turn off the 
priority interrupt system for an appreciable period if the clock is in use. 

An example of this is the SIO magnetic tape driver routine which turns off 


15 



the interrupt system while the tape deck is in use. Placing the time base 
generator card in a low priority slot could also affect the clock accuracy 
if the interrupt system is in frequent use. 

A JMP instruction should never be used in the branching locations, 
since the time will not be incremented for that period unless control is 
returned to CLOCK before the next interrupt. When using the clock routine 
to provide timed interrupts, care must be taken that the user routine is 
finished executing before the selected interval is over. For example, if a 
JSB is placed in TTNTH, the called routine must complete operation in less 
than 100 milliseconds or it will still be executing when the next interrupt 
causes it to start over. Allowances must be made for any time lost to the 
servicing of other interrupts or to operation of the DMA in determining 
routine execution time. 


: 17 < 


16 



SUBROUTINE: MYTH 


PURPOSE: To read current time from the software clock. 

HARDWARE REQUIRED: None. 

STORAGE REQUIRED: 25 words (31g) . 

USE: CALL (14,H,M,S) 

The current hour, minute, and second are returned in H, H, and S 
when this routine is executed. The values may be actual time of day on a 
24 hour system, or elapsed time, depending on the initialization of the 
clock. 

RESTRICTIONS : The software clock must be set and started by subroutine 

SETCL before this routine can be used. In order to provide access to the 
stored parameters , this routine must be loaded on the same page with SETCL 



SUBROUTINE: SETP2 

PURPOSE: To turn on and off a 60 point CRT display. 

HARDWARE REQUIRED: Direct Memory Access, 12555A dual D/A converter, and 

oscilloscope or other XY display compatible with the 12555A interface. 
STORAGE REQUIRED: 61 words (75g), including the scope display refresher 

routine . 

USE: CALL (15,A(1),N) 

Calling this routine with a non-zero value of N sets up a data 
array for a scope display of 60 points in the form of a horizontal line with 
Y “ 0, plus two points at the upper and lower left corners to allow 
adjustment of the CRT gain settings. The 60 points may be moved vertically 
to any Y position by routine PLPT2, but the number of points may not be 
changed . 

Calling the routine with N « 0 clears the display and disables the 
display refresher timer. 

RESTRICTIONS: The calling program must declare dimensions of 31 for the 

array A. The interrupt system must be in operation in order to refresh 
the display every 20 milliseconds. 



SUBROUTINE: PLPT2 

PURPOSE: To vertically move the points in the display generated by routine 

SETP2. 

HARDWARE REQUIRED: None. 

STORAGE REQUIRED: 19 words (23 g ) 

USE: CALL (17,X,Y) 

This routine moves the point specified by its X value to a new 
location Y. The point previously at X and the old Y vlaue is erased. 

The result is a continuous display in which any desired point may be given 
a new Y value without erasing the display and restarting. 

RESTRICTIONS : The range of Y is 0 to 255 for full scale deflection with 

the oscilloscope gain set for 0 to 10 volt input. Negative values for Y 
are set to 0, and values greater than 255 are set to 255. The same applies 
to X, but the maximum value should not exceed 60 in order to keep the 
points on scale. 

EXTERNALS: Routine SCHK is used to determine that X and Y are within 

range. Routine SETP2 must be called prior to PLPT2 to start the display. 



19 



SUBROUTINE: FREQ 

PURPOSE: To control the frequency of the microwave source 

HARDWARE REQUIRED: L1629A 44-bit output card 

STORAGE REQUIRED: 44 words (54 8 ) 

USE: CALL (20, Fl,F2,F3) 

i 

Parameters FI and F2 program the 8456 Sweep Control unit to obtain 
the proper reference frequency. FI is a word containing the four most 
significant digits of the desired microwave frequency, and F2 contains 
the four least significant digits. 

F3 is an integer from 0 to 999 which programs the BWO helix voltage 
to provide the approximate frequency desired. The final tuning voltage is 
supplied by the phase synchronizer. F3 is a linear function of frequency 
unless the power is leveled, in which case it is necessary to make up a 
calibration table for F3. 

The routine provides for calibration as follows: upon entry, switch 

15 is tested. If it is 1, the value of F3 is read from the switch register 
and the routine loops until switch 15 if set to 0. The switches may be 
toggled until the phase error is as near zero as possible. When switch 15 
is set to zero, control returns to the calling program and the value of 
F3 is available if the calling program has treated it as a variable. To 
make a calibration table, the initial frequency should be at the 
bottom of the band and.F3 should be 0. Subsequent steps should be small 
enough that the phase lock is not lost, so that there is no chance of relocking 
on the wrong harmonic. 

If the power is not to be controlled by the computer or leveled, 
the 8456 may be allowed to control the helix voltage and thr routine FREQ 

z±< 


20 



can be shortened by about 40 percent by eliminating references to PAR3 
and the calibration routine. 

RESTRICTIONS 5 A waiting loop has been included between the data outputs, 
to the interface card and the final CIC command. The .time required is a 
function of frequency, but. the yalue used in this routine has been found 
sufficient up to 40,000 MHz. The frequency can still be stepped faster than 
the fastest manual mode, and control problems could be experienced if other 
routines such as signal measurement do not take enough time between frequency 
steps. There is a 20 millisecond uncertainty when the frequency will 
actually be changed after the execute command is issued to the 8456. 

All switches on the front panel of the 8456 must be set for the fastest 

sweep time (full left positions). 

EXTERNAL: Subroutine BTBCD is used to convert all parameters to BCD 

format before outputting them to the interface card. 



SUBROUTINE: PWATT 


PURPOSE: To control cell power by adjusting the cell input power attenuator. 

HARIWARE REQUIRED: 1X3 power supply and geared motor with rubber tired 

drive wheel, DPET relay, 2 contacts on a 12551B-01 relay register card 
STORAGE REQUIRED; 20 words (24 Q ) 

O 

USE: CALL (22,1) 

The cell input power attenuator is driven by a geared DC motor with 
an output speed of 2.25 rpm when operated at 6 volts. Drive Is accomplished 
by a rubber-tired wheel of about 1.5" diameter in contact with the 
attenuator. The direction is controlled by a polarity reversing relay. 

The schematic of this arrangement is shown In figure 1. 

Calling the routine with a positive Value of I starts driving 
the attenuator in a direction such that the cell power is increased. A 
negative value for I causes a decrease in cell power. 1=0 stops the motor. 
RESTRICTIONS: There is no provision for sensing the position of the attenuator 

therefore, the proper setting must be determined by measurement of crystal 
current or power level. However, no phytical damage occurs if the attenuator 
is driven to the stops since the wheel friction is adjusted to slip if any 
resistance is encountered. 



SUBROUTINE: SATT 


PURPOSE: To control the range setting of the 3410 synchronous detector and 

set the Integration period for the V to P converter used for signal measure- 
ment • 

HARDWARE REQUIRED: 3410 modified for remote control, 0452-4001 special V-F 

\ 1 _ ’ 

converter interface card, 12539A time base generator, 1 contact on 12551B-01 
relay register card (optional). 

STORAGE REQUIRED: 72 words (110g) 

USE: CALL (25, 6, N, D) 

i S ' 

The 3410 range is set to the value specified by 6, which may be any 
multiple of 10 from 0 to 130. These values correspond to the ranges 
REMOTE through -100 dBa on the front panel. G • 0 is the setting required for 
manual operation. A value of G outside the given range results in an error 
message being printed, and control is returned to the calling program with no 
action taken on the range setting. 

N and D determine the integration period to be used. D is the decade 
code for the time base generator (values from 0 for 0.1 milliseconds to 7 
for 1,000 seconds). N is a positive non-sero integer which determines the 
number of intervals used for the integration. Thus to measure for % second, 
use H - 5 and D ■ 3. If an invalid value of D or N is input, the message 
*TBC is printed and control is returned to the calling program with no further 
action. 

The routine closes a relay contact whenever the value of G IS greater 
than 0, and lights an indicator lamp to show that the computer has control 
of the range setting. 



RESTRICTIONS : The 3410 oust be set to the remote range position during 
computer control* Operation of the front panel control when the computer has 
see a range other than C ■ 0 will result in large errors In range setting. 

The V to F converter must be set to the 1 volt range and the dividers on 
the interface card must be bypassed so that the full scale pulse rate is 100 
kHx. 

The calling program must provide the logic to avoid setting the range 
to a value which will overload the amplifiers or V to F converter. Further, 
the Integration time must not be long enough for the total count number to 
exceed 32,767, or the computer input register will overflow and give meaning- 
less answers. On the other hand, the range and integration time should not be 
such that resolution and accuracy suffer from a low number of counts . 



SUBROUTINE: DAC 


PURPOSE: To control the Stark modulator outputs and provide for modulator 

shutdown in case of malfunction* 

HARK* ARE REQUIRED: 12555A dual D /A converter, 12602A breadboard interface 

, i ? 

card with interrupt circuitry (optional), 2 contacts on 12551B-01 relay 
register card (one contact optional). 

STORAGE REQUIRED: 93 words (135g) 

USE: CALL (26, VI, V2) 

VI is an integer with permissible values from 0 to 255 which controls 
the Stark ground to base (DC bias) voltage. Direct application of the 10 volt 
D/A converter output allows control of the ground to base voltage over its 
enitre range. However, it has been found much sure useful to place a 
175:1 voltage divider on this output so that the base voltage is controlled 
over a small range in very small Increments. If the modulators are adjusted 
to have a illgbt negative DC output with VI ■ 0, subsequent variation of 
VI allows precise adjustment of the ground to base voltage, which is 
critical for spectral lines with very sensitive Stark effects. 

V2 is the desired Stark square wave modulation voltage. The range is 
0 to 2,000 volts in 255 steps. Any voltage within the range is a legitimate 
input, but the value will be rounded to approximately the nearest S volt 
increment. Calling the routine with a aero or positive V2 switches the modulators 
to the AUTO mode through a contact closure on the relay card. A second contact 
operates an indicator lamp to shew diet the front panel controls have been 
disabled. A negative value of V2 returns the modulators to manual control. 

2S< 


25 



Xf the requested value of ?2 is too Urge, the nodule tors will be set to M-u i 
output but there is no error message. 

Any nel function which applies voltage to the FAULT leap circuit operates 

i 

a transistor switch across the lamp, which in turn activates the interrupt 
circuitry on the breadboard interface card. The routine sets the outputs to 
■°» ri *& *&• teleprinter bell and prints an error Message, then halts the 
cea«uter. If the fault is cprrected operation nay be resumed by pressing 
Km. 

HSTRXCTIQKS: The interrupt system must be on for the malfunction routine to 
«nrit» The modulator control switch must be in either the STARK or BOW 
positions or the computer will belt due to inability to obtain the programed 
voltage • 

■n-RKWlg t sent ia used to check the values of VI and ?2. 



SUBROUTINE: ATTEN 

PURPOSE: To control gain bp operation of attenuators located between the 

preamp and synchronous detector 

HARDWARE REQUIRED: 355E and 355F VHP attenuators, DC power supply, 9 contacts 

on 12551B-01 relay register card 
i ! ; 

STORAGE REQUIRED: 88 words (I30g) 

USE: CALL(27,A) 

A is the desired attenuation in decibels, and may be any value from 
0 to 129. In that case the routine turns on the DC power supply and sets the 
attenuators to a value of A dB. If A is negative, the attenuators are set 
to 0 and the power supply is turned off. A value of A too large causes an 
error message but no action. Figure 2 is a wiring diagram showing the method 
of attenuator control. 

RESTRICTIONS : The only restrictions are physical ones . If current limiting 

resistors and diodes are not used as shown in the diagram, switching transients 
up to 400 volts may occur and burn the contacts on the relay register card. 

This problem may be severe enough to cause the relay points to stick in the 
closed position. 



SUBROUTINE: INT 

PURPOSE: To initiate a signal measurement by the V to f converter and store 

the result at the completion of the measurement 

HARDWARE REQUIRED: 12539A time base generator, 2212A V to F converter and 

0452-4001 special interface card 
STORAGE REQUIRED: 52 vords (64 g ) 

USB: CALL (30, S) 

This routine initiates a measurement by the V to F converter of the 3410 
signal output. It then returns control to the calling program. The result of 
the measurement is not returned by this routine since it uses the interrupt 
system, and it would be necessary to save a large amber of addresses, temporary 
variable values, and register contents when using the FLOAT routine in the 
BASIC compiler. Thus, the conversion to floating point and subsequent return 
of the signal to the calling program Is handled by a separate routine which 
does not use the interrupt system. However, the value of S may be tested 
by the calling program to determine when the measurement is complete, since 
it is set to -32768 when the measurement is initiated and is changed only after 
the interrupt causes the V to F counter to be read out and the result stored. 
RESTRICTIONS : Subroutine SATT must be called prior to the first use of INT 

to set the Integration period. The interrupt system must be on. Subroutine 
GOFLT’must be called after each use to retrieve the result. If INT is called 
again before G0FLT, the original measurement will be lost. 

EXTERNALS: INT must be loaded on the same page with SATT in order to have 

access to date stored within SATT. 

‘ 29 « 


2 * 



SUBROUTINE: COFLT 

PURPOSE: To retrieve the signel reeding made by TUT, convert it to floating 

point form, and return it to the calling program. 

HARDWARE REQUIRED: Hone 

STORAGE REQUIRED: S words (10g) 

USE: CALL (31, S) 

This routine retrieves the integer number of counts from the V to F 
converter, converts it to floating point form, and stores it in the location 
reserved by the BASIC compiler for the variable S. To convert the result to 
voltage, it is necessary to know the full scale range setting of the converter, 
the integration time, and the connection of the decade dividers on the V to 
F converter interface card. It is current practice to bypass the dividers 
so that full scale input to the converter results in an output pulse rate of 
100,000 kHz. 

RESTRICTIONS: Subroutine DJI must be called before GOFLT, since the latter do 

4oes not make any ^asurements but merely retrieves the result of the measure- 
ment made by INI. 




29 



SUBROUTINE: CNVTR 

PURPOSE: To initiate a voltage measurement by an A/D converter and return 

the results 

HARDWARE REQUIRED: IS vorda <17g) 

USE: CALL (32, V) 

? la the measured voltage value returned to the calling program and is 
in the range o£ <*10 to +10 volts. When used to monitor the UNLOCKED SIGNAL 
OUTPUT Jack on the 8709 synchroniser, the normal reading with proper phase lock 
is about -0.2V. When lock is loot, the voltage goes to about +3% volts. 
RESTRICTIONS: The input jumper on the interface card must be set for the 

10 volt range. When this routine is used to monitor the phase loop, allowance 
Mist be made for finite time constants in the electronic circuits and for the 
20 millisecond uncertainty in execution of the frequency step command, since the 
measurement aperture time is less than 20 microseconds. 



31 * 


30 



SUBROUTINE: METER 


PURPOSE: To provide measurements of operating parameters. 

HARDWARE REQUIRED: 2212A V to F converter with 0452-4001 special interface 

card, 12539A tine base generator, 7 contacts on 12551B-01 relay register card 
STORAGE REQUIRED: 51 words <63 g ) 

USE: CALL <35, I, D, C) 

This routine allows aeasurenents of 7 different paraaeters. The armatures 
of 7 of the relays are connected to the input of a ▼ to F converter, and 
7 measurement devices are connected to the other 7 contacts. The integer 
I selects the device for measurement . An invalid value of I does not result 
in an error message hut the result of the neasureaent is returned as -32768. 

The valid codes for I are as follows: 

1 Stark sM>dulator no. 1 ground to base monitor 

2 Stark modulator no. 2 ground to base monitor 

3 8709 phase error voltage (from SERVO output) 

4 Source power meter 

5 Crystal current 

6 Detector power meter 

7 Sample pressure gage 

D is the decade code for the time base generator. There is no provision 
for looping to provide measurement times other than those selected by D. 

C is the number of V to F converter counts which is returned to the 
calling program. Individual device calibrations are not done by this 
routine but must be handled . by the calling program. 

Figure 3 is a wiring diagram for the RLT1 card showing the Mtering 


and control functions of that card 



RESTRICTIONS : The interrupt systeai must be in operation. See the discussion 

of SATT for precautions to avoid overflow of the computer registers. The 
V to F converters must be on the I volt range, and the dividers on the inter- 
face card must be bypassed to provide a full scale pulse rate of 100 kHz . 



SUBROUTINE: THERM 

PURPOSE: To make cell temperature measurements 

HARDWARE REQUIRED; Same as METER, plus 3 more contacts on 12551B-01 
relay register card and thermistor type temperature gage with two probes 
STORAGE REQUIRED: 29 words <35g) 

USE: CALL <36, P, D, C) 

This routine is used in conjunction with METER to select one of the 
thermistor probes and connect the readout device to the V to V converter* P 
selects the probe and must have a value of either 1 or 2. D and C have the 
same omening as in METER, since the latter routine actually makes the measure* 
meat. C is returned as counts, and the calling program must convert it to 
temperature* 

RESTRICTIONS: This routine should be called before turning on the thermistor 

gage to avoid pegging the meter . This happens because the relays are preset 
open by the computer at turn on, and there is no probe connected to the 
bridge. The other restrictions for METER apply here also. 

EXTERNALS : Subroutine METER is given control after the measurement device 

is set up, and it actually makes the measurement and returns the result 
to the calling program. 



PAGE 


0001 


.1 

000134 

.10 

000144 

.12 

000145 

.2 

000135 

.24 

012337 

.3 

000136 

.30 

000154 

.31 

000155 

.4 

000137 

.58 

000172 

.6 

000140 

.60 

012340 

.7 

000141 

.8 

000142 

ADI 

012676 

AD2 

012677 

ADC 

000040 

BUF 

013373 

CCR 

012675 

CRT 

000014 

DAC 

012140 

FDV 

000377 

FMP 

000376 

FRS 

000030 

INF 

000220 

I NT 

012552 

LI 

012663 

LEN 

013372 

MI0 

000234 

1113 

012544 

M2 4 

012342 

M25 

000241 

M60 

012343 

M62 

013323 

M7 

000231 

MIN 

012345 

MPY 

001231 

OFF 

013321 

PWR 

013026 

REF 

013347 

SEC 

012346 

SVA 

013375 

VD2 

012135 

WD3 

012136 

.10. 

012550 

,10V 

013101 

ADCOD 

013207 

ADR1 

012700 

ADR2 

012716 

ADSTK 

012264 

ATERR 

013224 

ATMSG 

013230 

ATOFF 

013174 

ATTEN 

013103 

B12K 

012274 

B 1 777 

012137 

B4000 

000211 


ASMB, A, T.L 


i 



i 



PAGE 0002 


BASE 013376 
BEGIN 012047 
BSPG1 000030 
BTBCD 012646 
CALIB 012126 
CLCIF 012270 
CLKAD 012350 
CLKOF 012335 
CLOCK 012352 
CLVTF 013025 
CNT10 012351 
CNTLW 000100 
CNVTR 013064 
COREZ 000060 
DACEX 012225 
DAYTM 012411 
DCMND 000017 
DDAC1 000031 
DDATA 000016 
DECAD 012547 
DISXZ 000061 
DMAl 000006 
DMA2 000007 
ENTER 000041 
ENTFR 012076 
ERATT 012517 
ERTBG 012532 
EXEC 012042 
FINIS 013377 
FLOAT 000077 
FREQ 012064 
GAIN 012545 
GOFLT 012734 
MINSK 000262 
HOUR 012344 
IFIX 001477 
I FLAG 000023 
I HOUR 012401 
IMlN 012372 
INADR 012634 
I NIT I 000002 
INIT2 000003 
ISEC 012363 
IT NTH 012354 
JMPCL 012347 
JSB1N 012633 
JSBL 013370 
JSTKR 012271 
KEEP 012546 
LINK I 000024 
L1NK2 000025 
LINK3 000026 
LINK4 000027 
LSBTB 012034 

M2 5 6 000254 - 

M3 70 000051 

MAXSN 000256 
METER 012744 



PAGE 0003 


MNEG 000221 
MSK0 00025? 
MSK1I 013256 
MSKPR 013065 
MTRER 013056 
NLOOP 012605 
NTIME 012632 
ONES 013205 
PARI 000042 
PAR2 000044 
PAR3 000046 
PASE1 000063 
PASE3 000064 
PHS1C 000057 
PLPT2 013324 
PNTR 013374 
PRR 1 000050 
P0ATT 013233 
PWOFF 013254 
PWOP 013247 
RDVTF 012616 
REFAD 013371 
RLYI 000034 
RLY2 000055 
SATT 012442 
SCKK 012636 
SETBS 013276 
SETCL 012275 
SETP2 013257 
SI GAT 012523 
SIGTM 012536 
START 012034 
STKER 012230 
STMAN 012170 
STMSG 012256 
STMSK 012273 
SVAC 012341 
SVAST 012265 
SVAT 012635 
SVBST 012266 
SVEST 012267 
TBG1 000012 
TBG2 000013 
TDAC 012272 
TENS 013206 
TRENT 012761 
THERM 013027 
UNNRM 000267 
VSET 012201 
VTFI 000032 
VTF2 000033 
VTIMR 012213 
WONT 000062 
XLOC 012630 


** NO ERRORS* 


S7< 



PAGE 0004 #01 


0001 

00012 

ORG 

12B SHORT DRIVER SET 7H, 11/1/73 

0002 


REP 

10 INITIALIZE INTERRUPT LOCATIONS 

0003 

00012 000000 

NOP 


0003 

00013 000000 

NOP 


0003 

00014 000000 

NOP 


0003 

00015 000000 

NOP 


0003 

00016 000000 

NOP 


0003 

00017 000000 

NOP 


0003 

00020 000000 

NOP 


0003 

00021 000000 

NOP 


0003 

00022 000000 

NOP 


0003 

00023 000000 

NOP 


0004 

00024 000000 

LINK1 NOP 


0005 

00025 000000 

LINK2 NOP 


0006 

00026 000000 

LINK3 NOP 


0007 

00027 000000 

LINK4 NOP 


0008 

00030 000000 

BSPG1 NOP 


0009* 

0010* 

ADDRESSES FOR INDIRECT 

LINKAGES 

0011* 

0012 

00041 

ORG 

41B 

0013 

00041 007105 

ENTER OCT 

7105 PARAMETER LINKING SUBROUTINE 

0014 

00042 107230 

PARI OCT 

107230* 107231 AND LINK LOCATIONS 

0015 

00043 107231 

00044 107232 

PAR2 OCT 

107232,107233 

0016 

00045 107233 

00046 107234 

PAR3 OCT 

107234,107235 

0017 

00047 107235 
00050 007230 

PRR1 OCT 

7230 

0018 

00051 177410 

M3 70 OCT 

177410 

0019* 

0020* 

LINKAGE TO DISC ROUTINES FOR COMPILER PHASE SWAPPING 

0021* 

0022 

00055 

ORG 

55B 

0023 

00055 012034 

DEF 

START 

0024 

00056 012042 

DEF 

EXEC 

0025 

000 76 

ORG 

76B 

0026 

00076 124055 

JMP 

55B, I 

0027* 

0028 

00110 

ORG 

110B LAST WORD ADDRESS OF DRIVERS 

0029 

00110 013377 

DEF 

FINIS 

0030 

00122 

ORG 

1 22B END OF SUBROUTINE TABLE 

0031 

00122 012034 

DEF 

LSBTB 

0032* 

0033* 

MODIFICATIONS 

TO COMPILER SWAPPING LINKAGES 

0034* 

0035 

00332 

ORG 

332B 

0036 

00332 100056 

OCT 

100056 

0*37 

00337 

ORG 

33 7B 

0038 

00337 100055 

OCT 

100055 

0039 

02154 

ORG 

2154B 

0040 

02154 124055 

JMP 

55B, I 

0041 

06462 

ORG 

6462B 

0042 

06515 

ORG 

6515B 

0043 

06515 060165 

LDA 

1 65B 

0044 

06516 124055 

JMP 

55B, I 

0045 

07272 

ORG 

7272B - 

0046 

07272 124055 

JMP 

55B, I 3S< 



PAGE 0005 #01 


0047 

07302 



ORG 

7302B 


0048 

07302 

124055 


JMP 

55B,I 

0049 

07335 



ORG 

7335B 


0050 

07335. 

124055 


JMP 

55B,I 


0051* 







0052* 

LINKAGE TO 

MATH ROUTINES 


0053* 







0054 

00377 


FDV 

EQU 

3 77B 


0055 

00077 


FLOAT 

EQU 

77B 


0056 

00376 


FMP 

EQU 

376B 

r 

0057 

01477 


IFIX 

EQU 

1477B 


0058 

01231 


MPY 

EQU 

123 IB 


0059* 







0060* 

EQUIPMENT CHANNEL 1 

NUMBERS 


0061* 







0062 

00002 


INIT1 

EQU 

2B 

DMA CHANNELS 1 AND 2 

0063 

00003 


INIT2 

EQU 

3B 


0064 

00006 


DMA 1 

EQU 

6B 


0065 

00007 


DMA 2 

EQU 

7B 


0066 

00012 


TBG1 

EQU 

12B 

TIME BASE GENERATORS 

0067 

00013 


TBG2 

EQU 

13B 


0068 

00014 


CRT 

EQU 

14B 

DUAL D/A FOR CRT DISPLAY 

0069 

00016 


DDATA 

EQU 

16B 

DISC DATA AND COMMAND 

0070 

00017 


DCMND 

EQU 

17B 


0071 

00023 


I FLAG 

EQU 

23B 

STARK FAULT INTERRUPT 

0072 

00030 


FRS 

EQU 

30B 

44 BIT FREQ CONTROL 

0073 

00031 


DDAC1 

EQU 

3 1 B 

DUAL D/A STARK CONTROL 

0074 

00032 


VTF1 

EQU 

32B 

VOLTAGE/FREQ CONVERTERS 

0075 

00033 


VTF2 

EQU 

33B 


0076 

00034 


RLY1 

EQU 

34B 

RELAY OUTPUT REGISTERS 

0077 

00035 


RLY2 

EQU 

35B 


0078 

00040 


ADC 

EQU 

40B 

A/D PHASE LOCK MONITOR 

0079* 







0080* 

BASE 

PAGE BASIC COMPILER CONSTANTS USED 

0081* 







0082 

00134 


.1 

EQU 

I34B 

DECIMAL 1 

0083 

00135 


.2 

EQU 

135B 

DECIMAL 2 

0084 

00136 


.3 

EQU 

I36B 

DECIMAL 3 

0085 

00137 


.4 

EQU 

137B 

DECIMAL 4 

0086 

00140 


.6 

EQU 

I40B 

DECIMAL 6 

0087 

00141 


.7 

EQU 

1 41 B 

DECIMAL 7 

0088 

00142 


.8 

EQU 

142B 

DECIMAL 8 

0089 

00144 


.10 

EQU 

144B 

DECIMAL 10 

0090 

00145 


.12 

EQU 

1 45B 

DECIMAL 12 

0091 

00154 


.30 

EQU 

1 54B 

DECIMAL 30 

0092 

00172 


.58 

EQU 

172B 

DECIMAL 58 

0093 

00211 


B4000 

EQU 

2 1 1 B 

OCT 4000 

0094 

00262 


HIMSK 

EQU 

262B 

OCT 174000 

0095 

00220 


INF 

EQU 

220B 

OCT 77777 

0096 

00221 


MNEG 

EQU 

22 IB 

OCTAL 100000 

0097 

00231 


M7 

EQU 

23 IB 

DECIMAL -7 

0098 

00234 


M10 

EQU 

23 4B 

DECIMAL *10 

0099 

00241 


M25 

EQU 

24 IB 

DECIMAL -25 

0100 

00254 


M256 

EQU 

254B 

DECIMAL -256 

0101 

00256 


MAXSN 

EQU 

25 6B 

DECIMAL -10000 

0102 

00257 


MSX0 

EQU 

25 7B 

OCTAL 3 77 

0103 

00267 


UNNRM 

EQU 

267B 

OCT 140000 


0104* 39 < 



PAGE 0006 #01 


0105* 

0106* 


CONSTANTS FOR DISC SWAPPING ROUTINE 


0107 

00155 


.31 

EQU 

155B 

0108 

00057 


PHS1C 

EQU 

57B 

0109 

00100 


CNTLW 

EQU 

100B 

0110 

00060 


COREZ 

EQU 

60B 

0111 

00061 


DISKZ 

EQU 

61B 

0112 

00062 


WCNT 

EQU 

62B 

01 13 

00063 


PASE1 

EQU 

63 B 

0114 

00064 


PASE3 

EQU 

64B 

0115* 

0116* 

START OF USER SUBROUTINE TABLI 

0117* 

0118 

0119 

12000 

12000 

000436 


ORG 

OCT 

1 2000B 
436 

0120 

12001 

012552 


DEF 

I NT 

0121 

12002 

000437 


OCT 

437 

0122 

12003 

012734 


DEF 

GOFLT 

0123 

12004 

001424 


OCT 

1424 

0124 

12005 

012064 


DEF 

FREQ 

0125 

12006 

000440 


OCT 

4 40 

0126 

12007 

013064 


DEF 

CNVTR 

0127 

12010 

001021 


OCT 

1021 

0128 

12011 

013324 


DEF 

PLPT2 

0129 

12012 

001443 


OCT 

1443 

0130 

12013 

012744 • 


DEF 

METER 

0131 

12014 

000426 


OCT 

426 

0132 

12015 

013233 


DEF 

PWATT 

0133 

12016 

001416 


OCT 

1416 

0134 

12017 

01241 1 


DEF 

DAYTM 

0135 

12020 

001431 


OCT 

1431 

0136 

12021 

012442 


DEF 

SATT 

0137 

12022 

000433 


OCT 

433 

0138 

12023 

013103 


DEF 

ATTEN 

0139 

12024 

001032 


OCT 

1032 

0140 

12025 

012140 


DEF 

DAC 

0141 

12026 

001444 


OCT 

1444 

0142 

12027 

013027 


DEF 

THERM 

0143 

12030 

001415 


OCT 

1415 

0144 

12031 

012275 


DEF 

SETCL 

0145 

12032 

001017 


OCT 

1017 

0146 

12033 

013257 


DEF 

SETP2 

0147 

12034 


LSBTB 

EQU 

* END 


0148* 
0149* 
0 1 50* 
0151* 
0152* 

0153 

0154 

0155 

0156 

0157 

0158 

0159 

0160 
0161 
0162 


END OF LINKS AND CONSTANTS 

ROUTINE FOR DISK SWAPPING OF BASIC COMPILER PHASES 


12034 060100 

12035 102606 

12036 060057 

12037 064155 

12040 000040 

12041 026047 

12042 060100 

12043 102606 

12044 060060 

12045 064061 


START LDA CNTLW 
OTA DMA1 
LDA PHS1C 
LDB .31 
CLE 

JMP BEGIN 
EXEC LDA CNTLW 
OTA DMA 1 
LDA COREZ 
LDB DISKZ 


40 < 



PAGE 0007 #01 


0163 

12046 

002300 


CCE 


0 1 64 

12047 

106702 

BEGIN 

CLC 

INITl 

0165 

12050 

102602 


OTA 

INIT1 

0166 

12051 

102702 


STC 

INITl 

0167 

12052 

060062 


LDA 

WC NT 

0168 

12053 

102602 


OTA 

INITl 

0169 

12054 

106617 


OTB 

DCMND 

01 70 

12055 

103706 


STC 

DMAl'C 

0171 

12056 

102716 


STC 

DDATA . 

0172 

1205 7 

102306 


SFS 

DMA 1 

0173 

12060 

026057 


JMP 

*-l 

0174 

12061 

002040 


SEZ 


0175 

12062 

124064 


JMP 

PASE3, I 

0176 

12063 

124063 


JMP 

PASEl,I 

0177* 






0178* 

BEGINNING OF 

DRIVER SUBROUTINES 

0179* 






0180* 

FREQUENCY CONTROL 

ROUTINE 

0181* 






0182 

12064 

000000 

FREQ 

NOP 


0183 

12065 

1 14041 


JSB 

ENTER, I 

0184 

12066 

000777 


OCT 

777 

0185 

12067 

102501 


LIA 

1 

0186 

12070 

002020 


SSA 


0187 

12071 

026126 


JMP 

CALIB 

0188 

12072 

160046 


LDA 

PAR3 ' I 

0189 

12073 

164047 


LDB 

PAR3+1 * I 

0190 

12074 

015477 


JSB 

IFIX 

0191 

12075 

012137 


AND 

B1777 

0192 

12076 

016646 

ENTFR 

JSB 

BTBCD 

0193 

12077 

072136 


STA 

WD3 

0194 

12100 

160044 


LDA 

PAR2, I 

0195 

12101 

164045 


LDB 

PAR2+1 ' I 

0196 

12102 

015477 


JSB 

IFIX 

0197 

12103 

016646 


JSB 

BTBCD 

0198 

121?4 

072135 


STA 

WD2 

0199 

12105 

160042 


LDA 

PARI .I 

0200 

12106 

164043 


LDB 

PAR 1+1, 1 

0201 

12107 

015477 


JSB 

IFIX 

0202 

12110 

016646 


JSB 

BTBCD 

0203 

12111 

106730 


CLC 

FRS 

0204 

12112 

102630 


OTA 

FRS 

0205 

12113 

062135 


LDA 

WD2 

0206 

12114 

102630 


OTA 

FRS 

0207 

12115 

062136 


LDA 

WD3 

0208 

12116 

102630 


OTA 

FRS 

0209 

12117 

060262 


LDA 

HIMSK 

0210 

12120 

002006 


INA, 

SZA 

0211 

12121 

026120 


JMP 

*-I 

0212 

12122 

106730 


CLC 

FRS 

0213 

12123 

102501 


LIA 

1 

0214 

12124 

002021 


SSA, 

RSS 

0215 

12125 

126064 


JMP 

FREQ, I 

0216 

12126 

012137 

CALlB 

AND 

B1777 

0217 

12127 

072136 


STA 

WD3 

0218 

12130 

114077 


JSB 

FLOAT, I 

0219 

12131 

170046 


STA 

PAR3 , 1 

0220 

12132 

17404 7 


Stb 

PAR3+1 , I 



PAGE 

<s 

5) 

CQ 

#0 1 




0221 

12133 

062136 


LOA 

WD3 

0222 

12134 

026076 


JMP 

ENTFR 

0223* 






0224 

12135 

000000 

VD2 

NOP 


0225 

12136 

000000 

WD3 

NOP 


0226 

12137 

001777 

B1777 

OCT 

1777 

0227* 






0228* 

STARK VOLTAGE CONTROL ROUTINE 

0229* 






0230* 






0231 

12140 

000000 

DAC 

NOP 


0232 

12141 

114041 


JSB 

ENTER, I 

0233 

12142 

000077 


OCT 

77 

0234 

12143 

062264 


LDA 

ADSTK 

0235 

12144 

070027 


STA 

LINK4 

0236 

12145 

160042 


LDA 

PARI, I 

0237 

12146 

164043 


LDB 

PARl+l , I 

0238 

12147 

015477 


JSB 

IFIX 

0239 

12150 

016636 


JSB 

SCHK 

0240 

12151 

001727 


ALF, 

► ALF 

0241 

12152 

072272 


STA 

TDAC 

0242 

12153 

160044 


LDA 

PAR 2, I 

0243 

12154 

164045 


LDB 

PAR 2+1 , I 

0244 

12155 

015477 


JSB 

IFIX 

0245 

12156 

002020 


SSA 


0246 

12157 

026170 

. 

JMP 

STMAN 

024 7 

12160 

040137 


ADA 

.4 

0248 

12161 

001121 


ARS, 

i ARS 

0249 

12162 

001100 


ARS 


0250 

12163 

016636 


JSB 

SCHK 

0251 

12164 

032272 


I OR 

TDAC 

0252 

12165 

072272 


STA 

TDAC 

0253 

12166 

016201 


JSB 

VSET 

0254 

12167 

126140 


JMP 

DAC, I 

0255 

12170 

102534 

STMAN 

LIA 

RLY1 

0256 

12171 

012273 


AND 

STMSK 

0257 

12172 

006400 


CLB 


0258 

12173 

106631 


OTB 

DDAC1 

0259 

12174 

066270 


LDB 

CLCIF 

0260 

12175 

074023 


STB 

IFLAG 

0261 

12176 

102634 


OTA 

RLY1 

0262 

12177 

106723 


CLC 

IFLAG 

0263 

12200 

126140 


JMP 

DAC, I 

0264* 






0265 

12201 

000000 

VSET 

NOP 


0266 

12202 

066272 


LDB 

TDAC 

0267 

12203 

102534 


LIA 

RLY1 

0268 

12204 

012273 


AND 

STMSK 

0269 

12205 

032274 


I OR 

B12K 

0270 

12206 

102634 


OTA 

RLY1 

0271 

12207 

106631 


OTB 

DDAC1 

0272 

12210 

062270 


LDA 

CLCIF 

0273 

1221 1 

070023 


STA 

IFLAG 

0274 

12212 

064241 


LDB 

M2 5 

0275 

12213 

060256 

VTIMR 

LDA 

MAXSN 

0276 

12214 

002006 


INA, 

SZA 

0277 

12215 

026214 


JMP 

*-l - 

0278 

12216 

006006 


INB, 

SZB 4^ < 



PAGE 0009 #01 


0279 

12217 

026213 


JPIP 

VTIMR 

0280 

12220 

103723 


STC 

IFLAG,C 

0281 

12221 

102323 


SFS 

I FLAG 

0282 

12222 

026225 


JMP 

DACEX 

0283 

12223 

016230 


JSB 

STXER 

0284 

12224 

026143 


JMP 

DAC+3 

0285 

12225 

062271 

DACEX 

LDA 

JSTKR 

0286 

12226 

070023 


STA 

I FLAG 

0287 

0288* 

12227 

126201 


JMP 

VSET, I 

0289 

12230 

000000 

STXER 

NOP 


0290 

12231 

103100 


CLF 

0 

0291 

12232 

106723 


CLC 

I FLAG 

0292 

0293 

12233 

12234 

072265 

002400 


STA 

CLA 

SVAST 

0294 

12235 

102631 


OTA 

DDACI 

0295 

0296 
0297 

12236 
1223 7 
12240 

102100 

002040 

002004 


STF 

SEZ 

INA 

0 

0298 

12241 

072267 


STA 

SVEST 

0299 

12242 

060144 


LDA 

.10 

0300 

12243 

076266 


STB 

SVBST 

0301 

12244 

066256 


LDB 

STMSG 

0302 

12245 

114102 


JSB 

I02B; I 

0303 

12246 

102023 


HLT 

23B 

0304 

1224 7 

016201 


JSB 

VSET 

0305 

12250 

062267 


LDA 

SVEST 

0306 

0307 

12251 

12252 

002102 

002200 


CLE, 

CME 

iSZA 

0308 

12253 

062265 


LDA 

SVAST 

0309 

12254 

066266 


LDB 

SVBST 

0310 

0311* 

12255 

126230 


JMP 

STXER, 1 

0312 

12256 

012257 

STMSG 

DEF 

*+l 

0313 

12257 

12260 

003407 

006412 


OCT 

3407,6412 

0314 

12261 

12262 

025123 

052113 


ASC 

2,*STK 

0315 

0316* 

12263 

006412 


OCT 

6412 

0317 

12264 

012230 

ADSTX 

DEF 

STXER 

0318 

12265 

000000 

SVAST 

NOP 


0319 

12266 

000000 

SVBST 

NOP 


0320 

12267 

000000 

SVEST 

NOP 


0321 

12270 

106723 

CLCIF 

CLC 

I FLAG 

0322 

12271 

1 14027 

JSTKR 

JSB 

LI NK4 , 1 

0323 

12272 

000000 

TDAC 

NOP 


0324 

12273 

165777 

STMSK 

OCT 

165777 

0325 

0326* 

0327* 

12274 

012000 

B12K 

OCT 

12000 

0328* 

0329* 

CLOCK 

SETTING AND READOUT ROUTINES 

0330 

12275 

000000 

SETCL 

NOP 


0331 

12276 

114041 


JSB 

ENTER, I 

0332 

12277 

000777 


OCT 

777 

0333 

12300 

160042 


LDA 

PARI, I 

0334 

12301 

164043 


LDB 

PAR1+1 , 1 


43 < 



PAGE 0010 *01 


0335 

0336 

12302 

12303 

015477 

002020 


JSB 

SSA 

IFIX 

0337 

12304 

026335 


JMP 

CLKOF 

0338 

12305 

042342 


ADA 

M24 

0339 

12306 

072344 


STA 

HOUR 

0340 

12307 

160044 


LDA 

PAR2,I 

0341 

12310 

164045 


LD8 

PAR2+1 , 

0342 

12311 

015477 


JSB 

IFIX 

0343 

12312 

042343 


ADA 

M60 

0344 

12313 

072345 


STA 

MIN 

0345 

12314 

160046 


LDA 

PAR3 , 1 

0346 

12315 

164047 


LDB 

PAR3+ l , 

034 7 

12316 

015477 


JSB 

IFIX 

0348 

12317 

042343 


ADA 

M60 

0349 

12320 

072346 


STA 

SEC 

0350 

12321 

062347 


LDA 

JMPCL 

0351 

12322 

070012 


STA 

TBGl 

0352 

12323 

062350 


LDA 

CLKAD 

0353 

0354 

12324 

12325 

070024 

002400 


STA 

CLA 

LINK1 

0355 

12326 

070013 


STA 

TBG2 

0356 

12327 

060136 


LDA 

.3 

0357 

12330 

102612 


OTA 

TBGl 

0358 

12331 

103712 


STC 

TBGl ,C 

0359 

12332 

060234 


LDA 

M10 

0360 

12333 

072351 

* 

STA 

CNT10 

0361 

12334 

126275 


JMP 

SETCL.I 

0362 

12335 

106712 

CLKOF 

CLC 

TBGl 

0363 

0364* 

12336 

126275 


JMP 

SETCL, I 

0365 

1233 7 

000030 

.24 

DEC 

24 

0366 

12340 

000074 

.60 

DEC 

60 

0367 

12341 

000000 

SVAC 

NOP 


0368 

12342 

177750 

M2 4 

DEC 

-24 

0369 

12343 

177704 

MS0 

DEC 

-60 

0370 

12344 

000000 

HOUR 

NOP 


0371 

12345 

000000 

MIN 

NOP 


0372 

12346 

000000 

SEC 

NOP 


0373 

12347 

114024 

JMPCL 

JSB 

LINK1,I 

~0374 

12350 

012352 

CLKAD 

DEF 

CLOCK 

0375 

0376* 

12351 

000000 

CNT10 

NOP 


0377 

12352 

000000 

CLOCK 

NOP 


0378 

12353 

103712 


STC 

TBGl ,C 

0379 

12354 

000000 

IT NTH 

NOP 


0380 

12355 

036351 


ISZ 

CNT10 

0381 

12356 

126352 


JMP 

CLOCK, I 

0382 

12357 

072341 


STA 

SVAC 

0383 

12360 

060234 


LDA 

Ml 0 

0384 

12361 

072351 


STA 

CNT10 

0385 

12362 

062341 


LDA 

SVAC 

0386 

12363 

000000 

ISEC 

NOP 


0387 

12364 

036346 


ISZ 

SEC 

0388 

12365 

126352 


JMP 

CLOCK, I 

0389 

12366 

072341 


STA 

SVAC 

0390 

12367 

062343 


LDA 

M60 

0391 

12370 

072346 


STA 

SEC 

0392 

12371 

062341 


LDA 

SVAC 


44 « 



PAGE 0011 #01 


0393 

12372 

000000 

IMIN NOP 


0394 

123 73 

036345 

ISZ 

MIN 

0395 

123 74 

126352 

JMP 

CLOCK* I 

0396 

123 75 

072341 

STA 

SVAC 

0397 

123 76 

062343 

LDA 

M60 

03 98 

12377 

072345 

STA 

MIN 

0399 

12400 

062341 

LDA 

SVAC 

0400 

12401 

000000 

IHOUR NOP 


0401 

12402 

036344 

ISZ 

HOUR 

0402 

12403 

126352 

JMP 

CLOCK* I 

0403 

12404 

072341 

STA 

SVAC 

0404 

12405 

062342 

LDA 

M2 4 

0405 

12406 

072344 

STA 

HOUR 

0406 

12407 

062341 

LDA 

SVAC 

0407 

12410 

126352 

JMP 

CLOCK, I 

0408* 





0409 

12411 

000000 

DAYTM NOP 


0410 

12412 

1 14041 

JSB 

ENTER* 1 

0411 

12413 

000777 

OCT 

777 

0412 

12414 

103100 

clf 

0 

0413 

12415 

062344 

LDA 

HOUR 

0414 

12416 

170042 

STA 

PARI , I 

0415 

12417 

062345 

LDA 

MIN 

0416 

12420 

066346 

LDB 

SEC 

0417 

12421 

102100 

STF 

0 

0418 

12422 

042340 

ADA 

.60 

0419 

12423 

046340 

ADB 

.60 

0420 

12424 

174046 

STB 

PAR3 * I 

0421 

12425 

1 14077 

JSB 

FLOAT, I 

0422 

12426 

170044 

STA 

PAR2, I 

0423 

12427 

174045 

STB 

PAR2+1 * I 

0424 

12430 

160042 

LDA 

PAR 1,1 

0425 

12431 

042337 

ADA 

.24 

0426 

12432 

1 14077 

JSB 

FLOAT* I 

0427 

12433 

170042 

STA 

PARI, I 

0428 

12434 

174043 

STB 

PAR1 + 1 * I 

0429 

12435 

160046 

LDA 

PAR3 * I 

0430 

12436 

114077 

JSB 

FLOAT, I 

0431 

12437 

170046 

STA 

PAR3, I 

0432 

12440 

174047 

STB 

PAR3+1 ,1 

0433 

12441 

126411 

JMP 

DAYTM, I 

0434* 





0435* 

GAIN 

AND PERIOD CONTROL ROUTINE 

0436* 





0437 

12442 

000000 

SATT NOP 


0438 

12443 

1 14041 

JSB 

ENTER, I 

0439 

12444 

000777 

OCT 

777 

0440 

12445 

160042 

LDA 

PARI, I 

0441 

12446 

164043 

LDB 

PAR 1+1,1 

0442 

12447 

114377 

JSB 

FDV, I 

0443 

12450 

012550 

DEF 

.10. 

0444 

12451 

015477 

JSB 

IFIX 

0445 

12452 

002021 

SSA, 

RSS 

0446 

12453 

026455 

JMP 

*+2 

0447 

12454 

026517 

JMP 

ERATT 

0448 

12455 

064000 

LDB 

0 

0449 

12456 

046544 

ADB 

M13 

0450 

12457 

006020 

SSB 




PAGE 0012 #01 


0451 

12460 

026462 


JMP *+2 

0452 

12461 

026517 


JMP ERATT 

0455 

12462 

044140 


ADB .6 

0454 

12463 

006021 


SSB,RSS 

0455 

12464 

040135 


ADA .2 

0456 

12465 

072545 


STA GAIN 

0457 

12466 

102632 


OTA VTFl 

0458 

12467 

102534 


LIA RLY1 

0459 

12470 

010220 


AND INF 

0460 

12471 

066545 


LDB GAIN 

0461 

12472 

006002 


SZB 

0462 

12473 

030221 


I OR MNEG 

0463 

12474 

102634 


OTA RLY1 

0464 

12475 

160044 


LDA PAR2,I 

0465 

12476 

164045 


LDB PAR2+1 , I 

0466 

12477 

015477 


JSB IFIX 

0467 

12500 

003004 


CMA'INA 

0468 

12501 

002021 


SSA,RSS 

0469 

12502 

026532 


JMP ERTBG 

0470 

12503 

072546 


STA KEEP 

0471 

12504 

160046 


LDA PARS, I 

0472 

12505 

164047 


LDB PAR3+1 , I 

0473 

12506 

015477 


JSB IFIX 

0474 

12507 

002020 


SSA 

04 75 

12510 

026532 


JMP ERTBG 

0476 

12511 

064000 

* 

LDB 0 

0477 

12512 044231 


ADB M7 

04 78 

12513 

006021 


SSB, RSS 

0479 

12514 

026532 


JMP ERTBG 

0480 

12515 

072547 


STA DECAD 

0481 

12516 

126442 


JMP SATT, I 

0482 

12517 

060145 

ERATT 

LDA .12 

0483 

12520 

066523 


LDB SI GAT 

0484 

12921 

1 14102 


JSB 102B, I 

0485 

12522 

126442 


JMP SATT, I 

0486 

12523 

012524 

SI GAT 

DEF *+l 

0487 

12524 

003407 


OCT 3407,6412 

0438 

12525 

12526 

006412 

025107 


ASC 3,*GAIN* 

0489 

12527 

12530 

12531 

040511 

047052 

006412 


OCT 6412 

0490* 

0491 

12532 

060144 

ERTBG LDA .10 

0492 

12533 

066536 


LDB SIGTN 

0493 

12534 

114102 


JSB 102B, I 

0494 

12535 

126442 


JMP SATT, I 

0495 

12536 

012537 

SIGTN 

DEF *+l 

0496 

12537 

003407 


OCT 3407,6412 

0497 

12540 

12541 

006412 

025124 


ASC 2,*TBG 

0498 

12542 

12543 

041107 

006412 


OCT 6412 

0499* 

0500 

12544 

177763 

MIS 

DEC -13 

0501 

12545 

000000 

GAIN 

NOP 

0502 

12546 

000001 

KEEP 

OCT 1 £ 

0503 

12547 

000003 

DECAD 

OCT 3 



PAGE 0013 #01 


0504 

12550 

050000 

• 10. 

DEC 

10. 


12551 

000010 




0505* 






0506* 

SIGNAL MEASUREMENT 

ROUTINE 

0507* 






0503 

12552 

000000 

I NT 

NOP 


0509 

12553 

11404! 


JSB 

ENTER* I 

0510 

12554 

000007 


OCT 

7 

051 1 

12555 

160050 


LDA 

PRR 1 * I 

0512 

12556 

072630 


STA 

XLOC 

0513 

12557 

002004 


INA 


0514 

12560 

072631 


STA 

XLOC+1 

0515 

12561 

060221 


LDA 

MNEG 

0516 

12562 

170042 


STA 

PARI* I 

0517 

12563 

060154 


LDA 

.30 

0518 

12564 

170043 


STA 

PAR1 + I * 1 

0519 

12565 

062546 


LDA 

KEEP 

0520 

12566 

072632 


STA 

NTIME 

0521 

12567 

062545 


LDA 

GAIN 

0522 

12570 

102632 


OTA 

VTF1 

0523 

12571 

060013 


LDA 

TBG2 

0524 

12572 

002002 


SZA 


0525 

12573 

026571 


JMP 

*-2 

0526 

125 74 

062547 


LDA 

DECAD 

0327 

12575 

102613 


OTA 

TBG2 

0528 

12576 

062633 

, 

LDA 

JSBIN 

0529 

12577 

070013 


STA 

TBG2 

0530 

12600 

062634 


LDA 

INADR 

0531 

12601 

070026 


STA 

LINK3 

0532 

12602 

103713 


STC 

TBG2 *C 

0533 

12603 

103732 


STC 

VTF1 ,C 

0534 

12604 

126552 


JMP 

INT, I 

0535 

12605 

000000 

NLOOP 

NOP 


0536 

12606 

106732 


CLC 

VTFl 

0537 

12607 

036632 


ISZ 

NTIME 

0538 

12610 

026613 


JMP 

*+3 

0539 

12611 

107713 


CLC 

TBG2* C 

0540 

12612 

026616 


JMP 

RDVTF 

0541 

12613 

103713 


STC 

TBG2*C 

0542 

12614 

103732 


STC 

VTFl.C 

0543 

12615 

126605 


JMP 

NLOOP, I 

0544 

12616 

072635 

RDVTF 

STA 

SVAT 

0545 

12617 

002400 


CLA 


0546 

12620 

070013 


STA 

TBG2 

0547 

12621 

102532 


LIA 

VTFl 

0548 

12622 

003000 


CMA 


0549 

12623 

1 72630 


STA 

XLOC, I 

0550 

12624 

002400 


CLA 


0551 

12625 

172631 


STA 

XLOC+1, I 

0552 

12626 

062635 


LDA 

SVAT 

0553 

12627 

126605 


JMP 

NLOOP, I 

0554* 






0555 

12630 

000000 

XLOC 

BSS 

2 

0556 

12632 

000000 

NTIME 

NOP 


0557 

12633 

1 14026 

JSBIN 

JSB 

LINK3, I 

0558 

12634 

012605 

INADR 

DEF 

NLOOP 

0559 

12635 

000000 

SVAT 

NOP 


0560* 







47 < 



PAGE 0014 #01 


0561# 

SIGN 

AND MAGNITUDE 

ERROR TEST ROUTINE 

0562 

12636 

000000 

SCHK 

NOP 

0565 

12637 

064000 


LDB 0 

0564 

12640 

002020 


SSA 

0565 

12641 

002400 


CLA 

0566 

12642 

044254 


ADB M256 

0567 

12643 

006021 


SSB.RSS 

0568 

12644 

060257 


LDA MSK0 

0569 

12645 

126636 


JMP SCHK, I 

0570* 





0571* 

BINARY TO BCD CONVERSION ROUTINE 

0572* 





0573 

12646 

000000 

BTBCD 

NOP 

0574 

12647 

066700 


LDB ADR 1 

0575 

12650 

076676 


STB ADI 

0576 

12651 

066716 


LDB ADR2 

0577 

12652 

076677 


STB AD2 

0578 

12653 

066544 


LDB M13 

0579 

12654 

076675 


STB CCR 

0580 

12655 

006400 


CLB 

0581 

12656 

142676 


ADA ADI, I 

0582 

12657 

002020 


SSA 

0583 

12660 

026663 


JMP LI 

0584 

12661 

006004 


INB 

0585 

12662 

026664 


JMP *+2 

0586 

12663 

142677 

LI 

ADA AD2, I 

0587 

12664 

005200 


RBL 

0588 

12665 

036676 


ISZ AD! 

0589 

12666 

036677 


ISZ AD2 

0590 

12667 

036675 


ISZ CCR 

0591 

12670 

026656 


JMP *-10 

0592 

12671 

005222 


RBL, RBL 

0593 

12672 

005200 


RBL 

0594 

12673 

040001 


ADA 1 

05 95 

12674 

126646 


JMP BTBCD,! 

0596 

12675 

000000 

CCR 

NOP 

0597 

12676 

000000 

ADI 

NOP 

0598 

12677 

000000 

AD2 

NOP 

0599 

12700 

012701 

ADR1 

DEF *+l 

0600 

12701 

154360 


DEC -10000 

0601 

12702 

160300 


DEC -8000,-4000,-2000,- 


12703 

170140 




12704 

174060 




12705 

176030 



0602 

12706 

176340 


DEC -600,-400,-200,-100 


12707 

177160 




12710 

177470 




12711 

177634 



0603 

12712 

177660 


DEC -80,-40,-20,-10 


12713 

177730 




12714 

177754 




12715 

177766 



0604 

12716 

012717 

ADR2 

DEF *+l 

0605 

12717 

023420 


DEC 10000 

0606 

12720 

017500 


DEC 8000,4000,2000,1000 


12721 

007640 


- 


12722 

003720 


48 < 


12723 

001750 





PAGE 0015 #01 


0607 12724 001440 DEC 800,400,200, 100 

12725 000620 

12726 000310 

12727 000144 

0603 12730 000120 DEC 80,40,20,10 

12731 000050 

12732 000024 

12733 000012 

0609* 

0610 * Floating point conversion routine for signal measurement 
0611* 


0612 

12734 

000000 

goflt nop 


0613 

12735 

114041 

JSB 

ENTER, I 

0614 

12736 

000007 

OCT 

7 

0615 

12737 

162630 

LDA 

XLOC, I 

0616 

12740 

114077 

JSB 

FLOAT,! 

0617 

12741 

172630 

STA 

XLOC, I 

0618 

12742 

176631 

STB 

XLOC+1 , I 

0619 

12743 

126734 

JMP 

GOFLT, I 

0620* 





0621* 

V/F MEASUREMENT ROUTINE 

FOR STATUS CHECKING 

0622* 





0623 

12744 

000000 

METER NOP 


0624 

12745 

114041 

JSB 

ENTER, I 

0625 

12746 

000777 

OCT 

777 

0626 

12747 

160042 

LDA 

PARI, I 

0627 

12750 

164043 

LDB 

PAR1+1 , I 

0628 

12751 

015477 

JSB 

IFIX 

0629 

12752 

002020 

SSA 


0630 

12753 

027056 

JMP 

NTRER 

0631 

12754 

064000 

LDB 

0 ' 

0632 

12755 

007004 

CMB, 

, INB 

0633 

12756 

044141 

ADB 

.7 

0634 

12757 

006020 

SSB 


0635 

12760 

027056 

JMP 

MTRER 

0636 

12761 

003004 

TKENT CMA, 

INA 

063 7 

12762 

064221 

LDB 

MNEG 

0638 

12763 

005200 

RBL 


0639 

12764 

002006 

INA, 

SZA 

0640 

12765 

026763 

JMP 

*-2 

0641 

12766 

102534 

LIA 

RLYl 

0642 

12767 

010051 

AND 

M3 70 

0643 

12770 

030001 

I OR 

1 

0644 

12771 

102634 

OTA 

RLYl 

0645 

12772 

160044 

LDA 

PAR2, I 

0646 

12773 

164045 

LDB 

PAR2+1 , I 

0647 

12774 

015477 

JSB 

IFIX 

0648 

12775 

064013 

LDB 

TBG2 

0649 

12776 

006002 

SZB 


0650 

12777 

026775 

JMP 

*-2 

0651 

13000 

102613 

OTA 

TBG2 

0652 

13001 

063026 

LDA 

PVR 

0653 

13002 

102633 

OTA 

VTF2 

0654 

13003 

063025 

LDA 

CLVTF 

0655 

13004 

070013 

STA 

TBG2 

0656 

13005 

060256 

LDA 

MAXSN 

0657 

13006 

002006 

INA, 

SZA 1Q^ 

0658 

13007 

027006 

JMP 

*-i 49< 



PAGE 0016 #01 


0659 

13010 

103713 

STC TBG2,C 

0660 

13011 

102733 

STC VTF2 

0661 

13012 

102313 

SFS TBG2 

0662 

13013 

027012 

JMP *-l 

0663 

13014 

107713 

CLC TBG2,C 

0664 

13015 

102533 

LIA VTF2 

0665 

13016 

006400 

CLB 

0666 

13017 

074013 

STB TBG2 

0667 

13020 

003004 

CMA , I NA 

0668 

13021 

114077 

JSB FLOAT, I 

0669 

13022 

170046 

STA PAR3 , I 

0670 

13023 

174047 

STB PAR3+1 , I 

0671 

13024 

126744 

JMP METER, I 

0672* 




0673 

13025 

106733 

CLVTF CLC VTF2 

0674 

13026 

000000 

PVR NOP 

0675* 




0676* 

V/F MEASUREMENT ROUTINE FOR CELL TEMPERATURES 

0677* 




0678 

13027 

000000 

THERM NOP 

0679 

13030 

114041 

JSB ENTER,! 

0680 

13031 

000777 

OCT 777 

0681 

13032 

063027 

LDA THERM 

0682 

13033 

072744 

STA METER 

0683 

13034 

160042 

LDA PARI, I 

0684 

13035 

164045 . 

LDB PAR 1 + 1 , I 

0685 

13036 

015477 

JSB IFIX 

0686 

13037 

050134 

CPA .1 

0687 

13040 

027044 

JMP *+4 

0688 

13041 

050135 

CPA .2 

0689 

13042 

027044 

JMP *+2 

0690 

13043 

027056 

JMP MTRER 

0691 

13044 

070001 

STA 1 

0692 

13045 

005727 

BLF.BLF 

0693 

13046 

102534 

LIA RLY1 

0694 

13047 

013063 

AND MSKPR 

0695 

13050 

030001 

I OR 1 

0696 

13051 

102634 

OTA RLY1 

0697 

13052 

063027 

LDA THERM 

0698 

13053 

072744 

STA METER 

0699 

13054 

060142 

LDA .8 

0700 

13055 

026761 

JMP TRENT 

0701 

13056 

060221 

MTRER LDA MNEG 

0702 

13057 

1 70046 

STA PAR3, I 

0703 

13060 

060154 

LDA ,30 

0704 

13061 

170047 

STA PAR3+1 , I 

0705 

13062 

126744 

JMP METER, I 

0706* 




0707 

13063 

176377 

MSKPR OCT 176377 

0708* 




0 709* 

A/D CONVERTER 

! MEASUREMENT ROUTINE 

0710* 




0711 

13064 

000000 

CNVTR NOP 

0712 

13065 

1 14041 

JSB ENTER, I 

0713 

13066 

000007 

OCT 7 

0714 

13067 

103140 

CLF ADC 

0715 

13070 

102340 

SFS ADC 

0716 

13071 

027070 

JMP *-l 



PAGE 0017 #01 


0717 

13072 

102540 

LIA 

ADC 

0718 

13073 

114077 

JSB 

FLOAT, I 

0719 

13074 

114376 

JSB 

FBP, I 

0720 

13075 

013101 

DEF 

• 10V 

0721 

13076 

170042 

STA 

PARI , I 

0722 

13077 

174043 

STB 

PARI+1 , I 

0723 

0724* 

13100 

127064 

JBP 

CNVTR, I 

0 725 

13101 

047776 

.10V DEC 

.01953 

i 

0726* 

13102 

130367 



0727 

13103 

000000 

ATTEN MOP 


0728 

13104 

114041 

JSB 

ENTER, I 

0729 

13105 

000007 

OCT 

7 

0730 

13106 

160042 

LDA 

PARI , I 

0731 

13107 

164043 

LDB 

PARI+1 , I 

0732 

13110 

015477 

JSB 

IFIX 

0733 

13111 

002020 

SSA 


0734 

13112 

027174 

JBP 

ATOFF 

0735 

13113 

106534 

LIB 

RLY1 

0736 

13114 

005200 

RBL 


073 7 

13115 

006020 

SSB 


0738 

13116 

027132 

JMP 

*+12 

0739 

13117 

044221 

ADB 

MNEG 

0740 

13120 

005300 

RBR 


0741 

13121 

106634 

OTB 

RLY1 

0742 

13122 

064000 

LDB 

0 

0743 

13123 

102535 

LIA 

RLY2 

0744 

13124 

010257 

AND 

P1SK0 

0745 

13125 

102635 

OTA 

RLY2 

0746 

13126 

060001 

LDA 

1 

074 7 

13127 

064267 

LDB 

UNNRB 

0748 

13130 

006006 

INB, 

SZB 

0749 

13131 

027130 

JBP 

*-l 

0750 

13132 

073205 

STA 

ONES 

0751 

13133 

160042 

LDA 

PARI , I 

0752 

13134 

164043 

LDB 

PARl+1,1 

0753 

13135 

114377 

JSB 

FDV, I 

0754 

13136 

012550 

DEF 

.10. 

0755 

13137 

015477 

JSB 

IFIX 

0756 

13140 

073206 

STA 

TENS 

0757 

13141 

070001 

STA 

1 

0758 

13142 

046544 

ADB 

B13 

0759 

13143 

006021 

SSB, 

,RSS 

0760 

13144 

027224 

JBP 

ATERR 

0761 

13145 

015231 

JSB 

BPY 

0762 

13146 

000144 

DEF 

.10 

0763 

13147 

003004 

CBA, 

, INA 

0764 

13150 

043205 

ADA 

ONES 

0765 

13151 

073205 

STA 

ONES 

0766 

13152 

063206 

LDA 

TENS 

0767 

13153 

043207 

ADA 

ADCOD 

0768 

13154 

164000 

LDB 

0tl 

0769 

13155 

005700 

BLF 


0770 

13156 

077206 

STB 

TENS 

0771 

13157 

063205 

LDA 

ONES 

0772 

13160 

043207 

ADA 

ADCOD 5| < 

0773 

13161 

164000 

LDB 

0,1 



PAGE 0018 #01 


0774 

13162 

047206 


ADB 

TENS 

0775 

13163 

102535 


LI A 

RLY2 

0776 

13164 

010257 


AND 

MSK0 

0777 

13165 

005727 


BLF, 

,BLF 

0778 

13166 

030001 


I OR 

1 

0779 

13167 

102635 


OTA 

RLY2 

0780 

13170 

064267 


LDB 

UNNRM 

0781 

13171 

006006 


1 NB, 

, SZB 

0782 

13172 

027171 


JMP 

*-I 

0783 

13173 

127103 


JMP 

ATTEN, I 

0784 

13174 

102535 

ATOFF 

LIA 

RLY2 

0785 

13175 

010257 


AND 

MSK0 

0786 

13176 

102635 


OTA 

RLY2 

0787 

13177 

102534 


LIA 

RLY1 

0738 

13200 

001200 


RAL 


0789 

13201 

010220 


AND 

INF 

0790 

13202 

001300 


RAR 


0791 

13203 

102634 


OTA 

RLY1 

0792 

0793* 

0794* 

13204 

127103 


JPIP 

ATTEN, I 

0 795 

13205 

000000 

ONES 

NOP 


0796 

13206 

000000 

TENS 

NOP 


0797 

1320 7 

013210 

ADCOD 

DEF 

*+l 

0798 

13210 

000000 


OCT 

0,1,2,4,5,6,10 


13211 

000001 

. 




13212 

000002 





13213 

000004 





13214 

000005 





13215 

1 1 A • <* 

000006 
AAA A « A 




0799 

1 1 Q 

13217 

WVV i 1 Q 
000011 


OCT 

1 1,12,14,15,16 


13220 

000012 





13221 

000014 





13222 

000015 





13223 

000016 




0800* 

0801 

13224 

060140 

ATERR 

LDA 

.6 

0802 

13225 

067230 


LDB 

ATMSG 

0803 

13226 

114102 


JSB 

1 02B, I 

0804 

0805* 

13227 

127103 


JMP 

ATTEN, I 

0806 

13230 

013231 

ATMSG 

DEF 

*+l 

0807 

13231 

025101 


ASC 

2,*ATT 


13232 

052124 




0808* 






0809* 

POWER 

ATTEN CONTROL 

ROUTINE 

0810* 

0811 

13233 

000000 

PWATT 

NOP 


0812 

13234 

114041 


JSB 

ENTER, I 

0813 

13235 

000007 


OCT 

7 

0814 

13236 

160042 


LDA 

PARI, I 

0815 

13237 

164043 


LDB 

PAR1+1 , I 

0816 

13240 

015477 


JSB 

IFIX 

0817 

13241 

002003 


SZA, 

RSS 

0818 

13242 

027254 


JMP 

PWOFF 

0819 

13243 

006400 


CLB 

52 < 

0820 

13244 

002020 


SSA 



PAGE 0019 #01 


0821 

13245 

064142 

0822 

13246 

044211 

0823 

1324 7 

102534 

0824 

13250 

013256 

0825 

13251 

030001 

0826 

13252 

102634 

0827 

13253 

127233 

0828 

13254 

006400 

0829 

13255 

027247 

0830 

13256 

173767 

0831* 



0832 

13257 

000000 

0833 

13260 

114041 

0834 

13261 

000077 

0835 

13262 

160050 

0836 

13263 

073373 

0837 

13264 

006400 

0838 

13265 

174000 

0839 

13266 

002004 

0840 

13267 

064254 

0841 

13270 

174000 

0842 

13271 

002004 

0843 

13272 

073374 

0844 

13273 

060134 

0845 

13274 

001727 

0846 

13275 

067323 

084 7 

13276 

173374 

0848 

13277 

002004 

0849 

13300 

0373 74 

0850 

13301 

006006 

0851 

13302 

027276 

0852 

13303 

073372 

0853 

13304 

160044 

0854 

13305 

164045 

0855 

13306 

015477 

0856 

13307 

002003 

085 7 

13310 

027321 

0858 

13311 

063371 

0859 

13312 

070025 

0860 

13313 

063370 

0861 

13314 

070014 

0862 

13315 

060145 

0863 

13316 

070030 

0864 

13317 

103714 

0865 

13320 

127257 

0866 

13321 

106714 

0867 

13322 

127257 

0868 

13323 

177702 

0869* 



0870 

13324 

000000 

0871 

13325 

114041 

0872 

13326 

000077 

0873 

13327 

160042 

0874 

13330 

164043 

0875 

13331 

015477 

0876 

13332 

016636 

0877 

13333 

073376 

0878 

13334 

160044 


LDB .8 
ADB B4000 
PWOP LIA RLY1 
AND MSKU 
I OR 1 
OTA RLY1 
JMP PWATT, I 
PWOFF CLB 

JMP PWOP 

MSK11 OCT 173767 

SETP2 NOP 

JSB ENTER, I 
OCT 77 
LDA PRR 1 , 1 
STA BUF 
CLB 

STB 0,1 
INA 

LDB M256 
STB 0,1 
INA 

STA PNTR 
LDA .1 
ALF,ALF 
LDB M62 


SETBS STA PNTR, I 



INA 

ISZ 

PNTR 


INB 

, SZB 


JMP 

SETBS 


STA 

LEN 


LDA 

PAR2, I 


LDB 

PAR2+1 , I 


JSB 

IFIX 


SZA, 

,RSS 


JMP 

OFF 


LDA 

REFAD 


STA 

LINK2 


LDA 

JSBL 


STA 

CRT 


LDA 

.12 


STA 

BSPG1 


STC 

CRT,C 


JMP 

SETP2 , I 

OFF 

CLC 

CRT 


JMP 

SETP2 , I 

M62 

DEC 

-62 

PLPT2 

NOP 



JSB 

ENTER, I 


OCT 

77 


LDA 

PARI, I 


LDB 

PAR1+1,I 


JSB 

IFIX 


JSB 

SCHK 


STA 

BASE 


LDA 

PAR2, I 





PAGE 0020 #01 


0879 

0880 
0881 
0882 

0883 

0884 
0883 
0686 

0887 

0888 
0889* 

0890 

0891 

0892 

0893 

0894 

0895 

0896 

0897 

0898 

0899 

0900 

0901 

0902 

0903 

0904 

0905 

0906 
0907* 

0908* 

0^09* DATA 
0910* 

0911 13370 114025 

0912 13371 013347 

0913 13372 000000 

0914 13373 000000 

0915 13374 000000 

0916 13375 000000 

0917 13376 000000 
0913* 

0919 13377 

0920 

** NO ERRORS* 


LDB PAR2+1 , I 
JSB IFIX 
JSB SCHK 
ALF, ALF 
ADA BASE 
LDB BUF 
ADB .2 
ADB BASE 
STA 1,1 
JMP PLPT2, I 

REF NOP 

CLC CRT 
STA SVA 
LDA BSPG1 
OTA DMA2 
CLC INIT2 
LDA BUF 
OTA INIT2 
LDA PNTR 
CHA, I NA 
STC INIT2 
ADA BUF 
OTA INIT2 
STC CRT,C 
STC DMA2,C 
LDA SVA 
JMP REF, I 


JSBL JSB LI NK2, 1 

REFAD DEF REF 

LEN NOP 

BUF NOP 

PNTR NOP 

SVA NOP 

BASE NOP 

FINIS EQU * 

END 


13335 164045 

13336 015477 

13337 016636 

13340 001727 

13341 043376 

13342 067373 

13343 044135 

13344 047376 

13345 170001 

13346 127324 

13347 000000 

13350 106714 

13351 073375 

13352 060030 

13353 102607 

13354 106703 

13355 063373 

13356 102603 

13357 063374 

13360 003004 

13361 102703 

13362 043373 

13363 102603 

13364 103714 

13365 103707 

13366 063375 

13367 127347 


54 < 



CROSS REFERENCE TABLE 


.1 

0082 

0686 

0844 


.10 

0089 

0299 

0491 

0762 

.10. 

0504 

0443 

0754 


.10V 

0725 

0720 



.12 

0090 

0482 

0862 


.2 

0083 

0455 

0688 

0885 

.24 

0365 

0425 



.3 

0084 

0356 



.30 

0091 

0517 

0703 


.31 

0107 

0156 



.4 

0085 

0247 



.58 

0092 




• 6 

0086 

0453 

0801 


.60 

0366 

0418 

0419 


.7 

0087 

0633 



.8 

0088 

0699 

0821 


AOl 

0597 

0575 

0581 

0588 

AD2 

0598 

0577 

0586 

0589 

ADC 

0078 

0714 

0715 

0717 

ADCOD 

0797 

0767 

0772 


ADR1 

0599 

0574 



ADR2 

0604 

0576 



ADSTK 

0317 

0234 



A TERR 

0801 

0760 



ATMS 6 

0806 

0802 



ATOFF 

0784 

0734 


- 

ATTEN 

0 727 

0138 

0783 

0792 

B12K 

0325 

0269 


< 


0804 



CROSS REFERENCE TABLE 


B 1 777 

0226 

0191 

0216 





B4000 

0093 

0822 






BASE 

0917 

0877 

0883 

0886 




BEGIN 

0164 

0158 






BSPG1 

0008 

0863 

0893 





BTBCD 

0573 

0192 

0197 

0202 

0595 



BUF 

0914 

0836 

0884 

0896 

0901 



CALIB 

0216 

0187 






CCR 

05 96 

0579 

0590 





CLCIF 

0321 

0259 

0272 





CLKAD 

03 74 

0352 






CLKOF 

0362 

0337 






CLOCK 

0377 

0374 

0381 

0388 

03 95 

0402 

0407 

CLVTF 

0673 

0654 






CNT10 

0375 

0360 

0380 

0384 




CNTLW 

0109 

0153 

0159 





CNVTR 

0711 

0126 

0723 





COREZ 

0110 

0161 






CRT 

0068 

0861 

0864 

0866 

0891 

0903 


DAC 

0231 

0140 

0254 

0263 

0284 



DACEX 

0285 

0282 






DAYTM 

0409 

0134 

0433 





DCMND 

0070 

0169 






DDAC1 

0073 

0258 

0271 

0294 




DDATA 

0069 

0171 






DECAD 

0503 

0480 

0526 





DISKZ 

0111 

0162 






DMA! 

0064 

0154 

0160 

0170 

0172 



DMA2 

0065 

0894 

0904 

5S« 






CROSS REFERENCE table 


ENTER 

0013 

0613 

0871 

0183 

0624 

0232 

0679 

0331 

0712 

0410 
0 728 

ENTFR 

0192 

0222 




ERATT 

0482 

0447 

0452 



ERTBG 

/ 

0491 

0469 

04 75 

0479 



EXEC 0159 0024 


FDV 

0054 

0442 

0753 



FINIS 0919 

0029 




FLOAT 0055 
0718 

0218 

0421 

0426 

0430 

FMP 

0056 

0719 




FREQ 

0182 

0124 

0215 



FRS 

0072 

0203 

0204 

0206 

0208 

gain 

0501 

0456 

0460 

0521 


GOFLT 

0612 

0122 

0619 



HIMSK 

0094 

0209 




HOUR 

0370 

0339 

0401 

0405 

0413 

IFIX 

0057 

0342 

0685 

0190 

0347 

0732 

0196 

0444 

0755 

0201 

0466 

0816 

0238 
04 73 
0855 

IFLAG 

0071 

0291 

0260 

0321 

0262 

0273 

0280 

I HOUR 

0400 





ININ 

0393 





INADR 

0558 

0530 




INF 

0095 

0459 

0789 



INIT 1 

0062 

0164 

0165 

0166 

0168 

INIT 2 

0063 

0895 

0897 

0900 

0902 

I NT 

0508 

0120 

0534 

/ 



ISEC 0386 


0438 0509 

0812 0833 


0616 0668 


0212 


0244 0335 
0628 0647 
0875 0880 

0281 0286 


S7< 



CROSS REFERENCE TABLE 

IT NTH 0379 


JMPCL 

03 73 

0350 





JSBIN 

0557 

0528 





JSBL 

0911 

0860 





JSTKR 

0322 

0285 





KEEP 

0502 

0470 

0519 




LI 

0586 

0583 





LEN 

0913 

0852 





LINK 1 

0004 

0353 

0373 




LINK2 

0005 

0859 

0911 




LINK3 

0006 

0531 

0557 




LINK4 

0007 

0235 

0322 




LSBTB 

0147 

0031 





Ml 0 

0098 

0359 

0383 




MI3 

0500 

0449 

0578 

0758 



M2 4 

0368 

0338 

0404 




M2 5 

0099 

0274 





M2 5 6 

0100 

0566 

0840 




M370 

0018 

0642 





M60 

0369 

0343 

0348 

0390 

0397 


M62 

0868 

0846 





M7 

0097 

0477 





MAXSN 

0101 

0275 

0656 




METER 

0623 

0130 

0671 

0682 

0698 

0705 

MIN 

0371 

0344 

0394 

0398 

0415 


MNEG 

0096 

0462 

0515 

0637 

0701 

0739 

MPY 

0058 

0761 





MSK0 

0102 

0568 

0744 

0776 

0785 


MSK11 

0830 

0824 

58 

< 





CROSS REFERENCE TABLE 


MSKPR 

0707 

0694 






MTRER 

0701 

0630 

0635 

0690 




NLOOP 

0535 

0543 

0553 

0558 




NT I ME 

0556 

0520 

0537 





OFF 

0866 

0857 






ONES 

0795 

0750 

0764 

0765 

0771 



PARI 

0014 

0199 

0200 

0236 

0237 

0333 

0334 


0414 

0424 

0 427 

0428 

0440 

0441 

0516 


0518 

0626 

0627 

0683 

0684 

0721 

0722 


0730 

0731 

0751 

0752 

0814 

0815 

0873 


0874 







PAR2 

0015 

0194 

0195 

0242 

0243 

0340 

0341 


0422 

0423 

0464 

0465 

0645 

0646 

0853 


0854 

0878 

0879 





PAR3 

0016 

0188 

0189 

0219 

0220 

0345 

0346 


0420 

0429 

0431 

0432 

0471 

0472 

0669 


0670 

0702 

0704 





PASEI 

0113 

0176 






PASE3 

0114 

0175 






PHS1C 

0108 

0155 






PLPT2 

0870 

0128 

0888 





PNTR 

0915 

0843 

0847 

0849 

0898 



PRR1 

0017 

0511 

0835 





PWATT 

0811 

0132 

0827 





PWOFF 

0828 

0818 






PWOP 

0823 

0829 






PWR 

0674 

0652 






RDVTF 

0544 

0540 






REF 

0890 

0906 

0912 





REFAD 

0912 

0858 






RLY1 

0076 

0255 

0261 

0267 

0270 

0458 

0463 


0641 

0644 

0693 

0696 

0735 

0741 

0787 


0791 

0823 

0826 







CROSS REFERENCE TABLE 


RLY2 

0077 

0743 

0745 

0775 

0779 

0784 . 

0786 

SATT 

0457 

0136 

0481 

0485 

0494 



SCHK 

0562 

0239 

0250 

0569 

0876 

0881 


SEC 

0572 

0349 

0387 

03 91 

0416 



SETBS 

0847 

0851 






SETCL 

0530 

0144 

0361 

0363 




SETP2 

0852 

0146 

0865 

0867 




SI GAT 

0486 

0483 






SIGTW 

0495 

0492 






START 

0155 

0023 






STKER 

0289 

0283 

0310 

0317 




STMAN 

0255 

0246 






STMSG 

0312 

0301 






STMSK 

0324 

0256 

0268 





SVA 

0916 

0892 

0905 





SVAC 

0367 

0382 

0385 

0389 

0392 

0396 

0399 


0403 

0406 






SVAST 

0318 

0292 

0308 





SVAT 

05 59 

0544 

0552 





SVBST 

0319 

0300 

0309 





SVEST 

0320 

0298 

0305 





TBG1 

0066 

0351 

0357 

0358 

0362 

0378 


TBG2 

0067 

0355 

0523 

0527 

0529 

0532 

0539 


0541 

0546 

0648 

0651 

0655 

0659 

0661 


0663 

0666 






TDAC 

0323 

0241 

0251 

0252 

0266 



TENS 

0796 

0756 

0766 

0770 

0774 



THENT 

0636 

0700 






THERM 

0678 

0142 

0681 

0697 




UNNRM 

0103 

0747 

0780 

60 < 






CROSS REFERENCE TABLE 


VSET 

0265 

0253 

0287 

0304 




VTFl 

0074 

0457 

0522 

0533 

0536 

0542 

0547 

VTF2 

0075 

0653 

0660 

0664 

0673 



VTIMR 

0275 

0279 






WCNT 

0112 

0167 






WD2 

0224 

0198 

0205 





WD3 

0225 

0193 

0207 

0217 

0221 



XLOC 

0555 

0512 

0514 

0549 

0551 

0615 

0617 


0618 



APPENDIX B 


BASIC LANGUAGE CONTROL PROGRAM LISTING 

This appendix contains the BASIC language source program listing for 
automated spectral measurements . It is followed by three cross reference 
tables: one for variables, one for subroutines, and one for statement 

numbers which are referred to in other statements as destinations for a Jump 
or branch. 


62 < 


34 



J REM ** BASIC 20DB AUTOMATED CATALOGING PROGRAM, 11/1/73 ** 

3 REM ** SET POWER ATTENUATOR TO MAX TO ALLOW CHECK OF CRYSTAL 
A REM ** CURRENT AND POWER METER ZERO READINGS ** 

6 PRINT "ATTEN AT MAX" } . . 

7 INPUT I 

8 CALL (35,5,4,1) 

9 LET I1=-1.00000E-03*I 

10 DIM P[60),Zt32J,A[31],El61 

11 CALL (25,0,1,3) 

12 CALL (27,0) 

14 CALL (36,1, 3, At > 

16 CALL (35,6,3, A1 ) 

18 CALL (15, A( 1 1,62) 

19 REM ** INPUT HOUR, MINUTE, SECOND ON 24 HOUR SYSTEM ** 

20 PRINT "TIME* ; 

30 INPUT C 1 , C2 ,C3 

35 CALL < I 3 , C I ,C2,C3) 

40 LET C5= 100*C1+C2+1 ♦00000E-02*C3 

41 REM ** INPUT DESIRED STARTING ADDRESS FOR DISC DATA STORAGE ** 

42 PRINT "DISC SECTOR AND WORD"; 

44 INPUT D0,D2 

46 LET D1 = D0 
48 MAT Z=ZER 
50 IF 02= 1 THEN 54 
52 CALL (3,Z( 1 1,0, Dl) 

54 CALL (20,2650,0,0) 

56 MAT E=ZER 
60 LET L0=100 

.70 DEF FNT(X0 )s. 1*1 NT (l 0* (293+4 *28600 E-02*( 1 1 40* X0) ) ) 

73 REM ** LINE .75 SETS INITIAL STEP SIZE IN MULTIPLES OF 50 KHZ ** 

75 LET F5=350 
80 LET W0=W4=F5 

83 REM ** LINE 85 SETS CRYSTAL CURRENT TO BE USED, 100*M1CROAMPS ** 

85 LET A0=900 

88 REM ** INPUT NBS MOLECULE IDENTIFICATION NUMBER ** 

90 PRINT "ID #"; 

92 INPUT G0 
94 LET Z[321 = G0 

98 REM ** I NPUf RANGE SETTING TO BE USED DURING SEARCH ** 

100 PRINT "RANGE"; 

102 INPUT G0 

110 DEF FNI(X0)=1.00000E-02*INT(I00*(S1-4.34294*(LOG(X0)-LOG(P)))) 

120 LET G=G0=30-G0 

128 REM ** LINE 130 SETS STARK VOLTAGE TO USE DURING SEARCH ** 

130 LET V0-1000 
150 LET V- V0 

198 REM ** SPECIFY FREQUENCY RANGE TO BE COVERED, STARTING AT LOW END * 
200 PRINT "START FREQ"; 

210 INPUT F 

220 PRINT "END FREQ"; 

225 LET L0=L0+2 
230 INPUT F9 

238 REM ** LINE 240 GIVES DETECTOR TIME CONSTANT IN MILLISECONDS ** 

240 LET T0=30 
242 LET F0=N9=F3=0 

244 LET T=400+5*T0 

245 REM ** BEGIN OPERATION ** 



246 GOSUB 5200 
270 LET F1=INT(.1*F) 

280 LET F2=INT(1000*(F-10*F1 >+.l) 

290 CALL (20, FI ,F2, INT( ,74*( Fl-2650 )+ .5 ) ) 

300 CALL <27, 1 10* G) 

305 CALL (25,110,1,2) 

310 WAIT <2*T) 

320 GOSUB 8000 
330 LET F=INT(.1*F9) 

670 LET F3=INT(.74*(Fl-2650)+.5) 

672 LET 14= F3 ! 

674 GOSUB 4400 

680 IF F3< 1000 THEN 700 

690 LET F3= 14=999 

700 LET F4=INT( 1 ,33*F5+.5> 

710 CALL <20, F! ,F2, F3 > 

715 GOSUB 7000 

720 LET F3= INT( . 7 4* (FI -2650 )+.5 ) 

725 IF F3<1000 THEN 740 
730 LET F3=999 

738 REM ** CRYSTAL CURRENT IS CHECKED EACH 13.5 MHZ IN R BAND ** 

740 IF I4=F3 THEN 750 

742 LET I4=F3 

744 GOSUB 4400 

746 GOTO 760 

750 WAIT ( 15 > 

760 GOSUB 6000 

790 IF ABS(S>«350 THEN 9000 

791 REM ** SIGNAL DETECTED, LOOK FOR PEAK ** 

792 LET F4=-F4 
794 GOSUB 7000 

800 LET F4=F5 

801 LET E4=- I 

802 IF S<0 THEN 810 
804 GOSUB 6000 

806 IF S*350 THEN 850 
808 GOTO 4310 

810 IF S«-I000 THEN 840 

811 REM ** SIGNAL IS A STARK LOBE, KEEP MOVING ** 

812 GOSUB 7000 

814 CALL (20, FI ,F2,F3) 

816 WAIT <5*T0) 

318 GOSUB 6000 

820 IF S<-400 THEN 810 

822 IF S»350 THEN 851 

824 IF G >= G0 THEN 4310 

826 LET G=GH0 

828 GOTO 842 

840 LET G= G- 1 0 

842 CALL (27, 110-G) 

644 WAIT (T> 

846 GOTO 812 

850 CALL <27, 110** G) 

851 CALL (25,110,1,5) 

853 WAIT <T) 

855 IF F4«F5 THEN 858 

856 GOSUB 6000 S4< 



857 GOTO 860 

858 GOSUB 5000 

860 IF S<8500 THEN 880 

862 LET G=G-10 

864 GOTO 850 

880 LET S1=S 

890 GOSUB 7000 

900 CALL (20,F1,F2,F3> 

902 WAIT (T) 

904 IF F4<F5 THEN 910 

906 GOSUB 6000 

908 GOTO 912 

910 GOSUB 5000 

912 IF S*0 THEN 920 

916 GOTO 842 

920 IF S>S1 THEN 860 

930 LET F4=INT(-.5*F4+.5) 

940 GOSUB 7000 

945 CALL (20,F1,F2,F3) 

947 WAIT (T) 

950 IF ABS < F4 )>9 ,00000E-02*F5 THEN 858 

952 GOSUB 7000 

953 REM ** VERIFY THIS LINE HAS NOT ALREADY BEEN MEASURED ** 

954 IF 10*Ft+1.00000E-03*F2+.5*F5>F0 THEN 958 
956 GOTO 4030 

958 CALL (20,Fi ,F2,F3> 

960 IF Sl»3450 THEN 986 
962 IF G<G0 THEN 970 
966 GOTO 4300 
970 LET G=G+10 
980 CALL (27,1 10-G) 

982 WAIT (T) 

984 LET Sl=3.!7*Sl 

986 IF 1 0*F1+1 .00000 E-03+F2- 1 .00000E-03*F5+5 .00000 E-02>F0 THEN 990 

988 GOTO 4000 

990 CALL (20, FI ,F2,F3) 

995 GOSUB 4400 

998 REM ** CHECK STARK SENSITIVITY AND FIND BEST VOLTAGE ** 

1000 WAIT (T) 

1002 GOSUB 5220 

1004 LET VUV0 

1010 GOSUB 5000 

1012 LET S 1 = S+ • I *E3 

1014 LET V=V-200 

1016 GOSUB 5220 

1018 GOSUB 5000 

1020 LET S=S+.1*E3 

1022 LET V= V+200 

1024 IF S» 1 .005*S 1 THEN 1030 

1026 IF S«.995*S1 THEN 1038 

1028 GOTO 1080 

1030 LET Vl=V-200 

1032 GOTO 1036 

1034 LET V1=V 

1036 LET S1=S 

1038 LET V= V+200 

1040 GOSUB 5220 .... 



1042 60SUB 5000 

1044 LET S=S+.1*E3 

1046 IF S>1 ,005+Sl THEN 1060 

1048 IF S«.995*Sl THEN 1070 

1050 IF V « = V0+200 THEN 1034 

1052 IF VI >= V-200 THEN 1100 

1060 IF V<I 800 THEN 1034 

1062 GOTO 1100 

1070 IF V<1800 THEN 1038 

1080 LET V=Vt ' 

1082 GOSUB 5220 

1098 REN ** SET GAIN FOR FULL SCALE OUTPUT ON 3410 ** 

1100 IF SI>10000 THEN 1120 

1102 IF G >: G0 THEN 1120 

1104 LET Y= INT(8«686*L0G( 10000/S 1 >+«l ) 

1106 LET G= G+Y 

1107 REN ** MAXIMUM GAIN USED IS EQUIVALENT TO >65 RANGE ** 

1108 IF G <= 95 THEN 1114 
1110 LET G=95 

1112 LET Y= Y-G+95 

1114 LET Sl=Sl*8.686*L0G(.5*Y) 

1116 CALL (27,110-G) 

1120 GOSUB 5213 
1125 WAIT (T) 

1130 CALL (25*110,2,2) 

1140 LET F4=-INT(2.9*F5+.l ) 

1150 GOSUB 7000 

1160 CALL (20, FI , F2, F3 ) 

1165 LET F6=F1 
LI 70 LET F7=F2 
1185 LET F4= I NT( • 1 *F5+ * 1 ) 

1194 REM ** CALCULATE NUMBER OF SCANS NEEDED ** 

1195 LET N=4+INT(2.00000E>02*(G>40)t2+.l ) 

1198 IF T0=10 THEN 1210 

1200 LET N=2*INT(.7*N*SQR(l0/T0)+.l) 

1210 LET Jl=l 
1212 LET J2=60 

1214 LET J3=l 

1215 REM ** SET SCALE FACTOR FOR CRT DISPLAY ** 

1216 LET Y0= 1000/S 1 
1220 DIM S 1 60 ) , N[ 60 ] 

1230 MAT S=ZER 

1232 MAT N=ZER 

1234 LET N0 = 7 

1235 REM ** AVERAGE SIGNAL DURING REPEATED SCANS BACK AND FORTH ** 

1236 FOR 1=1 TO N 

1238 FOR J=J1 TO J2 STEP J3 

1239 CALL (20, FI ,F2,F3> 

1240 GOSUB 7000 

1241 WAIT ( 1 *4*T0 ) 

1243 LET S0=R[J)*St JJ 

1244 LET N(J)±NIJ)+1 

1245 LET X= 1 /N( J 1 

1246 LET S0=S0*X 

1247 GOSUB 6000 

1248 LET S(J1=S0+X*S 

1249 CALL (17,J>1,240-Y0*SIJ]> 


GS< 



1250 

1252 

1254 

1256 

1258 

1260 

1262 

1264 

1267 

1268 
1270 

1272 

1273 

1274 
1276 
1278 
1280 
1281 
1282 

1283 

1284 
1286 
1288 

1290 

1291 

1292 

1293 

1294 

1295 

1296 
1300 
1302 
1304 

1309 

1310 
1312 
1314 
1316 
1318 

1399 

1400 

1410 

1411 
1420 

1430 

1431 
1440 

1450 

1451 
1460 

1470 

1471 
1480 

1490 

1491 
1500 
1510 


NEXT J 

IF J3»0 THEN 1278 

LET J1=J1-N0 

IF Jl<38 THEN 1270 

LET J2 = J2+N0 

LET F4=-F4*N0 

GOSUB 7000 

LET F4=F4/N0 

LET N0=N0-1 

GOTO 1280 

LET J I = 60 

LET J2= 1 

LET N0 = 7 

LET FlsF6 

LET F2=F7+F4 

LET F4=-F4 

GOSUB 7000 

CALL <20,F1,F2,F3> 

LET J3=-J3 
WAIT <T> 

LET J=J1 
LET Jl* J2 
LET J2 = J 
NEXT I 

REM ** CHECK TIME, PRESSURE, TEMPERATURE ** 

CALL (14,C1,C2,C3) 

CALL (35,7,4,P) 

LET F1=F6 
LET F2=F7 

CALL C20,F1 ,F2,F3 ) 

CALL (36,t,3,Y) 

LET Y=FNT(Y> 

LET D3= INT( Y+«5 ) 

REM ** ADJUST SIGNAL FOR STARK PICKUP CORRECTION ** 

LET X=2.00000E-02*E3 
FOR J=t TO 60 
LET SIJ1=SIJ]+X 
NEXT J 
LET U7=-l 

REM ** SMOOTH SIGNAL ARRAY WITH 11 POINT CUBIC FIT ** 

LET X=67B*SI 1 1+288*SI2 3+48*<St31+S{B]+SC 10 1)-72*(S[4 HS16J+SU 1 1) 
LET P( 1 1= (X- 102*S15 )- 1 2*S 1 7 ]+78*S 1 9 ] ) /85 8 
CALL ( 17,0, 240- Y0*P1 1]) 

LET X=288*SI I l+246*SI21 + 192*St3 ]+132*SI 4 1+72*S{ 5 )+18*CS 1 6 1-SU0 1) 
LET P[2]s<X-24*S171-48*CS181+St9]-Sm l>)/858 
CALL <17,1,240-Y0*P121) 

LET X=48*<SI 1 J-Sl l0J)+192*SI21+246*St3 J+232*SI4 HI 72*SI5 1 
LET P13 1- (X+88*(St 61-St 9 ] )+2*SI 7 1-64*SI8 H7B*SC 1 1 p/858 
CALL C 1 7,2,240- Y0*P I 3 ) ) 

LET X=-72*S[| H132*S12J+232*S[3]+251*S[4H212*SC5)+138*S16J 
LET PI 4 1" (X+52*S 1 7 J-23*S 1 8 1-64+SI9 l-48*(Sl 1 0 l- SI 11 l))/858 
CALL (17,3,240-Y0*PI4 1) 

LET X=-102*Sl 1 1+72*SI2]+172*S13 J+212*SI4 H206*SI5 H138*S16J 
LET Pt5 }=(X+1 I2*S 1 7 ]+52*S 18 1+2*S 1 9 ]-24*SC 10 1-1 2*S 1 1 1 D/858 
CALL <1 7,4,240-Y0*Pl5 ]) 

FOR Js6 TO 55 

LET X=«36*(SI J+51+S1 J-5 1 )+9*CSl J+4 HStJ-4 P+44* (SI J+3 l+SIJ-3 1) 

€ 7 < 


t 



1520 LET Pi J )=(X+69*(St J+2J+SI J-2] )+84*(S[ J+l J+SIJ-1 ] >+89*Sl J ]) /429 

1521 CALL <17,J-1,240-Y0*PIJ]> 

1530 NEXT J 

1540 LET X=-12*S[50 J-24+S151 1+2*S [52J+52+S153 J+l 12*St541 
1550 LET X=X+l 68*SI55 J+206+S (56 J+212+S (5 7 J+l 72*S (58 J+72+S159 ] 

1560 LET P ( 5 6 J = ( X- 1 02*S [ 60 ] ) /858 

1561 CALL ( 17,55,240- Y0*P [56 J) 

1570 LET X=48*<S(50J-S£51 J)-64*S152J-23*S153 )+52*St541 

1580 LET X=X+138*$155 J+2i2*S[56]+251*S(571+232*S[59)+132*Sl59j 

1590 LET P[5 7 ]=(X-72*S(601 J/858 

1591 CALL (I7,56,240-Y0*P(57 J) 

1600 LET X=78*S150J-48*(S[5 1 J-S160) >-88*Sl52J-64*SI53 J 
1610 LET X=X+2*S[54J+88*S[55 J+l 72+S156 J+232+S157 J+246+S158 1 

1620 LET P[58J=(X+192*S[59J)/858 

1621 CALL C 1 7,57,240- Y0*P( 58 1 ) 

1630 LET X=48*(S(50]-S[521-S(53 J)-18*(S[5l J-S (55 ])-24*Sl 54 J 
1640 LET X=X+72*S[56J+132*S157]+192*S[58]+246*S(59J+288*S[60] 

1650 LET ?[59]=X/858 

1651 CALL (17,58,240-Y0*P£59J) 

1660 LET X=-72*(S[50 J+SI5 5 J+S157 ] )+48*(S(5 1 J+S153 J+S (58 J) 

1670 LET X= X+78+S [ 5 2J- 1 2*S [ 5 4 J- 1 02*S 15 6 J+288*S (591+6 78*S ( 60 J 

1680 LET P[60J = X/858 

1681 CALL (17,59,240-Y0*P[60J) 

1690 IF U7 >= 0 THEN 2000 

1699 REM ** FIND RMS RESIDUAL OF FIT ** 

1700 LET U0=0 
1710 FOR J=5 TO 56 

1720 LET U0=U0+(P[ J]-SlJJ)t2 

1730 NEXT J 

1732 LET U7=0 

1738 LET X=0 

1740 LET U7=X=0 

1749 REM ** LOOK FOR BAD POINTS AND DISCARD ** 

1750 LET U0=.25*INT(10*SQR(U0/52)+.5> 

1760 FOR J=5 TO 56 

1765 IF ABS(P( J J-S [ J J )<U0 THEN 1780 
1770 LET X=1 

1775 LET S[ J J=.5*(S( J-l J+S[ J+l J) 
t 780 NEXT J 

1789 REM ** IF ANY POINTS DISCARDED, REPEAT SMOOTHING ** 

1790 IF X#0 THEN 1400 

2000 LET 110=0 

2001 REM ** LOCATE MAXIMUM SIGNAL POINT IN ARRAY ** 

2004 FOR j:20 TO 41 

2006 IF P[J1>PIJ-1J THEN 2012 

2008 IF U0=0 THEN 2014 

2010 GOTO 2020 

2012 LET U0=1 

2014 NEXT J 

2016 GOTO 2042 

2020 LET X=J 

2022 LET U0=0 

2023 REM ** REPEAT IN OPPOSITE DIRECTION, VERIFY SINGLE PEAK ** 

2024 FOR J=41 TO 20 STEP -1 
2026 IF PtJJ»PlJ+U THEN 2032 
2028 IF U0=0 THEN 2034 

2030 GOTO 2036 



2032 

2034 

2035 

2036 
203 7 
2038 
2042 
2044 

2046 

2047 

2049 

2050 
2060 
2062 
2070 
2072 
2080 
2082 
2084 
2086 
2090 

2199 

2200 
2210 
2220 
2230 
2232 
2238 
2240 
2244 

2249 

2250 
2260 
2270 
2280 
2282 
2284 
2290 

2299 

2300 
2310 
2315 
2330 
2340 
2350 
2352 
2356 
2360 
2366 
2368 
2370 
2375 
2380 
2390 
2400 
2405 
2410 


LET U0=1 
NEXT J 

goto 2042 

IF ABS(J-X)>3 THEN 2080 
LET J=INT(.5*<J+X)+.5) 

GOTO 2049 

PRINT "NO MAX AT** 1 0* F6+1 .00000 E-03*(F7+25*F4) 

LET L0=L0+1 
GOSUB 8000 
GOTO 4000 
IF J>27 THEN 2070 
LET F4=.l*F5*(J-30) 

GOSUB 7000 
GOTO 1160 
IF J«33 THEN 2090 
GOTO 2050 
LET S0 = F7+X*F4 

IF 10*F6+1.00000E-03*S0-1.00000E-03*F5+5.00000E-02>F0 THEN 2049 

LET J=X 

GOTO 2049 

LET S0=.5*PIJ1 

REM ** FIND LOWER HALF MAXIMUM INTENSITY POINT ** 

FOR K=4 TO J 

IF P [ K ]<S0 THEN 2230 

GOTO 2240 

NEXT K 

LET W1=0 

GOTO 2250 

IF K=4 THEN 2232 

LET W1 = F7+IK-2)*F4+F4*<S0-PCK-1 ))/(PtK J-PIX-l 1) 

REM ** FIND UPPER HALF MAXIMUM INTENSITY POINT ** 

FOR K=J TO 56 

IF PIK1*S0 THEN 2280 

GOTO 2290 

NEXT K 

LET W2=0 

GOTO 2300 

LET W2=F7+<K-2)*F4+F4*(P[K-1 ]“S0)/(PIK-1 ]-PlK)> 

REM ** CHECK TO SEE IF FREQUENCY STEP SIZE APPROPRIATE ** 

IF W1=0 THEN 2350 

IF W2=0 THEN 2400 

IF F5=50 THEN 2500 

IF (W2-W1 )<4»5*(F5-50) THEN 2356 

GOTO 2500 

IF W2#0 THEN 2370 

IF 10*F6+I ,00000E-03*F7-F0<2.50000E-03*F5 THEN 2500 
GOSUB 4500 
IF F5#X0 THEN 1150 
LET F4" INT( . 1*F5+. 1 ) 

GOTO 2500 

IF 2.2*F5*W2-F7-( J- 1 )*F4 THEN 2500 

IF 10+F6+1 *00000E»03*F7*F0<1 .00000E~03*F5 THEN 2500 

GOSUB 4500 

GOTO 2360 

IF 2.2*F5>F7-W1+(J-1)*F4 THEN 2500 

IF 10*F6+1.00000E-03*F7-F0«1.00000E-03*V4 THEN 2500 
GOSUB 4500 


G9< 



2430 GOTO 2360 

2499 REM ** INTERPOLATE FOR DERIVATIVE = 0 TO FIND FREQUENCY ** 

2500 LET X=J-2 

2510 LET Yl=.5*(PtX1-PtX-2])/F4 
2520 IF Y1<0 THEN 2550 
2530 LET X=X+1 
2540 GOTO 2510 

2550 LET Y2=.5*(P{X-1 ]-PtX-31)/F4 
2560 LET Y=Y2/(Y2-Y1) 

25 70 LET J=X-1 

2600 LET F2= I NT( F7+ ( J-2+Y ) *F4+ « 5 ) 

2610 IF F2< 10000 THEN 2650 
2620 LET FJ=F6=F6+1 
2630 LET F2=INT(F2-9999.9) 

2650 CALL (20,F1,F2,F3> 

2652 LET F0= 10*F1 + 1 ,00000E-03*F2 

2654 REM ** SAVE STRONGEST SIGNAL TO FIND GAMMA ** 

2655 LET S0=P{ J- 1 ] 

2657 REM ** CALCULATE LOWER AND UPPER HALF WIDTHS ** 

2658 IF W1 = 0 THEN 2678 
2660 LET Wl = INTCF2-W1+, 1 ) 

2662 IF W1>0 THEN 2670 
2664 LET Wl= INT(W1+10000.1 ) 

2666 GOTO 2678 

2670 IF Wl <10000 THEN 2678 
2672 LET Wl = INT(Wl-9999.9) 

2678 IF W2=0 THEN 2700 
2680 LET W2= I NT ( W2^ F2+ * 1 ) 

2682 IF W2 >= 0 THEN 2690 
2684 LET W2=INT(W2+10000. 1 ) 

2686 GOTO 2700 

2690 IF W2< 10000 THEN 2700 

9&Q9 I FT W2= T NT t UP- 9Qq<5 Q 1 

2699 REM ** USE X= . 1 MULTIPLIER FOR PRESSURE RANGE 10 MILLITORR 

2700 LET X=.l 

2705 LET C4=I00*CI+C2+I ,00000E-02*C3 

2710 LET P=1 ,00000E-02*X*P 

2711 REM ** MEASURE POWER AND CRYSTAL CURRENT ** 

2715 CALL (35,6,3,X) 

2720 CALL (35,5,4,10) 

2722 IF I0>0 THEN 2720 

2729 REM ** CHECK METER ZEROES IF NOT DONE IN PAST 20 MINUTES ** 

2730 IF C4-C5 «= 20 THEN 2760 
2732 LET I5=.1*I0 

2734 CALL (22,-1) 

2736 LET C5=C4 
2738 WAIT (5000) 

2740 CALL (35,5,3,12) 

2742 IF 12 <= 15 THEN 2748 
2744 LET 15=12 
2746 GOTO 2738 
2748 CALL (22,0) 

2750 WAIT (50) 

2752 CALL (35,5,3,11) 

2754 CALL (35, 6, 3, At) 

2756 LET I 1=-1 . 00000 E-02*I1 

2758 CALL (22,1) * 7 %< 



2760 LEI I0=-!.00000E-03*I0-I1 

2759 REM ** CORRECT SIGNAL FOR GAIN AND CRYSTAL CHARACTERISTICS ** 
2800 LET S0=7.4l490E-06*S0*10t(5.00000E-02*(20-G)> 

2810 IF 10 >? 5 THEN 2840 

2820 LET SU-.149297+. 74621 1*10+1 .60785E-02*I0 t2-4. 1 4767E-04*I0 T3 

2824 LET S0=S0/S1 

2830 GOTO 2900 

2840 IF 10» 10 THEN 2870 

2890 LET Sl=.l 10741+.6l6477*I0+3.6U83E-02*I0t2-1.3l368E-03*I0t3 

2860 GOTO 2824 

2870 IF I0>25 THEN 2890 

2875 LET S 1=-. 442058+. 8635 1 1*10+3 ,04523E-03*I0 T2+7.61275E-05*10f3 
2880 GOTO 2824 

2890 PRINT "CALIB ONLY TO 25 MICROAMPS, I ="I0 
2892 LET L0=L0+1 

2894 GOTO 2875 

2899 REM ** CALCULATE >10 LOG GAMMA AND POWER IN DBM ** 

2900 LET Sl=-2.17147*L0GCl-(6.557/(l .00000 E-03*F0 ) ) T2) 

2910 LET Sl=Sl-4.34294*LOG(S0> 

2914 REM ** LINE 2915 ADJUSTS FOR SENSITIVITY DRIFT OR AGING ** 

2915 LET Sl=Sl-.l 

2920 LET Y=4.34294*LOG(I.00000E-04*(X-A1))-10 
2930 CALL (20, FI ,F2,F3 ) 

2940 LET Sl=l • 00000 E-02*INT< 100*Sl+.5) 

2949 REM ** LINE 2950 ADJUSTS FOR SLIGHT REFERENCE FREQUENCY ERRORS ** 

2950 LET Y1=F4 
2960 LET F4=5 
2970 GOSUB 7000 

2999 REM ** PRINT RESULTS OF MEASUREMENTS AND CALCULATIONS ** 

3000 PRINT C4)TAB(l2)(FllTAB(21)(F2;TAB(30)f 

3010 PRINT SltTAB(42){WltTAB(48))W2{TAB(54)j 

3100 LET X=1.00000E-02*INT(.2135*V+.5) 

3102 IF E5=0 THEN 3110 
3104 PRINT m S"i 
3106 GOTO 3112 
3110 PRINT * 

3112 LET N= 1NT(X) 

3120 GOSUB 3250 
3150 PRINT 

3160 LET N=INT(10*X-10*N) 

3170 GOSUB 3250 
3 180 LET N=INT(10*X> 

3190 LET N= INT( 100*X- 10*N) 

3200 GOSUB 3250 
3210 GOTO 3400 
3250 IF N#1 THEN 3260 

3252 PRINT "l"; 

3254 RETURN 
3260 IF N#2 THEN 3270 

3262 PRINT "2"| 

3264 RETURN 
3270 IF N#3 THEN 3280 

3272 PRINT "3"; 

3274 RETURN 
3280 IF N#4 THEN 3290 

3282 PRINT "4"| 

3284 RETURN 


7i< 



3290 IF N#5 THEN 3300 
3292 PRINT "5"? 

3294 RETURN 

3300 IF N#6 THEN 3310 

3302 PRINT "6"; 

3304 RETURN 

3310 IF N#7 THEN 3320 

3312 PRINT "7"; 

3314 RETURN 

3320 IF N#8 THEN 3330 

3322 PRINT "8"? 

3324 RETURN 

3330 IF N#9 THEN 3340 

3332 PRINT "9*1 

3334 RETURN 

3340 PRINT "0"| 

itio RPTIIRM 

3400 PRINT TAB(62)|.1*INTU0*P> 

3402 IF W1#0 THEN 3408 

3404 IF W2#0 THEN 3408 

3405 LET X=Q4=0 

3406 GOTO 3426 

3408 PRINT "LOG INT/MIC = "| 

3410 IF W1=0 THEN 3414 

3411 LET Q4=FNI(WI) 

3412 PRINT Q4 | 

3413 IF W2=0 THEN 3425 

3414 LET Q4=FNI(W2) 

3415 PRINT Q4| 

3416 IF V1=0 THEN 3425 

3417 LET X= *5*< W1+W2) 

3418 LET Q4=FNI(X) 

3419 PRINT Q4) 

3420 PRINT "DELTA = *X| 

3425 PRI NT 

3426 PRINT "DBM =". l*INT(10*Y)f"GAIN ="30-G; "STEPS =“Y1 |"ACCURACY 

3499 REM ** CALCULATE FREQUENCY MEASUREMENT UNCERTAINTY ** 

3500 IF W1 =0 THEN 3510 
3504 IF V2=0 THEN 3516 

3506 LET E4 z E44X+4 • 00000E-02* F5+. 2*ABS ( Wt - W2) 

3508 GOTO 3518 

3510 IF W2#0 THEN 3516 

3512 LET E4=F5*C.2+.15*E4) 

3514 GOTO 3518 

3516 LET £4=(E4+.25)*ABS<W1-W2> 

3518 IF SI «= 60 THEN 3530 

3520 LET E4=E4+2.00000E~02*(Si-50)t2 

3530 IF E4> 10 THEN 3560 

3540 LET E4M0 

3550 GOTO 3680 

3560 IF E4>20 THEN 3590 

3570 LET E4=20 

3580 SOTO 3680 

3590 IF E4*50 THEN 3620 

3600 LET E4 = 50 

3610 GOTO 3680 

3620 IF E4>100 THEN 3650 



3630 LET E4= 100 
3 640 GOTO 3680 
3650 LET E4=200 
3680 PRINT E4 | "KHZ" 

3700 PRINT "-20 LOG CAP GAMMA ="1 .00000E-02*INT(100*(2*S1-Y>) 
3710 LET L0-L0+4 
3712 LET Q3=0 

3719 REM ** DETERMINE LINE TYPE CODE ** 

3720 IF X#0 THEN 3730 
3 722 LET Q3=l 

3724 GOTO 3760 

3730 IF W}#0 THEN 3740 

3732 LET «3=2 

3 734 GOTO 3760 

3740 IF U2#0 THEN 3750 

3742 LET Q3=3 

3744 GOTO 3760 

3750 IF ABS(Vl-W2)/X<5.00000E-02 THEN 3760 

3752 LET Q3=4 

5 760 GOSUB 8000 

3770 IF X=0 THEN 3800 

3772 IF V2-0 THEN 3780 

3 774 LET W4=W2 

3776 GOTO 3800 

3780 LET tM = X 

3799 REM ** ROUND DATA IF NECESSARY AND STORE ON DISC ** 

3800 LET ZID21=F1 
3802 LET ZID2+1 ]=F2 

5804 LET ZID2+21=1.00000E-03*E4 

3810 IF Q3>0 THEN 3840 

3812 IF SI <= 60.5 THEN 3822 

3814 LET Q3=5 

3816 GOTO 3840 

3822 IF E5=0 THEN 3834 

3824 LET Q3=6 

3834 LET ZID2+3 J= . 1*INT< 10*S1+ .5 ) 

3836 LET ZID2+41s. 1*INT< 10*Q4+.5) 

3838 GOTO 3850 

3840 LET ZlD2+3]=INT(Sl+.5> 

3842 LET Zt D2+4 Jz INT< Q4+.5) 

3850 LET ZID2+5 )= 1 ,00000E-03*INT(2. 135+V+.5) 

3852 IF E5=0 THEN 3856 
3854 LET Zl D2+5 J=-Zt D2+5 1 
3856 LET Z[D2+61= INTIY+.5) 

3858 LET ZtD2+7]=D3 
3860 LET ZtD2+81=INT(P+.5) 

3862 LET Z(D2+9]:Q3 
3870 LET D2=D2+10 
3875 LET N9=N9+1 
3880 CALL <3,zm,l f Dl) 

3890 IF D2<29 THEN 3950 
3900 LET D1=D1+1 
3902 LET D2=Zt32] 

3910 MAT Z=ZER 
3912 LET ZI32]=D2 
3920 LET D2=i 
3930 CALL (3 f Ztn,l,Dl) 


73 < 



3935 PRI NT 

3940 PRINT " SECTOR "Dl-1 ;"FULL" 

3942 PRINT 
3944 LET L0=L0+3 
3946 GOSUB 8000 
3 950 PRINT 
3960 LET L0=L0+1 
3970 LET F4=-F4 
3980 GOSUB 7000 
3990 GOSUB 4400 
4000 CALL (25,110,1,3) 

4002 LET G=I0*INT( ,l*G+.3) 

4008 IF V= V0 THEN 4015 
4010 LET V= V0 
4012 GOSUB 5200 
4015 CALL (27, 1 10- G) 

4018 LET E4= 1 

4020 LET S0=32767 

4022 LET W0=(2*W0+F5)/3 

4024 LET X=2,3*W0 

4026 GOSUB 4610 

4030 LET F4=INT(.5*F5+.l) 

4035 GOSUB 7000 

4040 CALL (20, FI ,F2,F3) 

4050 WAIT (T) 

4100 GOSUB 5000 

4120 IF S>3500 THEN 4200 

4130 IF G >= G0 THEN 4300 

4132 IF F4 »= 1 ,33*F5 THEN 4140 

4134 LET F4=F4+50 

4140 LET G= G+l 0 

4142 IF G <= G0 THEN 4150 

4144 LET G=G0 

4146 GOTO 4300 

4150 CALL (27,1 10-G) 

4160 WAIT (T) 

4170 LET S0=3.17*S0 

4180 LET S=3.17*S 

4200 IF S<1.02*S0 THEN 4260 

4210 CALL (25,110,1,2) 

4229 REM ** ANOTHER LINE HERE, RETURN TO PEAK FINDING MODE ** 

4230 GOTO 800 
4260 GOSUB 7000 
4270 LET S0=S 
4280 GOTO 4040 

4300 CALL (25,110,1,2) 

4310 LET F4=INT(1 ,33«F54,5) 

4319 REM ** SIGNAL BELOW THRESHHOLD, RETURN TO SEARCH MODE ** 

4320 GOTO 9000 

4399 REM ** SUBROUTINE TO ADJUST CRYSTAL CURRENT ** 

4400 CALL (35,5,3,Y1) 

4410 LET Yl= INT(2,00000E-02* (Y1+A0) ) 

4420 CALL (22,SGN( Y1 ) ) 

4430 IF Yl #0 THEN 4400 
4440 RETURN 

4499 REM ** SUBROUTINE TO CHOOSE PROPER STEP SIZE ** 

4500 IF ABS (P15 1-PI56D/CPI5 1+PI56] )<, 1 5 THEN 4506 

74 < 



4501 IF P[5 )<P[561 THEN 4504 

4502 LET S1-P1561 
450J GOTO 4507 

4504 LETS1 = PC5 1 

4505 GOTO 4507 

4506 LET S1=.5*(P15 J+PC561) 

4507 LET X0=F5 

4508 LET F5=(2.5*F5)t2 
4510 LET Ys.5*Sl/S0 

4520 FOR X=90 TO 990 STEP 20 
4530 IF Y- X t2 / < F5 +X 1 2 ) <0 THEN 4560 
4540 NEXT X 

4542 LET F5=SQRC F5 ) /2.5 
4544 IF W1>0 THEN 4610 
4546 IF V2>0 THEN 4610 
4550 PRINT "*W" 

4555 RETURN 

4560 LET F5=SQR(F5)/2.5 

4610 IF X> 1 10 THEN 4650 

4615 IF F5=50 THEN 4640 

4620 LET F4=F4*(J-30)+3*<F5-50> 

4630 LET F5 = 50 

4640 RETURN 

4650 IF X>230 THEN 4690 

4655 IF F5= 100 THEN 4680 

4660 LET F4=F4*(J-30)+3*<F5-100> 

4670 LET F5=100 
4680 RETURN 

4690 IF X>350 THEN 4730 

4695 IF F5=150 THEN 4720 

4700 LET F4=F4*(J-30)+3*(F5-150) 

4710 LET F5= 150 

4720 RETURN 

4730 IF X*470 THEN 4770 

4735 IF F5=200 THEN 4760 

4740 LET F4=F4*<J-30>+3*(F5-200> 

4750 LET F5=200 
4760 RETURN 

4770 IF X»590 THEN 4810 

4775 IF F5=250 THEN 4800 

4780 LET F4=F4*(J-30)+3*<F5-250> 

4790 LET F5=250 
4800 RETURN 

4810 IF X»7!0 THEN 4850 

4815 IF F5=300 THEN 4840 

4820 LET F4=F4*(J-30)+3*(F5-300) 

4830 LET F5:300 
4840 RETURN 

4850 IF F5:350 THEN 4870 

4855 LET F4=F4*(J-30)+3*(F5-350) 

4860 LET F5:350 
4870 RETUR N 

4999 REM ** SUBROUTINE TO DO TIME INTEGRATION OF SIGNAL ** 

5000 LET NsINT(2.00000E-02*(G-30>»2+.2>+2 
5030 LET Ys0 
5040 FOR J=l TO N 
5050 GOSUB 6000 


75 < 



5060 

LET Y=Y+S 



5070 

NEXT J 



5080 

LET S=Y/N 



5090 

RETURN 



5199 

REM ** SUBROUTINE TO SET STARK BASELINE AND 

MODULATION VOLTAGES ** 

5200 

LET E0=100 



5210 

CALL (26,E0,V) 



5212 

WAIT <T> 



5213 

LET E3=.25*V 



5214 

IF G<80 THEN 5216 



5215 

LET E3=E3+1.00000E-02*(G-70)*V 



5216 

RETURN 



5220 

GOSUB 5200 



5221 

IF E4=0 THEN 5238 



5222 

IF E4=-l THEN 5226 



5223 

IF E[ V/200-3 )=0 THEN 5242 



5224 

LET E0= El V/200-3 1 



5225 

GOTO 5236 



5226 

GOSUB 5000 



5227 

LET X=S 



5228 

CALL (26, E0+25 , V) 



5229 

WAIT <T) 



5230 

GOSUB 5000 



5232 

IF S«.99*X THEN 5240 



5234 

LET E4=E5=0 



5236 

GOSUB 5210 



5238 

RETURN 



5240 

LET E5= 1 



5241 

LET E4=.1*SQR(50*ABS(X-S)/X) 



5242 

LET E0=E0+1.50000E-02*V-9 



5244 

GOSUB 5210 



5246 

GOSUB 5000 



5248 

LET X=S 



5250 

LET E0=E0-3 



5252 

GOSUB 5210 



5254 

GOSUB 5000 



5256 

IF S<.99?*X THEN 5262 



5258 

LET X=S 



5260 

GOTO 5250 



5262 

LET E0 = E0+5 



5264 

GOSUB 5210 



5266 

LET El V/200-3 ]=E0 



5268 

RETURN 



5999 

REM ** SUBROUTINE TO CHECK PHASE LOCK AND MEASURE 

SIGNAL ** 

6000 

CALL (30, S) 



6010 

CALL (32, L) 



6020 

IF L<- . 1 5 THEN 6100 



6030 

CALL (14, T1 ,T2,T3) 



6035 

CALL (32, L) 



6040 

IF L >= -.15 THEN 6046 



6042 

WAIT (T) 



6044 

GOTO 6000 



6046 

CALL (14,T4,T5,T6> 



6050 

IF T4-Tl+(T5-T2)/60+(T6-T3)/3600>5.00000E-04 

THEN 

6060 

6055 

GOTO 6035 



6059 

REM ** RING BELL, NOTIFY OPERATOR OF LOSS OF 

LOCK 


6060 

PRINT *** 100*T1+T2+1 ,00000E-02*T3 |"*LOCK" 




7 '£« 





6070 

6050 

6085 

6090 

6100 

6H0 

6120 

6999 

7000 
7010 
7020 
7050 
7050 
7060 
7070 
7100 
7110 
7120 

7999 

8000 
8010 
8015 
8018 
8020 
8022 
8024 
8026 
8028 
8050 
8050 
8060 
8070 
8080 
8090 
8100 
8110 
8120 

8999 

9000 
9100 
9510 
9520 
9550 

9980 

9981 

9982 
9985 
9984 

9988 

9989 

9990 

9991 

9992 
9995 

9994 

9995 

9998 

9999 


LET L0=L0+2 
PRINT "GO"j 
INPUT S 
GOTO 6000 

IF S=-52768. THEN 6010 
CALL (51, S) 

RETURN 

REM ** SUBROUTINE TO INCREMENT FREQUENCY VARIABLES ** 

LET F2= INT(F2+F4) 

IF F2»9999 THEN 7050 
IF F2«0 THEN 7100 
RETURN 

LET F2= I NT ( F2- 1 0000+ » 1 ) 

LET Fi=Fl+l 
RETUR N 

LET F2= INT( 10000+F2+. 1 ) 

LET F1=F1-1 
R ETUR N 

REM ** SUBROUTINE TO TURN PAGES AND PRINT HEADINGS ** 

IF L0>55 THEN 8015 
RETURN 

IF L0>90 THEN 8100 

REM ** PUT A FORM FEED COMMAND IN LINE 8018 ** 

LET L0=7 
CALL (56.1.5.X) 

CALL (14, T1 ,T2,T5) 

PRINT " TEMP ="INT(FNT(X)+.5);"DEG K AT" 100*Tl+T2+l ,00000E-02*T5 
PRINT 

LET L0=L0+2 

PRINT " TIME"TAB(14)"FI"TAB(22)"F2"TAB(51 ); 

PRINT "INT"TAB(42)"L0 W"TAB<49)"HI W"; 

PRINT TAB(55)"KV/CM"TAB(62)"MT0RR" 

PRINT 

RETURN 

REM ** PUT A VERTICAL TAB COMMAND IN LINE 8100 ** 

LET L0=15 
GOTO 8022 

REM ** END OF FREQUENCY STEPPING LOOP FOR SEARCH MODE ** 

IF F1«F THEN 710 

IF 10*F1+1 . 00000 E-05* F2 «= F9+1 .00000 E-05*F4 THEN 710 
PRINT 

PRINT N9;"LI NES ON SECTORS"; 

PRINT D0;"TO"D1; "W0RD";D2-1 
PRINT 


PRINT 

LET L0=L0+4 

REM ** REQUEST NEW FREQUENCY RANGE TO COVER ** 

GOTO 200 

REM ** TO END RUN AFTER INITIAL FREQUENCY RANGE IS COVERED, 

REM ** DELETE 9984. FOLLOWING RETURNS SYSTEM TO MANUAL MODE ** 


CALL (25,0,1,5) 
CALL (15, At 1),0) 
CALL (26,0, ~1 ) 

CALL (22,0) 

CALL (27,-1) 

CALL (20,2650,0,0) 
CALL ( 15, -1,-1 ,-1 ) 
END 


77 < 



BASIC PROGRAM 20DB CROSS REFERENCE 
VARIABLES 


A( 31) 

0010 

0018 

9991 





A0 

OO85 

4410 






Al 

OOU4. 

0016 

2754 

2920 




A3 

0180 

3755 

3765 

3785 




Cl 

0030 

0035 

0040 

11892 

2705 



C2 

0030 

0035 

0040 

1292 

2705 



C3 

0030 

0035 

0040 

1292 

2705 



C4 

2705 

2730 

2736 

3000 




G5 

001+0 

2730 

2756 





D0 

0044 

0046 

9330 





D1 

OOlj.6 

0032 

3880 

3900 

3930 

3940 

9330 

D2 

0044 

384.0 

3862 

0050 

38^0 

3800 

3850 

3890 

3802; 

3854 

5902 

3804 

3856 

3912 

3834 

3838 

3920 

3836 

3860 

9330 

D3 

1504. 

3858 






E{ 6 ) 

0010 

0056 

5223 

5224 

5266 




5200 

3266 

5210 

3224 

5228 

5242 

3230 

5262 

S3 

1012 

1020 

1044 

1310 

5213 

5215 


E4 

0801 

556° 

3680 

3506 

m 

3512 

3590 

4.018 

3516 

3600 

5221 

3520 

3620 

5222 

3530 

3630 

5234 

3540 

3650 

5241 

S5 

3102 

3822 

3832 

5234 

5240 



F 

0210 

0270 

0280 

0330 

9000 



F0 

0242 

2652 

0954 

2900 

0986 

2082 

2352 

2375 

2405 


7S< 



BASIC PROGRAM 20DB CROSS REFERENCE 
VARIABLES 


FI 0270 0280 0290 

0900 0945 09%. 

II63 1239 1275 

2650 2652 2950 

7110 9000 9100 

F2 0280 0290 0710 

0998 0986 0990 

1281 1295 1296 

2652 2660 2680 

7000 7010 7020 

F3 0 2 l ±2 O67O 0672 

0725 0730 07LO 

0958 0990 1160 

2930 I4.040 

F4 0700 O792 0800 

1140 1185 1260 

2050 2080 2244- 

2510 2530 2600 

1*132 4.134. 4310 

4780 4820 5855 

F5 0075 0080 0700 

095I4. 0986 llko 

2330 2552 2360 

3506 3312 4022 

4508 kS30 L.542 

lj.655 4060 I4670 

till 

f6 1165 1274 1294 

2405 2620 

F7 1170 1276 1295 

2352 2370 2375 

F9 0230 0330 9100 


0670 0710 0720 081I4. 

0998 0986 0990 1160 

1281 1294. 1296 2620 

3000 3800 4-04-0 7060 


0814 0900 0943 0934 
1160 1170 1259 1276 
2600 2610 2630 2630 
2930 3000 3802 4040 
7050 7100 9100 

0680 0690 0710 0720 
076.2 0814 0900 0943 
1239 1281 1296 2650 


0855 0904 0930 0930 
1264 1276 1278 2042 
2290 2366 2370 2400 
2950 2960 3970 4030 
4620 4660 4700 4740 


0800 0853 0904 0930 

1185 2030 2082 2315 

2366 2370 2375 2400 

4030 4132 4310 4507 

4560 4^15 4-620 4°3 o 

4695 4700 4710 4753 

|^80 4790 4 o 15 4o20 

2042 2082 2352 2373 


2042 2080 2244 2290 

2400 2405 2600 


G 0120 0300 0824 0826 0840 0842 0850 

0862 0962 0970 0980 1102 1106 1108 

1110 1112 1116 1195 2800 3426 4002 

4015 4130 4140 4142 4144 4-150 5000 

5214 5215 


73 < 



BASIC PROGRAM 20DB CROSS REFERENCE 


VARIABLES 


Gp 

0092 

4130 

009k 

i *!42 

0102 

klkk 

0120 

082k 

0962 

1102 

I 

0007 

0008 

0009 

1236 

1290 

1 



10 

2720 

2850 

2722 

2870 

1 

2732 

2875 

2760 

2&90 

2810 ; 

2820 

28k0 

11 

0009 

2752 

2756 

2760 

2772 



12 

27^0 

271+2 

274 k 





Ik 

0672 

O69O 

07ko 

0742 




15 

2732 

27142 

274 k 





J 

1238 

1288 

1521 

1775 

2026 

2oai 

124.3 

1512 

1530 

1780 

203k 

2090 

2600 

1+820 

124 k 

151 k 

1710 

200k 

2036 

2200 

2$55 

U 855 

12 k 5 

1316 

1720 

2006 

2037 

2250 

k&20 

50 k 0 

12 k 9 

1500 

1730 

201k 

20 k 9 

m°o 

5070 

1250 

1510 

1760 

2020 

2050 

2k00 

k 700 

128k 

1520 

1765 

202k 

2070 

2500 

k 7 kO 

ji 

1210 

1238 

125 k 

1256 

1270 

128k 

1286 

J 2 

1212 

1238 

1258 

1272 

1286 

1288 


J 3 

121k 

1238 

1252 

1282 




K 

2200 

2280 

2210 

2290 

2230 

22k0 

22kk 

2250 

2260 

L 

6010 

6020 

6035 

6oko 




LfS 

0060 

6070 

0225 

8000 

204k 

8015 

2892 

8020 

371 ° 
8030 , 

394 k 

8110 

5960 

9982 

N 

1195 ' 

3250 

3320 

1200 

3260 

3330 

1236 

3^70 

5000 

5112 

3280 

50 k 0 

3160 

3290 

5080 

3180 

3300 

3190 

3310 

N( 60 ) 

1220 

1232 

12 k 5 

124 k 

12^5 



N0 

123k 

125 k 

1258 

1260 

1264. 

1267 

1273 


80 < 


i 



BASIC PROGRAM 20DB CROSS REFERENCE 
VARIABLES 


N9 02 1+2 5B?5 9320 

p 0110 1293 2710 3400 3860 

p(60) 0010 li;10 l[|.ll II4.30 lk31 111 50 lk51 

1470 14.71 14-90 lk91 1520 1521 1560 

lS6l 1S90 1591 1620 1621 1650 I63I 

1680 1681 1720 1765 2006 2026 2090 

2210 2244. 2260 2290 2510 2350 2635 

4500 4301 4502 4504 4506 


$3 3712 3722 3732 3742 3732 3810 3B14 

3824 3o62 



s 0790 0802 0806 0810 0820 0822 0860 

O88O 0912 0920 1012 1020 102/+ 1026 

1036 1044 1046 1048 1248 4120 4l80 

4200 4270 5060 3080 9227 5232 5241 

3248 9236 3238 6000 6085 6100 6110 

S(60) 1220 1230 1243 1248 1249 1314 1400 

1410 1420 1430 1440 1430 I46O 1470 

1480 1490 1510 1320 1540 1550 1560 

I57O 1980 1990 1600 1610 1620 1630 

1640 1660 1670 1720 1765 1775 

50 1245 1246 1248 2080 2090 2210 2244 

2260 2290 2655 2800 2824 2910 4020 

4170 4200 4270 4510 

51 0110 0 880 0920 0960 0984 1012 1024 

1026 1036 1046 1048 1100 1104 1114 

1216 2820 2824 2850 2873 2900 2910 

2915 2940 3010 3518 3520 3700 3812 

3834 384.O 4502 4.504 4506 4510 

t 0244 0310 0844 0853 0902 0947 0982 

1000 1125 1283 4050 4160 5212 5229 

6042 

T0 0240 0244 08l6 H98 1200 1241 

T1 6050 6050 6060 8024 8026 

81 <- 



BASIC PROGRAM 20DB CROSS REFERENCE 


VARIABLES 


T 2 

6030 

6050 

6060 

8024 

8026 



T 3 

6030 

6050 

6060 

8024 

8026 



Tl|. 

60I4.6 

6050 






T 5 

6046 

6050 






:6 

60^6 

6050 






U 0 

1700 
... 2022 

1720 

2028 

1750 

2032 

1765 

2000 

2008 

2021 

U 7 

1318 

lo90 

1732 

1740 




V 

0150 
1 ‘ 1052 
4010 
5242 

1014 

1060 

3210 

3266 

1022 

1070 

3213 

1030 

1080 

5215 

1054 

3100 

5225 

1038 

3850 

5224 

1050 

4008 

5228 

V 0 

0130 

0130 

1004 

1030 

4008 

4010 


VI 

1004. 

1030 

1034 

1032 

1000 



w# 

0080 

4022 

4024 





W1 

2232 

2662 

3411 

3750 

g» 

8K 

2300 

2670 

3417 

2330 

2672 

3500 

2400 

3010 

3506 

2658 

3402 

3316 

2660 

3410 

3730 

W2 

2282 

2680 

3^13 

3740 

2290 

2682 

34*4 

3750 

2310 

2684 

5417 

3772 

2330 

2690 

3504 

3774 

2330 

2692 

2370 

3010 

3510 

2678 

5404 

3316 

«4 

0080 

3405 

3774 

3780 




X 

12^5 

1420 

1490 

1580 

1650 

2020 

2530 

3100 

1246 

1430 

1310 

isgo 

looQ 

2036 

2350 

3112 

1248 

1440 

1520 

1600 

1670 

2037 

2570 

3160 

1310 

1450 

1340 

1610 

1680 

2080 

2700 

3180 

!8S 

1550 

1620 

1740 

2084 

2710 

3190 

1400 

1470 

1560 

1630 

1770 

2300 

2715 

3405 

1410 

1480 

1570 

l64o 

1790 

2510 

2920 

3417 


83 < 



BASIC PROGRAM 20DB GROSS REFSRSNCB 
VARIABLBS 



2£t 

14-730 

5256 

3425 

4520 

4770 

5298 

3506 

4530 

4810 

8022 

X0 

0070 

0110 

2360 

Y 

110I1 

2560 

I4.550 

1106 

2600 

5030 

1112 

2920 

5060 

Y 0 

1216 

1521 

12k9 

1561 

l4ll 

1591 

Y1 

2510 

4420 

m 

2560 

Y2 

2550 

2560 


Z(32) 

0010 

5930 

0048 

5856 

5860 

0092 

38kO 

3862 


SB 

5227 

8026 

m ° 0 

5232 

m ° 0 

5241 

mss 

5248 

4507 




1112 

5426 

5080 

1300 

3700 

1302 

3856 

1304 

4510 

1431 

1621 

1451 

1651 

$11 

1491 

2950 

31+26 

1+4.00 

14410 

OO94 

5880 

3800 

3850 

3902 

3802 

3854 

3910 

385^ 

3912 


/ 


Q3< 



BASIC PROGRAM 20DB CROSS REFERENCE 
SUBROUTINES 


03 

0052 

5880 

3930 





13 

0035 

9998 






Ik 

1292 

6050 

6046 

8024 




15 

0018 

9991 






17 

12k9 

1361 

1411 

1591 

1431 

1621 

1451 

1631 

mi 

1491 

1521 

20 

0054 

0990 

I+040 

0290 

ll60 

9995 

0710 

1239 

08l4 

1281 

0900 

1296 

0945 

2630 

0958 

2930 

22 

27514. 

2748 

2758 

4420 

9993 



25 

0011 

9990 

0505 

0851 

1130 

4000 

4210 

4300 

27 

0012 . 
lj.150 

0300 

9994 

0842 

0850 

0980 

1116 

4015 

30 

6000 







31 

6110 







32 

6010 

6035 






35 

0008 

2754 

0016 

1*400 

1293 

2715 

2720 

2740 

2752 

36 

0014 

1300 

8022 






84 < 



BASIC PROGRAM 20DB CROSS REFERENCE 
STATEMENT NUMBERS 


00514. 

0050 


0200 

9901*. 


0700 

0680 

■ 

0710 

9000 

9100 

0714-0 

0725 


0750 

0714.0 


0760 

0714-6 


0800 

14230 


0810 

0802 

0820 

0812 

O8I4.6 


0814.0 

0810 


08142 

0828 

0916 

O85O 

0806 

O86I4. 

0851 

0822 


O858 

0855 

0950 

0860 

0857 

0920 

0880 

0860 


0910 

09 Oil. 


0912 

0908 


0920 

0912 


0958 

09514. 


0970 

0962 


0986 

0960 



85 < 



BASIC PROGRAM 20DB CROSS REFERENCE 


STATEMENT NUMBERS 


0990 

1030 

1034 

1036 

1038 

1060 

1070 

1080 

1100 

1114 

1120 

1150 

ll60 

1210 

1270 

1278 

1280 

li+OO 

1780 

2000 

2012 

20Uj. 

2020 


0986 

1024 

1050 

1032 

1026 

10^6 

1048 

1028 

1052 

1108 

1100 

2360 

2062 

1198 

1256 

1252 

1268 

1790 

1765 

1690 

2006 

2008 


1060 

1070 


1062 

1102 


2010 


BS< 



BASIC PROGRAM 20 DB CROSS REFERENCE 
STATEMENT NUMBERS 


2032 2026 

2054 2028 

2036 2030 

20 42 2016 2035 

201+9 2038 2082 2086 

2030 2072 

2070 201*9 

2080 2036 

2090 2070 

2250 2310 

2252 221+0 

221+0 2220 

2250 2238 

2280 2260 

2290 2270 

2300 2281+ 

2350 2300 

2356 2330 

2360 2390 21+30 

2370 2330 

21+00 2310 

2500 2315 231+0 

21+05 

2510 21+05 


2352 2368 2370 

S 7 < 


2375 


21+00 



BASIC PROGRAM 20 DB CROSS REFERENCE 
STATEMENT NUMBERS 


2550 

2520 



2650 

2610 



2670 

2662 



2678 

2658 

2666 

2670 

2690 

2682 



2700 

2678 

2686 

2690 

2720 

4722 



2738 

271*6 



27I4.8 

271*2 



2760 

2750 



2824 

2860 

2880 


281*0 

2810 



2870 

281*0 



2875 

2891* 



2890 

2870 



2900 

2830 



3110 

3102 



3112 

3106 



5250 

3120 

3170 

3200 

3260 

3250 



3270 

3260 



3280 

5270 



3290 

3280 




88 ^ 



BASIC PROGRAM- 20DB GROSS REFERENCE 
STATEMENT NUMBERS 


3300 

3290 


3310 

3300 


3320 

3310 


3330 

3320 


334-0 

3330 


34.00 

3210 


3408 

34-02 

3404 

34-14- 

3410 


3425 

34J-3 

3416 

3426 

34-06 


3510 

3500 . 


3516 

3504 

3510 

3518 

3508 

3314 

3560 

3550 


3590 

3560 


3620 

3590 


5650 

3620 


3680 

3550 

3580 

3730 

3720 


374-0 

3730 


3750 

3740 


3760 

3724 

5734 

5780 

3772 



3610 


364O 


3744 3750 



BA. SIC PROGRAM 20 DB CROSS REFERENCE 
STATEMENT NUMBERS 


3800 

5770 

3822 

3812 

384.0 

5810 

3850 

3838 

3856 

3852 

3950 

3890 

4000 

. 0988 

4015 

4008 

4030 

0956 

4040 

4280 

4140 

4132 

4150 

4142 

4200 

4120 

4260 

4200 

4300 

0966 

4310 

0808 

4400 

0674 

4500 

2356 

4504 

4501 

4506 

4500 

4507 

4503 

4560 

4530 

4610 

4026 


3776 

3816 


2047 


I4.150 4*46 

08&4 

0744 0995 

2380 2ip.O 


4505 


3990 


4430 


4544 4546 



BASIC PROGRAM 20DB CROSS REFERENCE 


STATEMENT NUMBER 


4^40 

4615 



4650 

4610 



4680 

4655 



4690 

4650 



4720 

4695 



4730 

4690 



476 o 

4735 



4770 

4730 



48 oo 

4775 



4810 

4770 



484 o 

4815 



4850 

4810 



4870 

4850 



5000 

0858 

5230 

0910 

5246 

1010 

5254 

52 uo 

0246 

4012 

5220 

5210 

5236 

5244 

5252 

5213 

1120 



5216 

5214 



5220 

1002 

1016 

1040 

5226 

5222 



5236 

5225 



5258 

5221 



5240 

5232 




1018 101+2 4100 

5261+ 


1082 


5226 



BASIC PROGRAM 20DB CROSS REFERENCE 
STATEMENT numbers 


52l*2 

5223 


5230 

5260 


3262 

5236 


6000 

O76O 

604i+ 

O8O4 

6090 

6010 

6x00 


6035 

6035 


6046 

60I4.0 


6060 

6030 


6lOO 

6020 


7000 

0713 

1240 

4260 

0794 

1262 

7030 

7010 


7100 

7020 


8000 

0320 

20i+6 

8013 

8000 


8022 

8120 


8100 

8015 


9000 

0790 

1+320 


0818 0856 0906 1247 


0812 0890 091+0 0952 

1280 2060 2970 3980 


3760 3946 


5050 


1150 

i+033 



APPENDIX C 


SAMPLE DATA OUTPUT 

Thi» appendix contains a page from part of the spectrum run on pyrrole. 
The program start up procedure at the top of the page is explained by 
comments Inserted in the program listing* 

The data output is interpreted as follows: as an example, consider the 

first measurement on section 32. At approximately 11:59 a line was measured 
at 33 351.222 MBs. The intensity, in the form -10 logT, was 56.98. The 
lower halfwidth was 273 kHz and the upper balfwidth was 266 kHz, giving an 
average of 269*5 kHz for the llnewidth . The measurement was made at a 
Stark field of 2.14 kV/cm and a sample pressure of 9.9 millitorr. The 
integrated intensity per unit pressure, in the form -10 logTd/P, was 42.58, 
42.7, and 42.64 for the lower, upper, and average values of balfwidth, 
respectively. The power level at the detector was -16.8 dBm, the range 
setting -50, and 15 kHz steps were used during the measurement. The measure- 
ment uncertainty is 10 kHz. Finally, -20 logP was 130.74 (see reference 2 
for a discussion of this quantity). 

For lines with a sensitive Stark effect, an. rt S" appears Immediately 
before the Stark field value. 



35 



ATTEN AT MAX71 
TIME? I 1,20,0 

DISC SECTOR AND W0RD?31,11 

ID #776 4 

RANGE7-60 

START FREQ?329t>2 

END FREQ734000 


TEMP = 298 DEG K AT 1128.44 

TIME FI F2 INT LO W HI W KV/CM MTORR 

1133.96 329b 3197 52.23 244 245 2.99 10 

LOG INT/MIC = 38.37 38.36 38.36 DELTA = 244.5 

DBM =-17.1 GAIN =-40 STEPS = 15 ACCURACY = 10 KHZ 

-20 LOG CAP GAMMA = 121 .49 

1146.4 3330 747 53.65 267 263 2.14 9.9 

LOG INT/MIC = 39.56 39.35 39.36 DELTA = 267.5 

DBM =-17.1 GAIN =-40 STEPS = 15 ACCURACY = 10 KHZ 

-20 LOG CAP GAMMA = 124,39 

SECTOR 31 FULL 


1158.52 3335 1222 56.98 273 266 2.14 9.9 

LOG INT/MIC = 42.58 42.7 42.64 DELTA = 269.5 

DBM =- 1 6 .5 GAIN =-50 STEPS = 15 ACCURACY = 10 KHZ 

-20 LOG CAP GAMMA = 130.74 

1211,76 3337 1937 64.35 251 243 2.14 10 

LOG INT/MIC = 50.38 50.52 50.45 DELTA = 247 

DBM =-17.1 GAIN =-60 STEPS = 15 ACCURACY = 20 KHZ 

-20 LOG CAP GAMMA = 145.75 

1230.12 3362 1667 64.82 269 261 2.99 10 

LOG INT/MIC = 50.56 50.69 50.62 DtLTA = 265 

DBM =-17.5 GAIN =-60 STEPS = 15 ACCURACY = 20 KHZ 

-20 LOG CAP GAMMA = 147.09 

SECTOR 32 FULL 


1240.08 3388 7997 51.92 276 259 2.14 10 

LOG INT/MIC = 37.53 37.8 37.66 DELTA = 267.5 

DBM =-17.7 GAIN =-40 STEPS = 15 ACCURACY = 10 KHZ 

-20 LOG CAP GAMMA = 121.52 

1257.12 3395 8693 64.6 265 0 2.56 10 

LOG INT/MIC = 50.39 

DBM =-17.8 GAIN =-60 STEPS = 15 ACCURACY = 100 KHZ 

-20 LOG CAP GAMMA = 146.97- 

94 ' < 





COMPUTER SUBSYSTEM 


MICROWAVE SPECTROMETER 


PHOTO- 


HIGH 


LARGE 

READER 


SPEED 


SCREEN 



PUNCH 


OSCILLOSCOPE 

2737A . 


2753a 


343A 



MAGNETIC 

TAPE 

UNIT 

2020B 


CENTRAL 
CONTROLLER! 


2116 b 



DISC 

MEMORY 

2770A 


1 


MEASUREMENT 

OP 

SIGNAL 


SPECTROMETER 

CONTROL 

FREQUENCY 

POWER 

GAIN 

STARK FIELD 

PERIOD 

CALIBRATION 


STATUS 

MONITORING 

POWER 
PRESSURE 
TEMPERATURE 
PHASE LOCK 
XTAL CURRENT 
STARK FIELD 


Figure 1, Overall block diagram of automated spectrometer system. 






C£> 

Cn 

A 



Figure 2.- Stabilized digital microwave source 




I 


C£ 

A 



Figure 5 ,-Detedtion, calibration, and status monitoring system. 








2,26 RPM DC MOTOR MUST BB 
ISOLATSD prom ground 



Pigure ij_. Power attenuator control wiring diagram 


F^LAY REGISTER 2 


0 

✓ 

v 


10 

L 


IS 

M 


1 ? 


t 


t 


' t 


13 

P 


111 - 

R 


15 

s 


l 6 


t 


t. 

t 


* t 



t 






■4 


-> 




t 


aaa/ 1 — i — omarm. 


AAV©- 

R 


T 


#- 


T 

L 


A /v/vw-Anfirrrri — * 2 ab 


A/VV 


I 


-41 


1 db 


A 


4 




355B 


AAAA-r-^wrnb 

r - L — - 44 — 


■Wvr©- 


R 


5 db 


■^VW ' T 4 6 db^ 

1 < 3 — 


A/YV@- 




p-- ■ j — + 10 dbN 

! . r . 1 1 


1 — W\A^0 


R 


W\A^r ~ rm ^ nn — I 20 db 

r - — ^-w — - 


AAA — 

R 



AAA~®~ 


rrrn- 

W — 


] W\A — — ■ 60 db^ 

1 m 


A/W-© 


TO V +50 VDO POWBR SUPPLY 
All diodea are 1N3191. 


/> 555F 


30 db 


R = 130 ohms 
3 watts 


, r =. 820 ohms 

3 watts 



TO 30 VDG POWBR SUPPLY 

J . J 


£ 

g 115 VAC 

Figure 3. Gain attenuator control wiring diagram. ; 3 $< 


Lamps are 6 volt lj.0 ma. 




MODUL, NO. 1 GND-BASE MONITOR 
MODUL. NO. 2 GND-BASE MONITOR 
8709 SERVO OUT (PHASE ERROR) 

+6 VDC SUPPLY 

PWR ATTEN REVERSING RELAY COIL 
CRYSTAL CURRENT OUT PROM 8J+26 

DETECTOR POWER METER OUT 

PRESSURE GAUGE OUT 

TEMPERATURE GAUGE OUT 
VOLTAGE/FREQ. CONVERTER NO. 2 IN 

THERMISTOR PROBE NO. 1 

THERMISTOR PROBE NO. 2 
TEMPERATURE GAUGE PROBE IN 

MODULATORS REMOTE/ MANUAL CONTROL 
+6 VDC SUPPLY 

PWR ATTEN REV. RELAY ARMATURE 
STARK AUTO INDICATOR LAMP 

AUX. POWER SUPPLY RSjwOTE/MANUAL 

GAIN ATTEN PWR SUPPLY CONTROL RLY 

GAIN AUTO INDICATOR LAMP 


Figure 6. Relay register 1 connection diagram 



